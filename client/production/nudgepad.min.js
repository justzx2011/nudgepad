/*
 Copyright (c) 2008-2009, Alex Weber
 @see http://anmar.eu.org/projects/jssha2/
 @see http://pajhome.org.uk/crypt/md5

 Distributed under the terms of the new BSD License
 http://www.opensource.org/licenses/bsd-license.php

*/
(function(a,d){function c(a){var b=a.length,d=k.type(a);return k.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===d||"function"!==d&&(0===b||"number"==typeof b&&0<b&&b-1 in a)}function b(a){var b=Qa[a]={};return k.each(a.match(ba)||[],function(a,A){b[A]=!0}),b}function e(a,b,c,e){if(k.acceptData(a)){var g,f,h=k.expando,l=a.nodeType,n=l?k.cache:a,q=l?a[h]:a[h]&&h;if(q&&n[q]&&(e||n[q].data)||c!==d||"string"!=typeof b)return q||(q=l?a[h]=ka.pop()||k.guid++:h),n[q]||(n[q]=l?{}:{toJSON:k.noop}),("object"==
typeof b||"function"==typeof b)&&(e?n[q]=k.extend(n[q],b):n[q].data=k.extend(n[q].data,b)),f=n[q],e||(f.data||(f.data={}),f=f.data),c!==d&&(f[k.camelCase(b)]=c),"string"==typeof b?(g=f[b],null==g&&(g=f[k.camelCase(b)])):g=f,g}}function f(a,b,d){if(k.acceptData(a)){var c,e,g=a.nodeType,f=g?k.cache:a,l=g?a[k.expando]:k.expando;if(f[l]){if(b&&(c=d?f[l]:f[l].data)){k.isArray(b)?b=b.concat(k.map(b,k.camelCase)):b in c?b=[b]:(b=k.camelCase(b),b=b in c?[b]:b.split(" "));for(e=b.length;e--;)delete c[b[e]];
if(d?!h(c):!k.isEmptyObject(c))return}(d||(delete f[l].data,h(f[l])))&&(g?k.cleanData([a],!0):k.support.deleteExpando||f!=f.window?delete f[l]:f[l]=null)}}}function g(a,b,c){if(c===d&&1===a.nodeType){var e="data-"+b.replace(bb,"-$1").toLowerCase();if(c=a.getAttribute(e),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ga.test(c)?k.parseJSON(c):c}catch(g){}k.data(a,b,c)}else c=d}return c}function h(a){for(var b in a)if(("data"!==b||!k.isEmptyObject(a[b]))&&"toJSON"!==
b)return!1;return!0}function l(){return!0}function n(){return!1}function r(){try{return I.activeElement}catch(a){}}function t(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function s(a,b,c){if(k.isFunction(b))return k.grep(a,function(a,A){return!!b.call(a,A,a)!==c});if(b.nodeType)return k.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(kb.test(b))return k.filter(b,a,c);b=k.filter(b,a)}return k.grep(a,function(a){return 0<=k.inArray(a,b)!==c})}function p(a){var b=Ja.split("|");a=
a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function w(a,b){return k.nodeName(a,"table")&&k.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function v(a){return a.type=(null!==k.find.attr(a,"type"))+"/"+a.type,a}function D(a){var b=Nb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function J(a,b){for(var c,d=0;null!=(c=a[d]);d++)k._data(c,"globalEval",
!b||k._data(b[d],"globalEval"))}function O(a,b){if(1===b.nodeType&&k.hasData(a)){var c,d,e;d=k._data(a);var g=k._data(b,d),f=d.events;if(f)for(c in delete g.handle,g.events={},f)for(d=0,e=f[c].length;e>d;d++)k.event.add(b,c,f[c][d]);g.data&&(g.data=k.extend({},g.data))}}function B(a,b){var c,e,g=0,f=typeof a.getElementsByTagName!==R?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==R?a.querySelectorAll(b||"*"):d;if(!f)for(f=[],c=a.childNodes||a;null!=(e=c[g]);g++)!b||k.nodeName(e,b)?f.push(e):
k.merge(f,B(e,b));return b===d||b&&k.nodeName(a,b)?k.merge([a],f):f}function L(a){lb.test(a.type)&&(a.defaultChecked=a.checked)}function m(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=wb.length;e--;)if(b=wb[e]+c,b in a)return b;return d}function C(a,b){return a=b||a,"none"===k.css(a,"display")||!k.contains(a.ownerDocument,a)}function N(a,b){for(var c,d,e,g=[],f=0,h=a.length;h>f;f++)d=a[f],d.style&&(g[f]=k._data(d,"olddisplay"),c=d.style.display,b?(g[f]||"none"!==c||
(d.style.display=""),""===d.style.display&&C(d)&&(g[f]=k._data(d,"olddisplay",U(d.nodeName)))):g[f]||(e=C(d),(c&&"none"!==c||!e)&&k._data(d,"olddisplay",e?c:k.css(d,"display"))));for(f=0;h>f;f++)d=a[f],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?g[f]||"":"none"));return a}function G(a,b,d){return(a=Ob.exec(b))?Math.max(0,a[1]-(d||0))+(a[2]||"px"):b}function y(a,b,d,c,e){b=d===(c?"border":"content")?4:"width"===b?1:0;for(var f=0;4>b;b+=2)"margin"===d&&(f+=k.css(a,
d+Da[b],!0,e)),c?("content"===d&&(f-=k.css(a,"padding"+Da[b],!0,e)),"margin"!==d&&(f-=k.css(a,"border"+Da[b]+"Width",!0,e))):(f+=k.css(a,"padding"+Da[b],!0,e),"padding"!==d&&(f+=k.css(a,"border"+Da[b]+"Width",!0,e)));return f}function S(a,b,d){var c=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ea(a),g=k.support.boxSizing&&"border-box"===k.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),cb.test(e))return e;c=g&&(k.support.boxSizingReliable||e===a.style[b]);
e=parseFloat(e)||0}return e+y(a,b,d||(g?"border":"content"),c,f)+"px"}function U(a){var b=I,d=xb[a];return d||(d=V(a,b),"none"!==d&&d||(Ra=(Ra||k("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(Ra[0].contentWindow||Ra[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),d=V(a,b),Ra.detach()),xb[a]=d),d}function V(a,b){var d=k(b.createElement(a)).appendTo(b.body),c=k.css(d[0],"display");return d.remove(),
c}function Z(a,b,d,c){var e;if(k.isArray(b))k.each(b,function(b,e){d||Pb.test(a)?c(a,e):Z(a+"["+("object"==typeof e?b:"")+"]",e,d,c)});else if(d||"object"!==k.type(b))c(a,b);else for(e in b)Z(a+"["+e+"]",b[e],d,c)}function P(a){return function(b,d){"string"!=typeof b&&(d=b,b="*");var c,e=0,f=b.toLowerCase().match(ba)||[];if(k.isFunction(d))for(;c=f[e++];)"+"===c[0]?(c=c.slice(1)||"*",(a[c]=a[c]||[]).unshift(d)):(a[c]=a[c]||[]).push(d)}}function ca(a,b,c,e){function f(l){var n;return g[l]=!0,k.each(a[l]||
[],function(a,A){var k=A(b,c,e);return"string"!=typeof k||h||g[k]?h?!(n=k):d:(b.dataTypes.unshift(k),f(k),!1)}),n}var g={},h=a===mb;return f(b.dataTypes[0])||!g["*"]&&f("*")}function M(a,b){var c,e,f=k.ajaxSettings.flatOptions||{};for(e in b)b[e]!==d&&((f[e]?a:c||(c={}))[e]=b[e]);return c&&k.extend(!0,a,c),a}function W(){try{return new a.XMLHttpRequest}catch(b){}}function X(){return setTimeout(function(){Ka=d}),Ka=k.now()}function q(a,b,d){for(var c,e=(Sa[b]||[]).concat(Sa["*"]),f=0,g=e.length;g>
f;f++)if(c=e[f].call(d,b,a))return c}function F(a,b,d){var c,e=0,f=db.length,g=k.Deferred().always(function(){delete h.elem}),h=function(){if(c)return!1;for(var b=Ka||X(),b=Math.max(0,l.startTime+l.duration-b),d=1-(b/l.duration||0),e=0,f=l.tweens.length;f>e;e++)l.tweens[e].run(d);return g.notifyWith(a,[l,d,b]),1>d&&f?b:(g.resolveWith(a,[l]),!1)},l=g.promise({elem:a,props:k.extend({},b),opts:k.extend(!0,{specialEasing:{}},d),originalProperties:b,originalOptions:d,startTime:Ka||X(),duration:d.duration,
tweens:[],createTween:function(b,d){var c=k.Tween(a,l.opts,b,d,l.opts.specialEasing[b]||l.opts.easing);return l.tweens.push(c),c},stop:function(b){var d=0,e=b?l.tweens.length:0;if(c)return this;for(c=!0;e>d;d++)l.tweens[d].run(1);return b?g.resolveWith(a,[l,b]):g.rejectWith(a,[l,b]),this}});d=l.props;for(x(d,l.opts.specialEasing);f>e;e++)if(b=db[e].call(l,a,d,l.opts))return b;return k.map(d,q,l),k.isFunction(l.opts.start)&&l.opts.start.call(a,l),k.fx.timer(k.extend(h,{elem:a,anim:l,queue:l.opts.queue})),
l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function x(a,b){var d,c,e,f,g;for(d in a)if(c=k.camelCase(d),e=b[c],f=a[d],k.isArray(f)&&(e=f[1],f=a[d]=f[0]),d!==c&&(a[c]=f,delete a[d]),g=k.cssHooks[c],g&&"expand"in g)for(d in f=g.expand(f),delete a[c],f)d in a||(a[d]=f[d],b[d]=e);else b[c]=e}function H(a,b,d,c,e){return new H.prototype.init(a,b,d,c,e)}function K(a,b){var d,c={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)d=Da[e],c["margin"+d]=c["padding"+
d]=a;return b&&(c.opacity=c.width=a),c}function u(a){return k.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var E,aa,R=typeof d,da=a.location,I=a.document,ma=I.documentElement,ja=a.jQuery,oa=a.$,ha={},ka=[],va=ka.concat,ea=ka.push,z=ka.slice,Y=ka.indexOf,la=ha.toString,pa=ha.hasOwnProperty,qa="1.10.2".trim,k=function(a,b){return new k.fn.init(a,b,aa)},wa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ba=/\S+/g,Ta=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,La=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
eb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ra=/^[\],:{}\s]*$/,Ua=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Ma=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,fb=/^-ms-/,Va=/-([\da-z])/gi,gb=function(a,b){return b.toUpperCase()},ia=function(a){(I.addEventListener||"load"===a.type||"complete"===I.readyState)&&(Wa(),k.ready())},Wa=function(){I.addEventListener?(I.removeEventListener("DOMContentLoaded",ia,!1),a.removeEventListener("load",ia,!1)):(I.detachEvent("onreadystatechange",
ia),a.detachEvent("onload",ia))};k.fn=k.prototype={jquery:"1.10.2",constructor:k,init:function(a,b,c){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:La.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof k?b[0]:b,k.merge(this,k.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:I,!0)),eb.test(e[1])&&k.isPlainObject(b))for(e in b)k.isFunction(this[e])?this[e](b[e]):
this.attr(e,b[e]);return this}if(f=I.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return c.find(a);this.length=1;this[0]=f}return this.context=I,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):k.isFunction(a)?c.ready(a):(a.selector!==d&&(this.selector=a.selector,this.context=a.context),k.makeArray(a,this))},selector:"",length:0,toArray:function(){return z.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=
k.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,b){return k.each(this,a,b)},ready:function(a){return k.ready.promise().done(a),this},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&b>a?[this[a]]:[])},map:function(a){return this.pushStack(k.map(this,function(b,d){return a.call(b,d,b)}))},
end:function(){return this.prevObject||this.constructor(null)},push:ea,sort:[].sort,splice:[].splice};k.fn.init.prototype=k.fn;k.extend=k.fn.extend=function(){var a,b,c,e,f,g,h=arguments[0]||{},l=1,n=arguments.length,q=!1;"boolean"==typeof h&&(q=h,h=arguments[1]||{},l=2);"object"==typeof h||k.isFunction(h)||(h={});for(n===l&&(h=this,--l);n>l;l++)if(null!=(f=arguments[l]))for(e in f)a=h[e],c=f[e],h!==c&&(q&&c&&(k.isPlainObject(c)||(b=k.isArray(c)))?(b?(b=!1,g=a&&k.isArray(a)?a:[]):g=a&&k.isPlainObject(a)?
a:{},h[e]=k.extend(q,g,c)):c!==d&&(h[e]=c));return h};k.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===k&&(a.$=oa),b&&a.jQuery===k&&(a.jQuery=ja),k},isReady:!1,readyWait:1,holdReady:function(a){a?k.readyWait++:k.ready(!0)},ready:function(a){if(!0===a?!--k.readyWait:!k.isReady){if(!I.body)return setTimeout(k.ready);k.isReady=!0;!0!==a&&0<--k.readyWait||(E.resolveWith(I,[k]),k.fn.trigger&&k(I).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===
k.type(a)},isArray:Array.isArray||function(a){return"array"===k.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ha[la.call(a)]||"object":typeof a},isPlainObject:function(a){var b;if(!a||"object"!==k.type(a)||a.nodeType||k.isWindow(a))return!1;try{if(a.constructor&&!pa.call(a,"constructor")&&!pa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.support.ownLast)for(b in a)return pa.call(a,
b);for(b in a);return b===d||pa.call(a,b)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,d){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(d=b,b=!1);b=b||I;var c=eb.exec(a);d=!d&&[];return c?[b.createElement(c[1])]:(c=k.buildFragment([a],b,d),d&&k(d).remove(),k.merge([],c.childNodes))},parseJSON:function(b){return a.JSON&&a.JSON.parse?a.JSON.parse(b):null===b?b:"string"==typeof b&&(b=k.trim(b),b&&ra.test(b.replace(T,
"@").replace(Ma,"]").replace(Ua,"")))?Function("return "+b)():(k.error("Invalid JSON: "+b),d)},parseXML:function(b){var c,e;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(e=new DOMParser,c=e.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(f){c=d}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+b),c},noop:function(){},globalEval:function(b){b&&k.trim(b)&&(a.execScript||function(b){a.eval.call(a,
b)})(b)},camelCase:function(a){return a.replace(fb,"ms-").replace(Va,gb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,k=c(a);if(d)if(k)for(;g>f&&(e=b.apply(a[f],d),!1!==e);f++);else for(f in a){if(e=b.apply(a[f],d),!1===e)break}else if(k)for(;g>f&&(e=b.call(a[f],f,a[f]),!1!==e);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),!1===e)break;return a},trim:qa&&!qa.call("\ufeff\u00a0")?function(a){return null==a?"":qa.call(a)}:
function(a){return null==a?"":(a+"").replace(Ta,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?k.merge(d,"string"==typeof a?[a]:a):ea.call(d,a)),d},inArray:function(a,b,d){var c;if(b){if(Y)return Y.call(b,a,d);c=b.length;for(d=d?0>d?Math.max(0,c+d):d:0;c>d;d++)if(d in b&&b[d]===a)return d}return-1},merge:function(a,b){var c=b.length,e=a.length,f=0;if("number"==typeof c)for(;c>f;f++)a[e++]=b[f];else for(;b[f]!==d;)a[e++]=b[f++];return a.length=e,a},grep:function(a,b,d){var c,
e=[],f=0,g=a.length;for(d=!!d;g>f;f++)c=!!b(a[f],f),d!==c&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,k=[];if(c(a))for(;g>f;f++)e=b(a[f],f,d),null!=e&&(k[k.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(k[k.length]=e);return va.apply([],k)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),k.isFunction(a)?(c=z.call(arguments,2),e=function(){return a.apply(b||this,c.concat(z.call(arguments)))},e.guid=a.guid=a.guid||k.guid++,e):d},access:function(a,
b,c,e,f,g,h){var l=0,n=a.length,q=null==c;if("object"===k.type(c))for(l in f=!0,c)k.access(a,b,l,c[l],!0,g,h);else if(e!==d&&(f=!0,k.isFunction(e)||(h=!0),q&&(h?(b.call(a,e),b=null):(q=b,b=function(a,b,d){return q.call(k(a),d)})),b))for(;n>l;l++)b(a[l],c,h?e:e.call(a[l],l,b(a[l],c)));return f?a:q?b.call(a):n?b(a[0],c):g},now:function(){return(new Date).getTime()},swap:function(a,b,d,c){var e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=d.apply(a,c||[]);for(e in b)a.style[e]=f[e];return d}});
k.ready.promise=function(b){if(!E)if(E=k.Deferred(),"complete"===I.readyState)setTimeout(k.ready);else if(I.addEventListener)I.addEventListener("DOMContentLoaded",ia,!1),a.addEventListener("load",ia,!1);else{I.attachEvent("onreadystatechange",ia);a.attachEvent("onload",ia);var d=!1;try{d=null==a.frameElement&&I.documentElement}catch(c){}d&&d.doScroll&&function Ca(){if(!k.isReady){try{d.doScroll("left")}catch(a){return setTimeout(Ca,50)}Wa();k.ready()}}()}return E.promise(b)};k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){ha["[object "+b+"]"]=b.toLowerCase()});aa=k(I);(function(a,b){function d(a,b,c,e){var A,f,g,k,h;if((b?b.ownerDocument||b:da)!==D&&H(b),b=b||D,c=c||[],!a||"string"!=typeof a)return c;if(1!==(k=b.nodeType)&&9!==k)return[];if(I&&!e){if(A=ra.exec(a))if(g=A[1])if(9===k){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else{if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&J(b,f)&&f.id===g)return c.push(f),c}else{if(A[2])return ba.apply(c,b.getElementsByTagName(a)),
c;if((g=A[3])&&r.getElementsByClassName&&b.getElementsByClassName)return ba.apply(c,b.getElementsByClassName(g)),c}if(r.qsa&&(!C||!C.test(a))){if(f=A=P,g=b,h=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){k=m(a);(A=b.getAttribute("id"))?f=A.replace(ta,"\\$&"):b.setAttribute("id",f);f="[id='"+f+"'] ";for(g=k.length;g--;)k[g]=f+E(k[g]);g=ea.test(a)&&b.parentNode||b;h=k.join(",")}if(h)try{return ba.apply(c,g.querySelectorAll(h)),c}catch(l){}finally{A||b.removeAttribute("id")}}}var Q;a:{a=a.replace(X,
"$1");var na,n;f=m(a);if(!e&&1===f.length){if(Q=f[0]=f[0].slice(0),2<Q.length&&"ID"===(na=Q[0]).type&&r.getById&&9===b.nodeType&&I&&w.relative[Q[1].type]){if(b=(w.find.ID(na.matches[0].replace(fa,ga),b)||[])[0],!b){Q=c;break a}a=a.slice(Q.shift().value.length)}for(k=Ha.needsContext.test(a)?0:Q.length;k--&&(na=Q[k],!w.relative[A=na.type]);)if((n=w.find[A])&&(e=n(na.matches[0].replace(fa,ga),ea.test(Q[0].type)&&b.parentNode||b))){if(Q.splice(k,1),a=e.length&&E(Q),!a){Q=(ba.apply(c,e),c);break a}break}}Q=
(v(a,f)(e,b,!I,c,ea.test(a)),c)}return Q}function c(){function a(d,c){return b.push(d+=" ")>w.cacheLength&&delete a[b.shift()],a[d]=c}var b=[];return a}function e(a){return a[P]=!0,a}function f(a){var b=D.createElement("div");try{return!!a(b)}catch(d){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function g(a,b){for(var d=a.split("|"),c=a.length;c--;)w.attrHandle[d[c]]=b}function h(a,b){var d=b&&a,c=d&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||S)-(~a.sourceIndex||S);if(c)return c;
if(d)for(;d=d.nextSibling;)if(d===b)return-1;return a?1:-1}function l(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function n(a){return function(b){var d=b.nodeName.toLowerCase();return("input"===d||"button"===d)&&b.type===a}}function q(a){return e(function(b){return b=+b,e(function(d,c){for(var e,A=a([],d.length,b),f=A.length;f--;)d[e=A[f]]&&(d[e]=!(c[e]=d[e]))})})}function z(){}function m(a,b){var c,e,A,f,g,k,h;if(g=ma[a+" "])return b?0:g.slice(0);g=a;k=[];for(h=w.preFilter;g;){c&&
!(e=T.exec(g))||(e&&(g=g.slice(e[0].length)||g),k.push(A=[]));c=!1;(e=wa.exec(g))&&(c=e.shift(),A.push({value:c,type:e[0].replace(X," ")}),g=g.slice(c.length));for(f in w.filter)!(e=Ha[f].exec(g))||h[f]&&!(e=h[f](e))||(c=e.shift(),A.push({value:c,type:f,matches:e}),g=g.slice(c.length));if(!c)break}return b?g.length:g?d.error(a):ma(a,k).slice(0)}function E(a){for(var b=0,d=a.length,c="";d>b;b++)c+=a[b].value;return c}function p(a,b,d){var c=b.dir,e=d&&"parentNode"===c,A=N++;return b.first?function(b,
d,A){for(;b=b[c];)if(1===b.nodeType||e)return a(b,d,A)}:function(b,d,f){var g,k,h,l=U+" "+A;if(f)for(;b=b[c];){if((1===b.nodeType||e)&&a(b,d,f))return!0}else for(;b=b[c];)if(1===b.nodeType||e)if(h=b[P]||(b[P]={}),(k=h[c])&&k[0]===l){if(!0===(g=k[1])||g===t)return!0===g}else if(k=h[c]=[l],k[1]=a(b,d,f)||t,!0===k[1])return!0}}function u(a){return 1<a.length?function(b,d,c){for(var e=a.length;e--;)if(!a[e](b,d,c))return!1;return!0}:a[0]}function O(a,b,d,c,e){for(var A,f=[],g=0,k=a.length,h=null!=b;k>
g;g++)(A=a[g])&&(!d||d(A,c,e))&&(f.push(A),h&&b.push(g));return f}function K(a,b,c,A,f,g){return A&&!A[P]&&(A=K(A)),f&&!f[P]&&(f=K(f,g)),e(function(e,g,k,h){var l,Q,n=[],q=[],ua=g.length,z;if(!(z=e)){z=b||"*";for(var m=k.nodeType?[k]:k,Ca=[],E=0,p=m.length;p>E;E++)d(z,m[E],Ca);z=Ca}z=!a||!e&&b?z:O(z,n,a,k,h);m=c?f||(e?a:ua||A)?[]:g:z;if(c&&c(z,m,k,h),A)for(l=O(m,q),A(l,[],k,h),k=l.length;k--;)(Q=l[k])&&(m[q[k]]=!(z[q[k]]=Q));if(e){if(f||a){if(f){l=[];for(k=m.length;k--;)(Q=m[k])&&l.push(z[k]=Q);f(null,
m=[],l,h)}for(k=m.length;k--;)(Q=m[k])&&-1<(l=f?W.call(e,Q):n[k])&&(e[l]=!(g[l]=Q))}}else m=O(m===g?m.splice(ua,m.length):m),f?f(null,g,m,h):ba.apply(g,m)})}function F(a){var b,d,c,e=a.length,A=w.relative[a[0].type];d=A||w.relative[" "];for(var f=A?1:0,g=p(function(a){return a===b},d,!0),k=p(function(a){return-1<W.call(b,a)},d,!0),h=[function(a,d,c){return!A&&(c||d!==aa)||((b=d).nodeType?g(a,d,c):k(a,d,c))}];e>f;f++)if(d=w.relative[a[f].type])h=[p(u(h),d)];else{if(d=w.filter[a[f].type].apply(null,
a[f].matches),d[P]){for(c=++f;e>c&&!w.relative[a[c].type];c++);return K(1<f&&u(h),1<f&&E(a.slice(0,f-1).concat({value:" "===a[f-2].type?"*":""})).replace(X,"$1"),d,c>f&&F(a.slice(f,c)),e>c&&F(a=a.slice(c)),e>c&&E(a))}h.push(d)}return u(h)}function x(a,b){var c=0,A=0<b.length,f=0<a.length,g=function(e,g,k,h,l){var Q,n,q=[],ua=0,z="0",m=e&&[],E=null!=l,Ca=aa,p=e||f&&w.find.TAG("*",l&&g.parentNode||g),u=U+=null==Ca?1:Math.random()||0.1;for(E&&(aa=g!==D&&g,t=c);null!=(l=p[z]);z++){if(f&&l){for(Q=0;n=
a[Q++];)if(n(l,g,k)){h.push(l);break}E&&(U=u,t=++c)}A&&((l=!n&&l)&&ua--,e&&m.push(l))}if(ua+=z,A&&z!==ua){for(Q=0;n=b[Q++];)n(m,q,g,k);if(e){if(0<ua)for(;z--;)m[z]||q[z]||(q[z]=ca.call(h));q=O(q)}ba.apply(h,q);E&&!e&&0<q.length&&1<ua+b.length&&d.uniqueSort(h)}return E&&(U=u,aa=Ca),m};return A?e(g):g}var B,r,t,w,Y,s,v,aa,y,H,D,R,I,C,la,G,J,P="sizzle"+-new Date,da=a.document,U=0,N=0,L=c(),ma=c(),pa=c(),V=!1,M=function(a,b){return a===b?(V=!0,0):0},ja=typeof b,S=-2147483648,qa={}.hasOwnProperty,Z=[],
ca=Z.pop,kb=Z.push,ba=Z.push,oa=Z.slice,W=Z.indexOf||function(a){for(var b=0,d=this.length;d>b;b++)if(this[b]===a)return b;return-1},ha="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ib="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ha+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Ja=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ib.replace(3,8)+")*)|.*)\\)|)",
X=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,T=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,wa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ea=/[\x20\t\r\n\f]*[+~]/,ka=/=[\x20\t\r\n\f]*([^\]'"]*)[\x20\t\r\n\f]*\]/g,nb=RegExp(Ja),va=RegExp("^"+ha+"$"),Ha={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+ib),PSEUDO:RegExp("^"+Ja),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},ia=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ob=/^(?:input|select|textarea|button)$/i,sa=/^h\d$/i,ta=/'|\\/g,fa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
ga=function(a,b,d){a="0x"+b-65536;return a!==a||d?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(55296|a>>10,56320|1023&a)};try{ba.apply(Z=oa.call(da.childNodes),da.childNodes),Z[da.childNodes.length].nodeType}catch(Ta){ba={apply:Z.length?function(a,b){kb.apply(a,oa.call(b))}:function(a,b){for(var d=a.length,c=0;a[d++]=b[c++];);a.length=d-1}}}s=d.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};r=d.support={};H=d.setDocument=function(a){var d=a?a.ownerDocument||
a:da;a=d.defaultView;return d!==D&&9===d.nodeType&&d.documentElement?(D=d,R=d.documentElement,I=!s(d),a&&a.attachEvent&&a!==a.top&&a.attachEvent("onbeforeunload",function(){H()}),r.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),r.getElementsByTagName=f(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),r.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className=
"i",2===a.getElementsByClassName("i").length}),r.getById=f(function(a){return R.appendChild(a).id=P,!d.getElementsByName||!d.getElementsByName(P).length}),r.getById?(w.find.ID=function(a,b){if(typeof b.getElementById!==ja&&I){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}},w.filter.ID=function(a){var b=a.replace(fa,ga);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(fa,ga);return function(a){return(a=typeof a.getAttributeNode!==
ja&&a.getAttributeNode("id"))&&a.value===b}}),w.find.TAG=r.getElementsByTagName?function(a,d){return typeof d.getElementsByTagName!==ja?d.getElementsByTagName(a):b}:function(a,b){var d,c=[],e=0,A=b.getElementsByTagName(a);if("*"===a){for(;d=A[e++];)1===d.nodeType&&c.push(d);return c}return A},w.find.CLASS=r.getElementsByClassName&&function(a,d){return typeof d.getElementsByClassName!==ja&&I?d.getElementsByClassName(a):b},la=[],C=[],(r.qsa=ia.test(d.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>";
a.querySelectorAll("[selected]").length||C.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||C.push(":checked")}),f(function(a){var b=d.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("t","");a.querySelectorAll("[t^='']").length&&C.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll(":enabled").length||
C.push(":enabled",":disabled");a.querySelectorAll("*,:x");C.push(",.*:")})),(r.matchesSelector=ia.test(G=R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&f(function(a){r.disconnectedMatch=G.call(a,"div");G.call(a,"[s!='']:x");la.push("!=",Ja)}),C=C.length&&RegExp(C.join("|")),la=la.length&&RegExp(la.join("|")),J=ia.test(R.contains)||R.compareDocumentPosition?function(a,b){var d=9===a.nodeType?a.documentElement:a,c=b&&b.parentNode;return a===c||!(!c||1!==c.nodeType||
!(d.contains?d.contains(c):a.compareDocumentPosition&&16&a.compareDocumentPosition(c)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},M=R.compareDocumentPosition?function(a,b){if(a===b)return V=!0,0;var c=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return c?1&c||!r.sortDetached&&b.compareDocumentPosition(a)===c?a===d||J(da,a)?-1:b===d||J(da,b)?1:y?W.call(y,a)-W.call(y,b):0:4&c?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var c,e=
0;c=a.parentNode;var A=b.parentNode,f=[a],g=[b];if(a===b)return V=!0,0;if(!c||!A)return a===d?-1:b===d?1:c?-1:A?1:y?W.call(y,a)-W.call(y,b):0;if(c===A)return h(a,b);for(c=a;c=c.parentNode;)f.unshift(c);for(c=b;c=c.parentNode;)g.unshift(c);for(;f[e]===g[e];)e++;return e?h(f[e],g[e]):f[e]===da?-1:g[e]===da?1:0},d):D};d.matches=function(a,b){return d(a,null,null,b)};d.matchesSelector=function(a,b){if((a.ownerDocument||a)!==D&&H(a),b=b.replace(ka,"='$1']"),r.matchesSelector&&I&&!(la&&la.test(b)||C&&C.test(b)))try{var c=
G.call(a,b);if(c||r.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(e){}return 0<d(b,D,null,[a]).length};d.contains=function(a,b){return(a.ownerDocument||a)!==D&&H(a),J(a,b)};d.attr=function(a,d){(a.ownerDocument||a)!==D&&H(a);var c=w.attrHandle[d.toLowerCase()],c=c&&qa.call(w.attrHandle,d.toLowerCase())?c(a,d,!I):b;return c===b?r.attributes||!I?a.getAttribute(d):(c=a.getAttributeNode(d))&&c.specified?c.value:null:c};d.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};d.uniqueSort=function(a){var b,d=[],c=0,e=0;if(V=!r.detectDuplicates,y=!r.sortStable&&a.slice(0),a.sort(M),V){for(;b=a[e++];)b===a[e]&&(c=d.push(e));for(;c--;)a.splice(d[c],1)}return a};Y=d.getText=function(a){var b,d="",c=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=Y(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[c];c++)d+=Y(b);return d};w=d.selectors={cacheLength:50,createPseudo:e,match:Ha,
attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(fa,ga),a[3]=(a[4]||a[5]||"").replace(fa,ga),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||d.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&d.error(a[0]),
a},PSEUDO:function(a){var d,c=!a[5]&&a[2];return Ha.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:c&&nb.test(c)&&(d=m(c,!0))&&(d=c.indexOf(")",c.length-d)-c.length)&&(a[0]=a[0].slice(0,d),a[2]=c.slice(0,d)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(fa,ga).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=L[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&L(a,function(a){return b.test("string"==
typeof a.className&&a.className||typeof a.getAttribute!==ja&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(e){e=d.attr(e,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&-1<e.indexOf(c):"$="===b?c&&e.slice(-c.length)===c:"~="===b?-1<(" "+e+" ").indexOf(c):"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,d,c,e){var A="nth"!==a.slice(0,3),f="last"!==a.slice(-4),g="of-type"===b;return 1===c&&0===
e?function(a){return!!a.parentNode}:function(b,d,k){var h,l,Q,na,n;d=A!==f?"nextSibling":"previousSibling";var q=b.parentNode,ua=g&&b.nodeName.toLowerCase();k=!k&&!g;if(q){if(A){for(;d;){for(l=b;l=l[d];)if(g?l.nodeName.toLowerCase()===ua:1===l.nodeType)return!1;n=d="only"===a&&!n&&"nextSibling"}return!0}if(n=[f?q.firstChild:q.lastChild],f&&k)for(k=q[P]||(q[P]={}),h=k[a]||[],na=h[0]===U&&h[1],Q=h[0]===U&&h[2],l=na&&q.childNodes[na];l=++na&&l&&l[d]||(Q=na=0)||n.pop();){if(1===l.nodeType&&++Q&&l===b){k[a]=
[U,na,Q];break}}else if(k&&(h=(b[P]||(b[P]={}))[a])&&h[0]===U)Q=h[1];else for(;(l=++na&&l&&l[d]||(Q=na=0)||n.pop())&&((g?l.nodeName.toLowerCase()!==ua:1!==l.nodeType)||!++Q||(k&&((l[P]||(l[P]={}))[a]=[U,Q]),l!==b)););return Q-=e,Q===c||0===Q%c&&0<=Q/c}}},PSEUDO:function(a,b){var c,A=w.pseudos[a]||w.setFilters[a.toLowerCase()]||d.error("unsupported pseudo: "+a);return A[P]?A(b):1<A.length?(c=[a,a,"",b],w.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,d){for(var c,e=A(a,b),f=e.length;f--;)c=
W.call(a,e[f]),a[c]=!(d[c]=e[f])}):function(a){return A(a,0,c)}):A}},pseudos:{not:e(function(a){var b=[],d=[],c=v(a.replace(X,"$1"));return c[P]?e(function(a,b,d,e){var A;d=c(a,null,e,[]);for(e=a.length;e--;)(A=d[e])&&(a[e]=!(b[e]=A))}):function(a,e,A){return b[0]=a,c(b,null,A,d),!d.pop()}}),has:e(function(a){return function(b){return 0<d(a,b).length}}),contains:e(function(a){return function(b){return-1<(b.textContent||b.innerText||Y(b)).indexOf(a)}}),lang:e(function(a){return va.test(a||"")||d.error("unsupported lang: "+
a),a=a.replace(fa,ga).toLowerCase(),function(b){var d;do if(d=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return d=d.toLowerCase(),d===a||0===d.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var d=a.location&&a.location.hash;return d&&d.slice(1)===b.id},root:function(a){return a===R},focus:function(a){return a===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===
a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return sa.test(a.nodeName)},input:function(a){return ob.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:q(function(){return[0]}),last:q(function(a,b){return[b-1]}),eq:q(function(a,b,d){return[0>d?d+b:d]}),even:q(function(a,b){for(var d=0;b>d;d+=2)a.push(d);return a}),odd:q(function(a,b){for(var d=1;b>d;d+=2)a.push(d);return a}),lt:q(function(a,b,d){for(b=0>d?d+b:d;0<=--b;)a.push(b);return a}),gt:q(function(a,
b,d){for(d=0>d?d+b:d;b>++d;)a.push(d);return a})}};w.pseudos.nth=w.pseudos.eq;for(B in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[B]=l(B);for(B in{submit:!0,reset:!0})w.pseudos[B]=n(B);z.prototype=w.filters=w.pseudos;w.setFilters=new z;v=d.compile=function(a,b){var d,c=[],e=[],A=pa[a+" "];if(!A){b||(b=m(a));for(d=b.length;d--;)A=F(b[d]),A[P]?c.push(A):e.push(A);A=pa(a,x(e,c))}return A};r.sortStable=P.split("").sort(M).join("")===P;r.detectDuplicates=V;H();r.sortDetached=f(function(a){return 1&
a.compareDocumentPosition(D.createElement("div"))});f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,d,c){return c?b:a.getAttribute(d,"type"===d.toLowerCase()?1:2)});r.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,d,c){return c||"input"!==a.nodeName.toLowerCase()?b:a.defaultValue});f(function(a){return null==
a.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,d,c){var e;return c?b:(e=a.getAttributeNode(d))&&e.specified?e.value:!0===a[d]?d.toLowerCase():null});k.find=d;k.expr=d.selectors;k.expr[":"]=k.expr.pseudos;k.unique=d.uniqueSort;k.text=d.getText;k.isXMLDoc=d.isXML;k.contains=d.contains})(a);var Qa={};k.Callbacks=function(a){a="string"==typeof a?Qa[a]||b(a):k.extend({},a);var c,e,f,
g,l,h,n=[],q=!a.once&&[],z=function(b){e=a.memory&&b;f=!0;l=h||0;h=0;g=n.length;for(c=!0;n&&g>l;l++)if(!1===n[l].apply(b[0],b[1])&&a.stopOnFalse){e=!1;break}c=!1;n&&(q?q.length&&z(q.shift()):e?n=[]:m.disable())},m={add:function(){if(n){var b=n.length;(function Qb(b){k.each(b,function(b,d){var c=k.type(d);"function"===c?a.unique&&m.has(d)||n.push(d):d&&d.length&&"string"!==c&&Qb(d)})})(arguments);c?g=n.length:e&&(h=b,z(e))}return this},remove:function(){return n&&k.each(arguments,function(a,b){for(var d;-1<
(d=k.inArray(b,n,d));)n.splice(d,1),c&&(g>=d&&g--,l>=d&&l--)}),this},has:function(a){return a?-1<k.inArray(a,n):!(!n||!n.length)},empty:function(){return n=[],g=0,this},disable:function(){return n=q=e=d,this},disabled:function(){return!n},lock:function(){return q=d,e||m.disable(),this},locked:function(){return!q},fireWith:function(a,b){return!n||f&&!q||(b=b||[],b=[a,b.slice?b.slice():b],c?q.push(b):z(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m};
k.extend({Deferred:function(a){var b=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),"rejected"],["notify","progress",k.Callbacks("memory")]],d="pending",c={state:function(){return d},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return k.Deferred(function(d){k.each(b,function(b,A){var f=A[0],g=k.isFunction(a[b])&&a[b];e[A[1]](function(){var a=g&&g.apply(this,arguments);a&&k.isFunction(a.promise)?
a.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[f+"With"](this===c?d.promise():this,g?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?k.extend(a,c):c}},e={};return c.pipe=c.then,k.each(b,function(a,A){var f=A[2],g=A[3];c[A[1]]=f.add;g&&f.add(function(){d=g},b[1^a][2].disable,b[2][2].lock);e[A[0]]=function(){return e[A[0]+"With"](this===e?c:this,arguments),this};e[A[0]+"With"]=f.fireWith}),c.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,d=z.call(arguments),
c=d.length,e=1!==c||a&&k.isFunction(a.promise)?c:0,f=1===e?a:k.Deferred(),g=function(a,b,d){return function(c){b[a]=this;d[a]=1<arguments.length?z.call(arguments):c;d===l?f.notifyWith(b,d):--e||f.resolveWith(b,d)}},l,h,n;if(1<c)for(l=Array(c),h=Array(c),n=Array(c);c>b;b++)d[b]&&k.isFunction(d[b].promise)?d[b].promise().done(g(b,n,d)).fail(f.reject).progress(g(b,h,l)):--e;return e||f.resolveWith(n,d),f.promise()}});k.support=function(b){var d,c,e,f,g,l,h=I.createElement("div");if(h.setAttribute("className",
"t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=h.getElementsByTagName("*")||[],c=h.getElementsByTagName("a")[0],!c||!c.style||!d.length)return b;e=I.createElement("select");f=e.appendChild(I.createElement("option"));d=h.getElementsByTagName("input")[0];c.style.cssText="top:1px;float:left;opacity:.5";b.getSetAttribute="t"!==h.className;b.leadingWhitespace=3===h.firstChild.nodeType;b.tbody=!h.getElementsByTagName("tbody").length;b.htmlSerialize=!!h.getElementsByTagName("link").length;
b.style=/top/.test(c.getAttribute("style"));b.hrefNormalized="/a"===c.getAttribute("href");b.opacity=/^0.5/.test(c.style.opacity);b.cssFloat=!!c.style.cssFloat;b.checkOn=!!d.value;b.optSelected=f.selected;b.enctype=!!I.createElement("form").enctype;b.html5Clone="<:nav></:nav>"!==I.createElement("nav").cloneNode(!0).outerHTML;b.inlineBlockNeedsLayout=!1;b.shrinkWrapBlocks=!1;b.pixelPosition=!1;b.deleteExpando=!0;b.noCloneEvent=!0;b.reliableMarginRight=!0;b.boxSizingReliable=!0;d.checked=!0;b.noCloneChecked=
d.cloneNode(!0).checked;e.disabled=!0;b.optDisabled=!f.disabled;try{delete h.test}catch(n){b.deleteExpando=!1}d=I.createElement("input");d.setAttribute("value","");b.input=""===d.getAttribute("value");d.value="t";d.setAttribute("type","radio");b.radioValue="t"===d.value;d.setAttribute("checked","t");d.setAttribute("name","t");c=I.createDocumentFragment();c.appendChild(d);b.appendChecked=d.checked;b.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;h.attachEvent&&(h.attachEvent("onclick",
function(){b.noCloneEvent=!1}),h.cloneNode(!0).click());for(l in{submit:!0,change:!0,focusin:!0})h.setAttribute(c="on"+l,"t"),b[l+"Bubbles"]=c in a||!1===h.attributes[c].expando;h.style.backgroundClip="content-box";h.cloneNode(!0).style.backgroundClip="";b.clearCloneStyle="content-box"===h.style.backgroundClip;for(l in k(b))break;return b.ownLast="0"!==l,k(function(){var d,c,e,f=I.getElementsByTagName("body")[0];f&&(d=I.createElement("div"),d.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",
f.appendChild(d).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=h.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",g=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=g&&0===e[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
k.swap(f,null!=f.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===h.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(h,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(h,null)||{width:"4px"}).width,c=h.appendChild(I.createElement("div")),c.style.cssText=h.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",c.style.marginRight=c.style.width="0",h.style.width="1px",b.reliableMarginRight=
!parseFloat((a.getComputedStyle(c,null)||{}).marginRight)),typeof h.style.zoom!==R&&(h.innerHTML="",h.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==h.offsetWidth,b.inlineBlockNeedsLayout&&(f.style.zoom=1)),f.removeChild(d),
d=h=e=c=null)}),d=e=c=f=c=d=null,b}({});var ga=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,bb=/([A-Z])/g;k.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?k.cache[a[k.expando]]:a[k.expando],!!a&&!h(a)},data:function(a,b,d){return e(a,b,d)},removeData:function(a,b){return f(a,b)},_data:function(a,b,d){return e(a,b,d,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;
var b=a.nodeName&&k.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});k.fn.extend({data:function(a,b){var c,e,f=null,h=0,l=this[0];if(a===d){if(this.length&&(f=k.data(l),1===l.nodeType&&!k._data(l,"parsedAttrs"))){for(c=l.attributes;c.length>h;h++)e=c[h].name,0===e.indexOf("data-")&&(e=k.camelCase(e.slice(5)),g(l,e,f[e]));k._data(l,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){k.data(this,a)}):1<arguments.length?this.each(function(){k.data(this,
a,b)}):l?g(l,a,k.data(l,a)):null},removeData:function(a){return this.each(function(){k.removeData(this,a)})}});k.extend({queue:function(a,b,c){var e;return a?(b=(b||"fx")+"queue",e=k._data(a,b),c&&(!e||k.isArray(c)?e=k._data(a,b,k.makeArray(c)):e.push(c)),e||[]):d},dequeue:function(a,b){b=b||"fx";var d=k.queue(a,b),c=d.length,e=d.shift(),f=k._queueHooks(a,b),g=function(){k.dequeue(a,b)};"inprogress"===e&&(e=d.shift(),c--);e&&("fx"===b&&d.unshift("inprogress"),delete f.stop,e.call(a,g,f));!c&&f&&f.empty.fire()},
_queueHooks:function(a,b){var d=b+"queueHooks";return k._data(a,d)||k._data(a,d,{empty:k.Callbacks("once memory").add(function(){k._removeData(a,b+"queue");k._removeData(a,d)})})}});k.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),c>arguments.length?k.queue(this[0],a):b===d?this:this.each(function(){var d=k.queue(this,a,b);k._queueHooks(this,a);"fx"===a&&"inprogress"!==d[0]&&k.dequeue(this,a)})},dequeue:function(a){return this.each(function(){k.dequeue(this,a)})},
delay:function(a,b){return a=k.fx?k.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,d){var c=setTimeout(b,a);d.stop=function(){clearTimeout(c)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,e=1,f=k.Deferred(),g=this,h=this.length,l=function(){--e||f.resolveWith(g,[g])};"string"!=typeof a&&(b=a,a=d);for(a=a||"fx";h--;)(c=k._data(g[h],a+"queueHooks"))&&c.empty&&(e++,c.empty.add(l));return l(),f.promise(b)}});var xa,Xa,Na=/[\t\r\n\f]/g,Ya=/\r/g,Za=/^(?:input|select|textarea|button|object)$/i,
Aa=/^(?:a|area)$/i,ya=/^(?:checked|selected)$/i,ta=k.support.getSetAttribute,za=k.support.input;k.fn.extend({attr:function(a,b){return k.access(this,k.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){k.removeAttr(this,a)})},prop:function(a,b){return k.access(this,k.prop,a,b,1<arguments.length)},removeProp:function(a){return a=k.propFix[a]||a,this.each(function(){try{this[a]=d,delete this[a]}catch(b){}})},addClass:function(a){var b,d,c,e,f,g=0,h=this.length;b="string"==
typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(ba)||[];h>g;g++)if(d=this[g],c=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(Na," "):" ")){for(f=0;e=b[f++];)0>c.indexOf(" "+e+" ")&&(c+=e+" ");d.className=k.trim(c)}return this},removeClass:function(a){var b,d,c,e,f,g=0,h=this.length;b=0===arguments.length||"string"==typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).removeClass(a.call(this,
b,this.className))});if(b)for(b=(a||"").match(ba)||[];h>g;g++)if(d=this[g],c=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(Na," "):"")){for(f=0;e=b[f++];)for(;0<=c.indexOf(" "+e+" ");)c=c.replace(" "+e+" "," ");d.className=a?k.trim(c):""}return this},toggleClass:function(a,b){var d=typeof a;return"boolean"==typeof b&&"string"===d?b?this.addClass(a):this.removeClass(a):k.isFunction(a)?this.each(function(d){k(this).toggleClass(a.call(this,d,this.className,b),b)}):this.each(function(){if("string"===
d)for(var b,c=0,e=k(this),f=a.match(ba)||[];b=f[c++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(d===R||"boolean"===d)&&(this.className&&k._data(this,"__className__",this.className),this.className=this.className||!1===a?"":k._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;d>b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Na," ").indexOf(a))return!0;return!1},val:function(a){var b,c,e,f=this[0];if(arguments.length)return e=
k.isFunction(a),this.each(function(b){var f;1===this.nodeType&&(f=e?a.call(this,b,k(this).val()):a,null==f?f="":"number"==typeof f?f+="":k.isArray(f)&&(f=k.map(f,function(a){return null==a?"":a+""})),c=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==d||(this.value=f))});if(f)return c=k.valHooks[f.type]||k.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(b=c.get(f,"value"))!==d?b:(b=f.value,"string"==typeof b?b.replace(Ya,""):null==b?"":b)}});k.extend({valHooks:{option:{get:function(a){var b=
k.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,d=a.options,c=a.selectedIndex,e="select-one"===a.type||0>c,f=e?null:[],g=e?c+1:d.length,h=0>c?g:e?c:0;g>h;h++)if(b=d[h],!(!b.selected&&h!==c||(k.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&k.nodeName(b.parentNode,"optgroup"))){if(a=k(b).val(),e)return a;f.push(a)}return f},set:function(a,b){for(var d,c,e=a.options,f=k.makeArray(b),g=e.length;g--;)c=e[g],(c.selected=0<=k.inArray(k(c).val(),
f))&&(d=!0);return d||(a.selectedIndex=-1),f}}},attr:function(a,b,c){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===R?k.prop(a,b,c):(1===g&&k.isXMLDoc(a)||(b=b.toLowerCase(),e=k.attrHooks[b]||(k.expr.match.bool.test(b)?Xa:xa)),c===d?e&&"get"in e&&null!==(f=e.get(a,b))?f:(f=k.find.attr(a,b),null==f?d:f):null!==c?e&&"set"in e&&(f=e.set(a,c,b))!==d?f:(a.setAttribute(b,c+""),c):(k.removeAttr(a,b),d))},removeAttr:function(a,b){var d,c,e=0,f=b&&b.match(ba);if(f&&1===a.nodeType)for(;d=
f[e++];)c=k.propFix[d]||d,k.expr.match.bool.test(d)?za&&ta||!ya.test(d)?a[c]=!1:a[k.camelCase("default-"+d)]=a[c]=!1:k.attr(a,d,""),a.removeAttribute(ta?d:c)},attrHooks:{type:{set:function(a,b){if(!k.support.radioValue&&"radio"===b&&k.nodeName(a,"input")){var d=a.value;return a.setAttribute("type",b),d&&(a.value=d),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!k.isXMLDoc(a),g&&(b=k.propFix[b]||b,f=k.propHooks[b]),
c!==d?f&&"set"in f&&(e=f.set(a,c,b))!==d?e:a[b]=c:f&&"get"in f&&null!==(e=f.get(a,b))?e:a[b]},propHooks:{tabIndex:{get:function(a){var b=k.find.attr(a,"tabindex");return b?parseInt(b,10):Za.test(a.nodeName)||Aa.test(a.nodeName)&&a.href?0:-1}}}});Xa={set:function(a,b,d){return!1===b?k.removeAttr(a,d):za&&ta||!ya.test(d)?a.setAttribute(!ta&&k.propFix[d]||d,d):a[k.camelCase("default-"+d)]=a[d]=!0,d}};k.each(k.expr.match.bool.source.match(/\w+/g),function(a,b){var c=k.expr.attrHandle[b]||k.find.attr;
k.expr.attrHandle[b]=za&&ta||!ya.test(b)?function(a,b,e){var f=k.expr.attrHandle[b];a=e?d:(k.expr.attrHandle[b]=d)!=c(a,b,e)?b.toLowerCase():null;return k.expr.attrHandle[b]=f,a}:function(a,b,c){return c?d:a[k.camelCase("default-"+b)]?b.toLowerCase():null}});za&&ta||(k.attrHooks.value={set:function(a,b,c){return k.nodeName(a,"input")?(a.defaultValue=b,d):xa&&xa.set(a,b,c)}});ta||(xa={set:function(a,b,c){var e=a.getAttributeNode(c);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(c)),
e.value=b+="","value"===c||b===a.getAttribute(c)?b:d}},k.expr.attrHandle.id=k.expr.attrHandle.name=k.expr.attrHandle.coords=function(a,b,c){var e;return c?d:(e=a.getAttributeNode(b))&&""!==e.value?e.value:null},k.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:d},set:xa.set},k.attrHooks.contenteditable={set:function(a,b,d){xa.set(a,""===b?!1:b,d)}},k.each(["width","height"],function(a,b){k.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,
"auto"),c):d}}}));k.support.hrefNormalized||k.each(["href","src"],function(a,b){k.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});k.support.style||(k.attrHooks.style={get:function(a){return a.style.cssText||d},set:function(a,b){return a.style.cssText=b+""}});k.support.optSelected||(k.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}});k.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){k.propFix[this.toLowerCase()]=this});k.support.enctype||(k.propFix.enctype="encoding");k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(a,b){return k.isArray(b)?a.checked=0<=k.inArray(k(a).val(),b):d}};k.support.checkOn||(k.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var fa=/^(?:input|select|textarea)$/i,$a=/^key/,Oa=/^(?:mouse|contextmenu)|click/,hb=/^(?:focusinfocus|focusoutblur)$/,Ga=/^([^.]*)(?:\.(.+)|)$/;k.event={global:{},
add:function(a,b,c,e,f){var g,h,l,n,q,z,m,E,p,u;if(l=k._data(a)){c.handler&&(n=c,c=n.handler,f=n.selector);c.guid||(c.guid=k.guid++);(h=l.events)||(h=l.events={});(z=l.handle)||(z=l.handle=function(a){return typeof k===R||a&&k.event.triggered===a.type?d:k.event.dispatch.apply(z.elem,arguments)},z.elem=a);b=(b||"").match(ba)||[""];for(l=b.length;l--;)g=Ga.exec(b[l])||[],p=u=g[1],g=(g[2]||"").split(".").sort(),p&&(q=k.event.special[p]||{},p=(f?q.delegateType:q.bindType)||p,q=k.event.special[p]||{},
m=k.extend({type:p,origType:u,data:e,handler:c,guid:c.guid,selector:f,needsContext:f&&k.expr.match.needsContext.test(f),namespace:g.join(".")},n),(E=h[p])||(E=h[p]=[],E.delegateCount=0,q.setup&&!1!==q.setup.call(a,e,g,z)||(a.addEventListener?a.addEventListener(p,z,!1):a.attachEvent&&a.attachEvent("on"+p,z))),q.add&&(q.add.call(a,m),m.handler.guid||(m.handler.guid=c.guid)),f?E.splice(E.delegateCount++,0,m):E.push(m),k.event.global[p]=!0);a=null}},remove:function(a,b,d,c,e){var f,g,h,l,n,q,z,m,E,p,
u,O=k.hasData(a)&&k._data(a);if(O&&(q=O.events)){b=(b||"").match(ba)||[""];for(n=b.length;n--;)if(h=Ga.exec(b[n])||[],E=u=h[1],p=(h[2]||"").split(".").sort(),E){z=k.event.special[E]||{};E=(c?z.delegateType:z.bindType)||E;m=q[E]||[];h=h[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=f=m.length;f--;)g=m[f],!e&&u!==g.origType||d&&d.guid!==g.guid||h&&!h.test(g.namespace)||c&&c!==g.selector&&("**"!==c||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,z.remove&&z.remove.call(a,
g));l&&!m.length&&(z.teardown&&!1!==z.teardown.call(a,p,O.handle)||k.removeEvent(a,E,O.handle),delete q[E])}else for(E in q)k.event.remove(a,E+b[n],d,c,!0);k.isEmptyObject(q)&&(delete O.handle,k._removeData(a,"events"))}},trigger:function(b,c,e,f){var g,h,l,n,q,z,m=[e||I],E=pa.call(b,"type")?b.type:b;z=pa.call(b,"namespace")?b.namespace.split("."):[];if(l=g=e=e||I,3!==e.nodeType&&8!==e.nodeType&&!hb.test(E+k.event.triggered)&&(0<=E.indexOf(".")&&(z=E.split("."),E=z.shift(),z.sort()),h=0>E.indexOf(":")&&
"on"+E,b=b[k.expando]?b:new k.Event(E,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=z.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+z.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=d,b.target||(b.target=e),c=null==c?[b]:k.makeArray(c,[b]),q=k.event.special[E]||{},f||!q.trigger||!1!==q.trigger.apply(e,c))){if(!f&&!q.noBubble&&!k.isWindow(e)){n=q.delegateType||E;for(hb.test(n+E)||(l=l.parentNode);l;l=l.parentNode)m.push(l),g=l;g===(e.ownerDocument||I)&&m.push(g.defaultView||g.parentWindow||
a)}for(z=0;(l=m[z++])&&!b.isPropagationStopped();)b.type=1<z?n:q.bindType||E,(g=(k._data(l,"events")||{})[b.type]&&k._data(l,"handle"))&&g.apply(l,c),(g=h&&l[h])&&k.acceptData(l)&&g.apply&&!1===g.apply(l,c)&&b.preventDefault();if(b.type=E,!f&&!b.isDefaultPrevented()&&(!q._default||!1===q._default.apply(m.pop(),c))&&k.acceptData(e)&&h&&e[E]&&!k.isWindow(e)){(g=e[h])&&(e[h]=null);k.event.triggered=E;try{e[E]()}catch(p){}k.event.triggered=d;g&&(e[h]=g)}return b.result}},dispatch:function(a){a=k.event.fix(a);
var b,c,e,f,g,h=[],l=z.call(arguments);b=(k._data(this,"events")||{})[a.type]||[];var n=k.event.special[a.type]||{};if(l[0]=a,a.delegateTarget=this,!n.preDispatch||!1!==n.preDispatch.call(this,a)){h=k.event.handlers.call(this,a,b);for(b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(e.namespace)||(a.handleObj=e,a.data=e.data,c=((k.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,
l),c===d||!1!==(a.result=c)||(a.preventDefault(),a.stopPropagation()));return n.postDispatch&&n.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,e,f,g,h=[],l=b.delegateCount,n=a.target;if(l&&n.nodeType&&(!a.button||"click"!==a.type))for(;n!=this;n=n.parentNode||this)if(1===n.nodeType&&(!0!==n.disabled||"click"!==a.type)){f=[];for(g=0;l>g;g++)e=b[g],c=e.selector+" ",f[c]===d&&(f[c]=e.needsContext?0<=k(c,this).index(n):k.find(c,this,null,[n]).length),f[c]&&f.push(e);f.length&&h.push({elem:n,
handlers:f})}return b.length>l&&h.push({elem:this,handlers:b.slice(l)}),h},fix:function(a){if(a[k.expando])return a;var b,c,d;b=a.type;var e=a,f=this.fixHooks[b];f||(this.fixHooks[b]=f=Oa.test(b)?this.mouseHooks:$a.test(b)?this.keyHooks:{});d=f.props?this.props.concat(f.props):this.props;a=new k.Event(e);for(b=d.length;b--;)c=d[b],a[c]=e[c];return a.target||(a.target=e.srcElement||I),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,e):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button,k=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||I,f=e.documentElement,c=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&
f.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&k&&(a.relatedTarget=k===a.target?b.toElement:k),a.which||g===d||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==r()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===r()&&this.blur?(this.blur(),!1):d},delegateType:"focusout"},click:{trigger:function(){return k.nodeName(this,
"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):d},_default:function(a){return k.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==d&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){a=k.extend(new k.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?k.event.trigger(a,null,b):k.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};k.removeEvent=I.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,
c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]===R&&(a[b]=null),a.detachEvent(b,c))};k.Event=function(a,b){return this instanceof k.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?l:n):this.type=a,b&&k.extend(this,b),this.timeStamp=a&&a.timeStamp||k.now(),this[k.expando]=!0,d):new k.Event(a,b)};k.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=l;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=l;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l;this.stopPropagation()}};k.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){k.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,
d=a.relatedTarget,e=a.handleObj;return(!d||d!==this&&!k.contains(this,d))&&(a.type=e.origType,c=e.handler.apply(this,arguments),a.type=b),c}}});k.support.submitBubbles||(k.event.special.submit={setup:function(){return k.nodeName(this,"form")?!1:(k.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=k.nodeName(a,"input")||k.nodeName(a,"button")?a.form:d)&&!k._data(a,"submitBubbles")&&(k.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),k._data(a,"submitBubbles",!0))}),
d)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&k.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return k.nodeName(this,"form")?!1:(k.event.remove(this,"._submit"),d)}});k.support.changeBubbles||(k.event.special.change={setup:function(){return fa.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(k.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=
!0)}),k.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);k.event.simulate("change",this,a,!0)})),!1):(k.event.add(this,"beforeactivate._change",function(a){a=a.target;fa.test(a.nodeName)&&!k._data(a,"changeBubbles")&&(k.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||k.event.simulate("change",this.parentNode,a,!0)}),k._data(a,"changeBubbles",!0))}),d)},handle:function(a){var b=a.target;return this!==b||a.isSimulated||
a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):d},teardown:function(){return k.event.remove(this,"._change"),!fa.test(this.nodeName)}});k.support.focusinBubbles||k.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){k.event.simulate(b,a.target,k.event.fix(a),!0)};k.event.special[b]={setup:function(){0===c++&&I.addEventListener(a,d,!0)},teardown:function(){0===--c&&I.removeEventListener(a,d,!0)}}});k.fn.extend({on:function(a,b,c,
e,f){var g,h;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=d);for(g in a)this.on(g,b,c,a[g],f);return this}if(null==c&&null==e?(e=b,c=b=d):null==e&&("string"==typeof b?(e=c,c=d):(e=c,c=b,b=d)),!1===e)e=n;else if(!e)return this;return 1===f&&(h=e,e=function(a){return k().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=k.guid++)),this.each(function(){k.event.add(this,a,e,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=
a.handleObj,k(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,b,a[f]);return this}return(!1===b||"function"==typeof b)&&(c=b,b=d),!1===c&&(c=n),this.each(function(){k.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){k.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?k.event.trigger(a,b,c,!0):d}});var kb=/^.[^:#\[\.,]*$/,ib=/^(?:parents|prev(?:Until|All))/,
Ha=k.expr.match.needsContext,nb={children:!0,contents:!0,next:!0,prev:!0};k.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(k(a).filter(function(){for(b=0;e>b;b++)if(k.contains(d[b],this))return!0}));for(b=0;e>b;b++)k.find(a,d[b],c);return c=this.pushStack(1<e?k.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=k(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(k.contains(this,c[b]))return!0})},
not:function(a){return this.pushStack(s(this,a||[],!0))},filter:function(a){return this.pushStack(s(this,a||[],!1))},is:function(a){return!!s(this,"string"==typeof a&&Ha.test(a)?k(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Ha.test(a)||"string"!=typeof a?k(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(g?-1<g.index(c):1===c.nodeType&&k.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(1<f.length?k.unique(f):f)},
index:function(a){return a?"string"==typeof a?k.inArray(this[0],k(a)):k.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?k(a,b):k.makeArray(a&&a.nodeType?[a]:a),c=k.merge(this.get(),c);return this.pushStack(k.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});k.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return k.dir(a,
"parentNode")},parentsUntil:function(a,b,c){return k.dir(a,"parentNode",c)},next:function(a){return t(a,"nextSibling")},prev:function(a){return t(a,"previousSibling")},nextAll:function(a){return k.dir(a,"nextSibling")},prevAll:function(a){return k.dir(a,"previousSibling")},nextUntil:function(a,b,c){return k.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return k.dir(a,"previousSibling",c)},siblings:function(a){return k.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return k.sibling(a.firstChild)},
contents:function(a){return k.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:k.merge([],a.childNodes)}},function(a,b){k.fn[a]=function(c,d){var e=k.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=k.filter(d,e)),1<this.length&&(nb[a]||(e=k.unique(e)),ib.test(a)&&(e=e.reverse())),this.pushStack(e)}});k.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?k.find.matchesSelector(d,a)?[d]:[]:k.find.matches(a,k.grep(b,
function(a){return 1===a.nodeType}))},dir:function(a,b,c){var e=[];for(a=a[b];a&&9!==a.nodeType&&(c===d||1!==a.nodeType||!k(a).is(c));)1===a.nodeType&&e.push(a),a=a[b];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ja="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ob=/ jQuery\d+="(?:null|\d+)"/g,yb=RegExp("<(?:"+Ja+")[\\s/>]",
"i"),pb=/^\s+/,zb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ab=/<([\w:]+)/,Bb=/<tbody/i,Rb=/<|&#?\w+;/,Sb=/<(?:script|style|link)/i,lb=/^(?:checkbox|radio)$/i,Tb=/checked\s*(?:[^=]|=\s*.checked.)/i,Cb=/^$|\/(?:java|ecma)script/i,Nb=/^true\/(.*)/,Ub=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},qb=p(I).appendChild(I.createElement("div"));sa.optgroup=sa.option;sa.tbody=sa.tfoot=sa.colgroup=sa.caption=sa.thead;sa.th=sa.td;k.fn.extend({text:function(a){return k.access(this,function(a){return a===d?k.text(this):this.empty().append((this[0]&&this[0].ownerDocument||I).createTextNode(a))},
null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=w(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?k.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||k.cleanData(B(c)),c.parentNode&&(b&&k.contains(c.ownerDocument,c)&&J(B(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&k.cleanData(B(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&k.nodeName(a,"select")&&(a.options.length=0)}return this},
clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return k.clone(this,a,b)})},html:function(a){return k.access(this,function(a){var b=this[0]||{},c=0,e=this.length;if(a===d)return 1===b.nodeType?b.innerHTML.replace(ob,""):d;if(!("string"!=typeof a||Sb.test(a)||!k.support.htmlSerialize&&yb.test(a)||!k.support.leadingWhitespace&&pb.test(a)||sa[(Ab.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(zb,"<$1></$2>");try{for(;e>c;c++)b=this[c]||{},1===b.nodeType&&(k.cleanData(B(b,
!1)),b.innerHTML=a);b=0}catch(f){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=k.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),k(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=va.apply([],a);var d,e,f,g,h=0,l=this.length,n=this,q=l-1,z=a[0],m=k.isFunction(z);
if(m||!(1>=l||"string"!=typeof z||k.support.checkClone)&&Tb.test(z))return this.each(function(d){var e=n.eq(d);m&&(a[0]=z.call(this,d,e.html()));e.domManip(a,b,c)});if(l&&(g=k.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=g.firstChild,1===g.childNodes.length&&(g=d),d)){f=k.map(B(g,"script"),v);for(e=f.length;l>h;h++)d=g,h!==q&&(d=k.clone(d,!0,!0),e&&k.merge(f,B(d,"script"))),b.call(this[h],d,h);if(e)for(g=f[f.length-1].ownerDocument,k.map(f,D),h=0;e>h;h++)d=f[h],Cb.test(d.type||"")&&!k._data(d,
"globalEval")&&k.contains(g,d)&&(d.src?k._evalUrl(d.src):k.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Ub,"")));g=d=null}return this}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){k.fn[a]=function(a){for(var c=0,d=[],e=k(a),f=e.length-1;f>=c;c++)a=c===f?this:this.clone(!0),k(e[c])[b](a),ea.apply(d,a.get());return this.pushStack(d)}});k.extend({clone:function(a,b,c){var d,e,f,g,h,l=k.contains(a.ownerDocument,
a);if(k.support.html5Clone||k.isXMLDoc(a)||!yb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(qb.innerHTML=a.outerHTML,qb.removeChild(f=qb.firstChild)),!(k.support.noCloneEvent&&k.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||k.isXMLDoc(a)))for(d=B(f),h=B(a),g=0;null!=(e=h[g]);++g)if(d[g]){var n=d[g],q=void 0,z=void 0,m=void 0;if(1===n.nodeType){if(q=n.nodeName.toLowerCase(),!k.support.noCloneEvent&&n[k.expando]){m=k._data(n);for(z in m.events)k.removeEvent(n,z,m.handle);n.removeAttribute(k.expando)}"script"===
q&&n.text!==e.text?(v(n).text=e.text,D(n)):"object"===q?(n.parentNode&&(n.outerHTML=e.outerHTML),k.support.html5Clone&&e.innerHTML&&!k.trim(n.innerHTML)&&(n.innerHTML=e.innerHTML)):"input"===q&&lb.test(e.type)?(n.defaultChecked=n.checked=e.checked,n.value!==e.value&&(n.value=e.value)):"option"===q?n.defaultSelected=n.selected=e.defaultSelected:("input"===q||"textarea"===q)&&(n.defaultValue=e.defaultValue)}}if(b)if(c)for(h=h||B(a),d=d||B(f),g=0;null!=(e=h[g]);g++)O(e,d[g]);else O(a,f);return d=B(f,
"script"),0<d.length&&J(d,!l&&B(a,"script")),f},buildFragment:function(a,b,c,d){for(var e,f,g,h,l,n,q,z=a.length,m=p(b),E=[],u=0;z>u;u++)if(f=a[u],f||0===f)if("object"===k.type(f))k.merge(E,f.nodeType?[f]:f);else if(Rb.test(f)){h=h||m.appendChild(b.createElement("div"));l=(Ab.exec(f)||["",""])[1].toLowerCase();q=sa[l]||sa._default;h.innerHTML=q[1]+f.replace(zb,"<$1></$2>")+q[2];for(e=q[0];e--;)h=h.lastChild;if(!k.support.leadingWhitespace&&pb.test(f)&&E.push(b.createTextNode(pb.exec(f)[0])),!k.support.tbody)for(e=
(f="table"!==l||Bb.test(f)?"<table>"!==q[1]||Bb.test(f)?0:h:h.firstChild)&&f.childNodes.length;e--;)k.nodeName(n=f.childNodes[e],"tbody")&&!n.childNodes.length&&f.removeChild(n);k.merge(E,h.childNodes);for(h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else E.push(b.createTextNode(f));h&&m.removeChild(h);k.support.appendChecked||k.grep(B(E,"input"),L);for(u=0;f=E[u++];)if((!d||-1===k.inArray(f,d))&&(g=k.contains(f.ownerDocument,f),h=B(m.appendChild(f),"script"),g&&J(h),c))for(e=
0;f=h[e++];)Cb.test(f.type||"")&&c.push(f);return m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=k.expando,l=k.cache,n=k.support.deleteExpando,q=k.event.special;null!=(c=a[g]);g++)if((b||k.acceptData(c))&&(e=c[h],f=e&&l[e])){if(f.events)for(d in f.events)q[d]?k.event.remove(c,d):k.removeEvent(c,d,f.handle);l[e]&&(delete l[e],n?delete c[h]:typeof c.removeAttribute!==R?c.removeAttribute(h):c[h]=null,ka.push(e))}},_evalUrl:function(a){return k.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,
"throws":!0})}});k.fn.extend({wrapAll:function(a){if(k.isFunction(a))return this.each(function(b){k(this).wrapAll(a.call(this,b))});if(this[0]){var b=k(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return k.isFunction(a)?this.each(function(b){k(this).wrapInner(a.call(this,b))}):this.each(function(){var b=k(this),c=
b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=k.isFunction(a);return this.each(function(c){k(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,"body")||k(this).replaceWith(this.childNodes)}).end()}});var Ra,Ea,Fa,rb=/alpha\([^)]*\)/i,Vb=/opacity\s*=\s*([^)]*)/,Wb=/^(top|right|bottom|left)$/,Xb=/^(none|table(?!-c[ea]).+)/,Db=/^margin/,Ob=RegExp("^("+wa+")(.*)$","i"),cb=RegExp("^("+wa+")(?!px)[a-z%]+$","i"),Yb=RegExp("^([+-])=("+
wa+")","i"),xb={BODY:"block"},Zb={position:"absolute",visibility:"hidden",display:"block"},Eb={letterSpacing:0,fontWeight:400},Da=["Top","Right","Bottom","Left"],wb=["Webkit","O","Moz","ms"];k.fn.extend({css:function(a,b){return k.access(this,function(a,b,c){var e,f={},g=0;if(k.isArray(b)){e=Ea(a);for(c=b.length;c>g;g++)f[b[g]]=k.css(a,b[g],!1,e);return f}return c!==d?k.style(a,b,c):k.css(a,b)},a,b,1<arguments.length)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(a){return"boolean"==
typeof a?a?this.show():this.hide():this.each(function(){C(this)?k(this).show():k(this).hide()})}});k.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,l=k.camelCase(b),n=a.style;if(b=
k.cssProps[l]||(k.cssProps[l]=m(n,l)),h=k.cssHooks[b]||k.cssHooks[l],c===d)return h&&"get"in h&&(f=h.get(a,!1,e))!==d?f:n[b];if(g=typeof c,"string"===g&&(f=Yb.exec(c))&&(c=(f[1]+1)*f[2]+parseFloat(k.css(a,b)),g="number"),!(null==c||"number"===g&&isNaN(c)||("number"!==g||k.cssNumber[l]||(c+="px"),k.support.clearCloneStyle||""!==c||0!==b.indexOf("background")||(n[b]="inherit"),h&&"set"in h&&(c=h.set(a,c,e))===d)))try{n[b]=c}catch(q){}}},css:function(a,b,c,e){var f,g,h,l=k.camelCase(b);return b=k.cssProps[l]||
(k.cssProps[l]=m(a.style,l)),h=k.cssHooks[b]||k.cssHooks[l],h&&"get"in h&&(g=h.get(a,!0,c)),g===d&&(g=Fa(a,b,e)),"normal"===g&&b in Eb&&(g=Eb[b]),""===c||c?(f=parseFloat(g),!0===c||k.isNumeric(f)?f||0:g):g}});a.getComputedStyle?(Ea=function(b){return a.getComputedStyle(b,null)},Fa=function(a,b,c){var e,f,g,h=(c=c||Ea(a))?c.getPropertyValue(b)||c[b]:d,l=a.style;return c&&(""!==h||k.contains(a.ownerDocument,a)||(h=k.style(a,b)),cb.test(h)&&Db.test(b)&&(e=l.width,f=l.minWidth,g=l.maxWidth,l.minWidth=
l.maxWidth=l.width=h,h=c.width,l.width=e,l.minWidth=f,l.maxWidth=g)),h}):I.documentElement.currentStyle&&(Ea=function(a){return a.currentStyle},Fa=function(a,b,c){var e,f,g;c=(c=c||Ea(a))?c[b]:d;var h=a.style;return null==c&&h&&h[b]&&(c=h[b]),cb.test(c)&&!Wb.test(b)&&(e=h.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),h.left="fontSize"===b?"1em":c,c=h.pixelLeft+"px",h.left=e,g&&(f.left=g)),""===c?"auto":c});k.each(["height","width"],function(a,b){k.cssHooks[b]={get:function(a,c,
e){return c?0===a.offsetWidth&&Xb.test(k.css(a,"display"))?k.swap(a,Zb,function(){return S(a,b,e)}):S(a,b,e):d},set:function(a,c,d){var e=d&&Ea(a);return G(a,c,d?y(a,b,d,k.support.boxSizing&&"border-box"===k.css(a,"boxSizing",!1,e),e):0)}}});k.support.opacity||(k.cssHooks.opacity={get:function(a,b){return Vb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=k.isNumeric(b)?"alpha(opacity="+100*
b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;(1<=b||""===b)&&""===k.trim(f.replace(rb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=rb.test(f)?f.replace(rb,e):f+" "+e)}});k(function(){k.support.reliableMarginRight||(k.cssHooks.marginRight={get:function(a,b){return b?k.swap(a,{display:"inline-block"},Fa,[a,"marginRight"]):d}});!k.support.pixelPosition&&k.fn.position&&k.each(["top","left"],function(a,b){k.cssHooks[b]={get:function(a,c){return c?(c=Fa(a,b),cb.test(c)?
k(a).position()[b]+"px":c):d}}})});k.expr&&k.expr.filters&&(k.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!k.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||k.css(a,"display"))},k.expr.filters.visible=function(a){return!k.expr.filters.hidden(a)});k.each({margin:"",padding:"",border:"Width"},function(a,b){k.cssHooks[a+b]={expand:function(c){var d=0,e={};for(c="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Da[d]+b]=c[d]||c[d-2]||c[0];return e}};Db.test(a)||
(k.cssHooks[a+b].set=G)});var $b=/%20/g,Pb=/\[\]$/,Fb=/\r?\n/g,ac=/^(?:submit|button|image|reset|file)$/i,bc=/^(?:input|select|textarea|keygen)/i;k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=k.prop(this,"elements");return a?k.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!k(this).is(":disabled")&&bc.test(this.nodeName)&&!ac.test(a)&&(this.checked||!lb.test(a))}).map(function(a,b){var c=
k(this).val();return null==c?null:k.isArray(c)?k.map(c,function(a){return{name:b.name,value:a.replace(Fb,"\r\n")}}):{name:b.name,value:c.replace(Fb,"\r\n")}}).get()}});k.param=function(a,b){var c,e=[],f=function(a,b){b=k.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(b===d&&(b=k.ajaxSettings&&k.ajaxSettings.traditional),k.isArray(a)||a.jquery&&!k.isPlainObject(a))k.each(a,function(){f(this.name,this.value)});else for(c in a)Z(c,a[c],b,f);return e.join("&").replace($b,
"+")};k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){k.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});k.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},
delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Ia,Ba,sb=k.now(),tb=/\?/,cc=/#.*$/,Gb=/([?&])_=[^&]*/,dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ec=/^(?:GET|HEAD)$/,fc=/^\/\//,Hb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ib=k.fn.load,Jb={},mb={},Kb="*/".concat("*");try{Ba=da.href}catch(jc){Ba=I.createElement("a"),Ba.href="",Ba=Ba.href}Ia=Hb.exec(Ba.toLowerCase())||[];k.fn.load=function(a,b,c){if("string"!=
typeof a&&Ib)return Ib.apply(this,arguments);var e,f,g,h=this,l=a.indexOf(" ");return 0<=l&&(e=a.slice(l,a.length),a=a.slice(0,l)),k.isFunction(b)?(c=b,b=d):b&&"object"==typeof b&&(g="POST"),0<h.length&&k.ajax({url:a,type:g,dataType:"html",data:b}).done(function(a){f=arguments;h.html(e?k("<div>").append(k.parseHTML(a)).find(e):a)}).complete(c&&function(a,b){h.each(c,f||[a.responseText,b,a])}),this};k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){k.fn[b]=
function(a){return this.on(b,a)}});k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ba,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ia[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",
json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?M(M(a,k.ajaxSettings),b):M(k.ajaxSettings,a)},ajaxPrefilter:P(Jb),ajaxTransport:P(mb),ajax:function(a,b){function c(a,b,e,f){var z,A,F,B,w=b;if(2!==r){r=2;l&&clearTimeout(l);q=d;h=f||"";x.readyState=0<a?4:0;f=200<=a&&300>a||304===a;if(e){F=m;for(var t=x,Y,s,aa,v,D=F.contents,y=F.dataTypes;"*"===y[0];)y.shift(),s===d&&(s=F.mimeType||
t.getResponseHeader("Content-Type"));if(s)for(v in D)if(D[v]&&D[v].test(s)){y.unshift(v);break}if(y[0]in e)aa=y[0];else{for(v in e){if(!y[0]||F.converters[v+" "+y[0]]){aa=v;break}Y||(Y=v)}aa=aa||Y}F=aa?(aa!==y[0]&&y.unshift(aa),e[aa]):d}var H;a:{e=m;Y=F;s=x;aa=f;var R,I,C;F={};t=e.dataTypes.slice();if(t[1])for(R in e.converters)F[R.toLowerCase()]=e.converters[R];for(v=t.shift();v;)if(e.responseFields[v]&&(s[e.responseFields[v]]=Y),!C&&aa&&e.dataFilter&&(Y=e.dataFilter(Y,e.dataType)),C=v,v=t.shift())if("*"===
v)v=C;else if("*"!==C&&C!==v){if(R=F[C+" "+v]||F["* "+v],!R)for(H in F)if(I=H.split(" "),I[1]===v&&(R=F[C+" "+I[0]]||F["* "+I[0]])){!0===R?R=F[H]:!0!==F[H]&&(v=I[0],t.unshift(I[1]));break}if(!0!==R)if(R&&e["throws"])Y=R(Y);else try{Y=R(Y)}catch(la){H={state:"parsererror",error:R?la:"No conversion from "+C+" to "+v};break a}}H={state:"success",data:Y}}F=H;f?(m.ifModified&&(B=x.getResponseHeader("Last-Modified"),B&&(k.lastModified[g]=B),B=x.getResponseHeader("etag"),B&&(k.etag[g]=B)),204===a||"HEAD"===
m.type?w="nocontent":304===a?w="notmodified":(w=F.state,z=F.data,A=F.error,f=!A)):(A=w,(a||!w)&&(w="error",0>a&&(a=0)));x.status=a;x.statusText=(b||w)+"";f?u.resolveWith(E,[z,w,x]):u.rejectWith(E,[x,w,A]);x.statusCode(K);K=d;n&&p.trigger(f?"ajaxSuccess":"ajaxError",[x,m,f?z:A]);O.fireWith(E,[x,w]);n&&(p.trigger("ajaxComplete",[x,m]),--k.active||k.event.trigger("ajaxStop"))}}"object"==typeof a&&(b=a,a=d);b=b||{};var e,f,g,h,l,n,q,z,m=k.ajaxSetup({},b),E=m.context||m,p=m.context&&(E.nodeType||E.jquery)?
k(E):k.event,u=k.Deferred(),O=k.Callbacks("once memory"),K=m.statusCode||{},F={},B={},r=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===r){if(!z)for(z={};b=dc.exec(h);)z[b[1].toLowerCase()]=b[2];b=z[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===r?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return r||(a=B[c]=B[c]||a,F[a]=b),this},overrideMimeType:function(a){return r||(m.mimeType=a),this},statusCode:function(a){var b;
if(a)if(2>r)for(b in a)K[b]=[K[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){a=a||w;return q&&q.abort(a),c(0,a),this}};if(u.promise(x).complete=O.add,x.success=x.done,x.error=x.fail,m.url=((a||m.url||Ba)+"").replace(cc,"").replace(fc,Ia[1]+"//"),m.type=b.method||b.type||m.method||m.type,m.dataTypes=k.trim(m.dataType||"*").toLowerCase().match(ba)||[""],null==m.crossDomain&&(e=Hb.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Ia[1]&&e[2]===Ia[2]&&(e[3]||("http:"===e[1]?"80":
"443"))===(Ia[3]||("http:"===Ia[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=k.param(m.data,m.traditional)),ca(Jb,m,b,x),2===r)return x;(n=m.global)&&0===k.active++&&k.event.trigger("ajaxStart");m.type=m.type.toUpperCase();m.hasContent=!ec.test(m.type);g=m.url;m.hasContent||(m.data&&(g=m.url+=(tb.test(g)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Gb.test(g)?g.replace(Gb,"$1_="+sb++):g+(tb.test(g)?"&":"?")+"_="+sb++));m.ifModified&&(k.lastModified[g]&&x.setRequestHeader("If-Modified-Since",
k.lastModified[g]),k.etag[g]&&x.setRequestHeader("If-None-Match",k.etag[g]));(m.data&&m.hasContent&&!1!==m.contentType||b.contentType)&&x.setRequestHeader("Content-Type",m.contentType);x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Kb+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)x.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(!1===m.beforeSend.call(E,x,m)||2===r))return x.abort();w="abort";for(f in{success:1,error:1,
complete:1})x[f](m[f]);if(q=ca(mb,m,b,x)){x.readyState=1;n&&p.trigger("ajaxSend",[x,m]);m.async&&0<m.timeout&&(l=setTimeout(function(){x.abort("timeout")},m.timeout));try{r=1,q.send(F,c)}catch(t){if(!(2>r))throw t;c(-1,t)}}else c(-1,"No Transport");return x},getJSON:function(a,b,c){return k.get(a,b,c,"json")},getScript:function(a,b){return k.get(a,d,b,"script")}});k.each(["get","post"],function(a,b){k[b]=function(a,c,e,f){return k.isFunction(c)&&(f=f||e,e=c,c=d),k.ajax({url:a,type:b,dataType:f,data:c,
success:e})}});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return k.globalEval(a),a}}});k.ajaxPrefilter("script",function(a){a.cache===d&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});k.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=I.head||k("head")[0]||I.documentElement;return{send:function(d,e){b=I.createElement("script");
b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))};c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(d,!0)}}}});var Lb=[],ub=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Lb.pop()||k.expando+"_"+sb++;return this[a]=!0,a}});k.ajaxPrefilter("json jsonp",
function(b,c,e){var f,g,h,l=!1!==b.jsonp&&(ub.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ub.test(b.data)&&"data");return l||"jsonp"===b.dataTypes[0]?(f=b.jsonpCallback=k.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(ub,"$1"+f):!1!==b.jsonp&&(b.url+=(tb.test(b.url)?"&":"?")+b.jsonp+"="+f),b.converters["script json"]=function(){return h||k.error(f+" was not called"),h[0]},b.dataTypes[0]="json",g=a[f],
a[f]=function(){h=arguments},e.always(function(){a[f]=g;b[f]&&(b.jsonpCallback=c.jsonpCallback,Lb.push(f));h&&k.isFunction(g)&&g(h[0]);h=g=d}),"script"):d});var Pa,ab,gc=0,vb=a.ActiveXObject&&function(){for(var a in Pa)Pa[a](d,!0)};k.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&W()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:W;ab=k.ajaxSettings.xhr();k.support.cors=!!ab&&"withCredentials"in ab;(ab=k.support.ajax=!!ab)&&k.ajaxTransport(function(b){if(!b.crossDomain||
k.support.cors){var c;return{send:function(e,f){var g,h,l=b.xhr();if(b.username?l.open(b.type,b.url,b.async,b.username,b.password):l.open(b.type,b.url,b.async),b.xhrFields)for(h in b.xhrFields)l[h]=b.xhrFields[h];b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType);b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)l.setRequestHeader(h,e[h])}catch(n){}l.send(b.hasContent&&b.data||null);c=function(a,e){var h,n,q,m;try{if(c&&(e||4===l.readyState))if(c=
d,g&&(l.onreadystatechange=k.noop,vb&&delete Pa[g]),e)4!==l.readyState&&l.abort();else{m={};h=l.status;n=l.getAllResponseHeaders();"string"==typeof l.responseText&&(m.text=l.responseText);try{q=l.statusText}catch(z){q=""}h||!b.isLocal||b.crossDomain?1223===h&&(h=204):h=m.text?200:404}}catch(E){e||f(-1,E)}m&&f(h,q,m,n)};b.async?4===l.readyState?setTimeout(c):(g=++gc,vb&&(Pa||(Pa={},k(a).unload(vb)),Pa[g]=c),l.onreadystatechange=c):c()},abort:function(){c&&c(d,!0)}}}});var Ka,jb,hc=/^(?:toggle|show|hide)$/,
Mb=RegExp("^(?:([+-])=|)("+wa+")([a-z%]*)$","i"),ic=/queueHooks$/,db=[function(a,b,c){var d,e,f,g,h,l=this,n={},m=a.style,z=a.nodeType&&C(a),E=k._data(a,"fxshow");c.queue||(g=k._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,l.always(function(){l.always(function(){g.unqueued--;k.queue(a,"fx").length||g.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===
k.css(a,"display")&&"none"===k.css(a,"float")&&(k.support.inlineBlockNeedsLayout&&"inline"!==U(a.nodeName)?m.zoom=1:m.display="inline-block"));c.overflow&&(m.overflow="hidden",k.support.shrinkWrapBlocks||l.always(function(){m.overflow=c.overflow[0];m.overflowX=c.overflow[1];m.overflowY=c.overflow[2]}));for(d in b)(e=b[d],hc.exec(e))&&(delete b[d],f=f||"toggle"===e,e!==(z?"hide":"show"))&&(n[d]=E&&E[d]||k.style(a,d));if(!k.isEmptyObject(n))for(d in E?"hidden"in E&&(z=E.hidden):E=k._data(a,"fxshow",
{}),f&&(E.hidden=!z),z?k(a).show():l.done(function(){k(a).hide()}),l.done(function(){var b;k._removeData(a,"fxshow");for(b in n)k.style(a,b,n[b])}),n)b=q(z?E[d]:0,d,l),d in E||(E[d]=b.start,z&&(b.end=b.start,b.start="width"===d||"height"===d?1:0))}],Sa={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Mb.exec(b),f=e&&e[3]||(k.cssNumber[a]?"":"px"),g=(k.cssNumber[a]||"px"!==f&&+d)&&Mb.exec(k.css(c.elem,a)),h=1,l=20;if(g&&g[3]!==f){f=f||g[3];e=e||[];g=+d||1;do h=h||".5",g/=h,k.style(c.elem,
a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--l)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};k.Animation=k.extend(F,{tweener:function(a,b){k.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Sa[c]=Sa[c]||[],Sa[c].unshift(b)},prefilter:function(a,b){b?db.unshift(a):db.push(a)}});k.Tween=H;H.prototype={constructor:H,init:function(a,b,c,d,e,f){this.elem=a;this.prop=c;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=
d;this.unit=f||(k.cssNumber[c]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var b,c=H.propHooks[this.prop];return this.pos=b=this.options.duration?k.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):H.propHooks._default.set(this),this}};H.prototype.init.prototype=
H.prototype;H.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=k.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){k.fx.step[a.prop]?k.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[k.cssProps[a.prop]]||k.cssHooks[a.prop])?k.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};
k.each(["toggle","show","hide"],function(a,b){var c=k.fn[b];k.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(K(b,!0),a,d,e)}});k.fn.extend({fadeTo:function(a,b,c,d){return this.filter(C).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=k.isEmptyObject(a),f=k.speed(b,c,d);b=function(){var b=F(this,k.extend({},a),f);(e||k._data(this,"finish"))&&b.stop(!0)};return b.finish=b,e||!1===f.queue?this.each(b):this.queue(f.queue,
b)},stop:function(a,b,c){var e=function(a){var b=a.stop;delete a.stop;b(c)};return"string"!=typeof a&&(c=b,b=a,a=d),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,d=null!=a&&a+"queueHooks",f=k.timers,g=k._data(this);if(d)g[d]&&g[d].stop&&e(g[d]);else for(d in g)g[d]&&g[d].stop&&ic.test(d)&&e(g[d]);for(d=f.length;d--;)f[d].elem!==this||null!=a&&f[d].queue!==a||(f[d].anim.stop(c),b=!1,f.splice(d,1));!b&&c||k.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,
c=k._data(this),d=c[a+"queue"];b=c[a+"queueHooks"];var e=k.timers,f=d?d.length:0;c.finish=!0;k.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=e.length;b--;)e[b].elem===this&&e[b].queue===a&&(e[b].anim.stop(!0),e.splice(b,1));for(b=0;f>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}});k.each({slideDown:K("show"),slideUp:K("hide"),slideToggle:K("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){k.fn[a]=function(a,c,d){return this.animate(b,
a,c,d)}});k.speed=function(a,b,c){var d=a&&"object"==typeof a?k.extend({},a):{complete:c||!c&&b||k.isFunction(a)&&a,duration:a,easing:c&&b||b&&!k.isFunction(b)&&b};return d.duration=k.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in k.fx.speeds?k.fx.speeds[d.duration]:k.fx.speeds._default,(null==d.queue||!0===d.queue)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){k.isFunction(d.old)&&d.old.call(this);d.queue&&k.dequeue(this,d.queue)},d};k.easing={linear:function(a){return a},
swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};k.timers=[];k.fx=H.prototype.init;k.fx.tick=function(){var a,b=k.timers,c=0;for(Ka=k.now();b.length>c;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||k.fx.stop();Ka=d};k.fx.timer=function(a){a()&&k.timers.push(a)&&k.fx.start()};k.fx.interval=13;k.fx.start=function(){jb||(jb=setInterval(k.fx.tick,k.fx.interval))};k.fx.stop=function(){clearInterval(jb);jb=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fx.step={};k.expr&&k.expr.filters&&
(k.expr.filters.animated=function(a){return k.grep(k.timers,function(b){return a===b.elem}).length});k.fn.offset=function(a){if(arguments.length)return a===d?this:this.each(function(b){k.offset.setOffset(this,a,b)});var b,c,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g)return b=g.documentElement,k.contains(b,f)?(typeof f.getBoundingClientRect!==R&&(e=f.getBoundingClientRect()),c=u(g),{top:e.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:e.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||
0)}):e};k.offset={setOffset:function(a,b,c){var d=k.css(a,"position");"static"===d&&(a.style.position="relative");var e=k(a),f=e.offset(),g=k.css(a,"top"),h=k.css(a,"left"),l={},n={},q,m;("absolute"===d||"fixed"===d)&&-1<k.inArray("auto",[g,h])?(n=e.position(),q=n.top,m=n.left):(q=parseFloat(g)||0,m=parseFloat(h)||0);k.isFunction(b)&&(b=b.call(a,c,f));null!=b.top&&(l.top=b.top-f.top+q);null!=b.left&&(l.left=b.left-f.left+m);"using"in b?b.using.call(a,l):e.css(l)}};k.fn.extend({position:function(){if(this[0]){var a,
b,c={top:0,left:0},d=this[0];return"fixed"===k.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),k.nodeName(a[0],"html")||(c=a.offset()),c.top+=k.css(a[0],"borderTopWidth",!0),c.left+=k.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-k.css(d,"marginTop",!0),left:b.left-c.left-k.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||ma;a&&!k.nodeName(a,"html")&&"static"===k.css(a,"position");)a=a.offsetParent;return a||
ma})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);k.fn[a]=function(e){return k.access(this,function(a,e,f){var g=u(a);return f===d?g?b in g?g[b]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(c?k(g).scrollLeft():f,c?f:k(g).scrollTop()):a[e]=f,d)},a,e,arguments.length,null)}});k.each({Height:"height",Width:"width"},function(a,b){k.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,e){k.fn[e]=function(e,f){var g=arguments.length&&(c||"boolean"!=
typeof e),h=c||(!0===e||!0===f?"margin":"border");return k.access(this,function(b,c,e){var f;return k.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):e===d?k.css(b,c,h):k.style(b,c,e,h)},b,g?e:d,g,null)}})});k.fn.size=function(){return this.length};k.fn.andSelf=k.fn.addBack;"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=k:(a.jQuery=a.$=
k,"function"==typeof define&&define.amd&&define("jquery",[],function(){return k}))})(window);
var AppendScript=function(a,d){var c=document.createElement("script");c.type="text/javascript";c.src=a;d&&(c.onload=d);document.getElementsByTagName("head")[0].appendChild(c)},csvToSpace=function(a,d){d=d||",";for(var c=RegExp("(\\"+d+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+d+"\\r\\n]*))","gi"),b=[[]],e=null;e=c.exec(a);){var f=e[1];f.length&&f!=d&&b.push([]);e=e[2]?e[2].replace(/""/g,'"'):e[3];b[b.length-1].push(e)}var g=b.shift(),g=g.map(function(a){return a.replace(/ /g,"")}),h=new Space;
b.forEach(function(a,b){var c=new Space;a.forEach(function(a,b){var d=g[b];a&&c.set(d,a)});h.append(b,c)});return h};
$.fn.dimensions=function(){var a={};$(this).each(function(){if(void 0===a.left)a.left=$(this).position().left,a.right=a.left+$(this).outerWidth(),a.top=$(this).position().top,a.bottom=a.top+$(this).outerHeight();else{var d=$(this).position().left,c=d+$(this).outerWidth(),b=$(this).position().top,e=b+$(this).outerHeight();d<a.left&&(a.left=d);c>a.right&&(a.right=c);b<a.top&&(a.top=b);e>a.bottom&&(a.bottom=e)}});a.height=a.bottom-a.top;a.width=a.right-a.left;a.center=a.left+Math.floor(a.width/2);a.middle=
a.top+Math.floor(a.height/2);return a};
(function(a,d){function c(c,d){var e,f,r,t=c.nodeName.toLowerCase();return"area"===t?(e=c.parentNode,f=e.name,c.href&&f&&"map"===e.nodeName.toLowerCase()?(r=a("img[usemap=#"+f+"]")[0],!!r&&b(r)):!1):(/input|select|textarea|button|object/.test(t)?!c.disabled:"a"===t?c.href||d:d)&&b(c)}function b(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,
COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus();d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||
/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(b){if(b!==d)return this.css("zIndex",b);if(this.length){var c,
e;for(b=a(this[0]);b.length&&b[0]!==document;){if(c=b.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(e=parseInt(b.css("zIndex"),10),!isNaN(e)&&0!==e))return e;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):
function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||0<=d)&&c(b,!e)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function e(b,c,d,g){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0;d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0);g&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===c?["Left","Right"]:["Top","Bottom"],
r=c.toLowerCase(),t={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return b===d?t["inner"+c].call(this):this.each(function(){a(this).css(r,e(this,b)+"px")})};a.fn["outer"+c]=function(b,d){return"number"!=typeof b?t["outer"+c].call(this,b):this.each(function(){a(this).css(r,e(this,b,!0,d)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});
a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
a.extend(a.ui,{plugin:{add:function(b,c,d){var e;b=a.ui[b].prototype;for(e in d)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([c,d[e]])},call:function(a,b,c){var d=a.plugins[b];if(d&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;d.length>b;b++)a.options[d[b][0]]&&d[b][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return 0<b[d]?!0:(b[d]=1,e=0<b[d],b[d]=0,e)}})})(jQuery);
(function(a,d){var c=0,b=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(l){}e(b)};a.widget=function(b,c,e){var l,n,r,t,s={},p=b.split(".")[0];b=b.split(".")[1];l=p+"-"+b;e||(e=c,c=a.Widget);a.expr[":"][l.toLowerCase()]=function(b){return!!a.data(b,l)};a[p]=a[p]||{};n=a[p][b];r=a[p][b]=function(a,b){return this._createWidget?(arguments.length&&this._createWidget(a,b),d):new r(a,b)};a.extend(r,n,{version:e.version,
_proto:a.extend({},e),_childConstructors:[]});t=new c;t.options=a.widget.extend({},t.options);a.each(e,function(b,e){return a.isFunction(e)?(s[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=d,b=e.apply(this,arguments),this._super=c,this._superApply=f,b}}(),d):(s[b]=e,d)});r.prototype=a.widget.extend(t,{widgetEventPrefix:n?t.widgetEventPrefix:
b},s,{constructor:r,namespace:p,widgetName:b,widgetFullName:l});n?(a.each(n._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,r,c._proto)}),delete n._childConstructors):c._childConstructors.push(r);a.widget.bridge(b,r)};a.widget.extend=function(c){for(var e,h,l=b.call(arguments,1),n=0,r=l.length;r>n;n++)for(e in l[n])h=l[n][e],l[n].hasOwnProperty(e)&&h!==d&&(c[e]=a.isPlainObject(h)?a.isPlainObject(c[e])?a.widget.extend({},c[e],h):a.widget.extend({},h):h);return c};
a.widget.bridge=function(c,e){var h=e.prototype.widgetFullName||c;a.fn[c]=function(l){var n="string"==typeof l,r=b.call(arguments,1),t=this;return l=!n&&r.length?a.widget.extend.apply(null,[l].concat(r)):l,n?this.each(function(){var b,e=a.data(this,h);return e?a.isFunction(e[l])&&"_"!==l.charAt(0)?(b=e[l].apply(e,r),b!==e&&b!==d?(t=b&&b.jquery?t.pushStack(b.get()):b,!1):d):a.error("no such method '"+l+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+
l+"'")}):this.each(function(){var b=a.data(this,h);b?b.option(l||{})._init():a.data(this,h,new e(l,this))}),t}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0];this.element=a(d);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);
this.bindings=a();this.hoverable=a();this.focusable=a();d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var e,l,n,r=b;
if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(r={},e=b.split("."),b=e.shift(),e.length){l=r[b]=a.widget.extend({},this.options[b]);for(n=0;e.length-1>n;n++)l[e[n]]=l[e[n]]||{},l=l[e[n]];if(b=e.pop(),c===d)return l[b]===d?null:l[b];l[b]=c}else{if(c===d)return this.options[b]===d?null:this.options[b];r[b]=c}return this._setOptions(r),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=
b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,e){var l,n=this;"boolean"!=typeof b&&(e=c,c=b,b=!1);e?(c=l=a(c),this.bindings=this.bindings.add(c)):(e=c,c=this.element,l=this.widget());a.each(e,function(e,
h){function s(){return b||!0!==n.options.disabled&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?n[h]:h).apply(n,arguments):d}"string"!=typeof h&&(s.guid=h.guid=h.guid||s.guid||a.guid++);var p=e.match(/^(\w+)\s*(.*)$/),w=p[1]+n.eventNamespace;(p=p[2])?l.delegate(p,w,s):c.bind(w,s)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"==typeof a?
c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,n=this.options[b];
if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],b=c.originalEvent)for(e in b)e in c||(c[e]=b[e]);return this.element.trigger(c,d),!(a.isFunction(n)&&!1===n.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,n){"string"==typeof e&&(e={effect:e});var r,t=e?!0===e||"number"==typeof e?c:e.effect||c:b;e=e||{};"number"==typeof e&&
(e={duration:e});r=!a.isEmptyObject(e);e.complete=n;e.delay&&d.delay(e.delay);r&&a.effects&&a.effects.effect[t]?d[b](e):t!==b&&d[t]?d[t](e.duration,e.easing,n):d.queue(function(c){a(this)[b]();n&&n.call(d[0]);c()})}})})(jQuery);
(function(a){var d=!1;a(document).mouseup(function(){d=!1});a.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(a){return c._mouseDown(a)}).bind("click."+this.widgetName,function(b){return!0===a.data(b.target,c.widgetName+".preventClickEvent")?(a.removeData(b.target,c.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1):void 0});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!d){this._mouseStarted&&this._mouseUp(c);this._mouseDownEvent=c;var b=this,e=1===c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(c)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return b._mouseMove(a)},this._mouseUpDelegate=function(a){return b._mouseUp(a)},
a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(c){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button?this._mouseUp(c):this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c),this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),
!this._mouseStarted)},_mouseUp:function(c){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,d){function c(a,b,c){return[parseFloat(a[0])*(s.test(a[0])?b/100:1),parseFloat(a[1])*(s.test(a[1])?c/100:1)]}function b(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var e,f=Math.max,g=Math.abs,h=
Math.round,l=/left|center|right/,n=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,t=/^\w+/,s=/%$/,p=a.fn.position;a.position={scrollbarWidth:function(){if(e!==d)return e;var b,c,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),b=g.offsetWidth,f.css("overflow","scroll"),c=g.offsetWidth,b===c&&(c=f[0].clientWidth),f.remove(),e=b-c},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),
d=b.isWindow?"":b.element.css("overflow-y"),c="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth;return{width:"scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:c?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var c=a.isWindow(b[0]);return{element:b,isWindow:c,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}};a.fn.position=
function(d){if(!d||!d.of)return p.apply(this,arguments);d=a.extend({},d);var e,s,J,O,B,L,m=a(d.of),C=a.position.getWithinInfo(d.within),N=a.position.getScrollInfo(C),G=(d.collision||"flip").split(" "),y={};return L=b(m),m[0].preventDefault&&(d.at="left top"),s=L.width,J=L.height,O=L.offset,B=a.extend({},O),a.each(["my","at"],function(){var a,b,c=(d[this]||"").split(" ");1===c.length&&(c=l.test(c[0])?c.concat(["center"]):n.test(c[0])?["center"].concat(c):["center","center"]);c[0]=l.test(c[0])?c[0]:
"center";c[1]=n.test(c[1])?c[1]:"center";a=r.exec(c[0]);b=r.exec(c[1]);y[this]=[a?a[0]:0,b?b[0]:0];d[this]=[t.exec(c[0])[0],t.exec(c[1])[0]]}),1===G.length&&(G[1]=G[0]),"right"===d.at[0]?B.left+=s:"center"===d.at[0]&&(B.left+=s/2),"bottom"===d.at[1]?B.top+=J:"center"===d.at[1]&&(B.top+=J/2),e=c(y.at,s,J),B.left+=e[0],B.top+=e[1],this.each(function(){var b,l,n=a(this),p=n.outerWidth(),r=n.outerHeight(),t=parseInt(a.css(this,"marginLeft"),10)||0,L=parseInt(a.css(this,"marginTop"),10)||0,W=p+t+(parseInt(a.css(this,
"marginRight"),10)||0)+N.width,X=r+L+(parseInt(a.css(this,"marginBottom"),10)||0)+N.height,q=a.extend({},B),F=c(y.my,n.outerWidth(),n.outerHeight());"right"===d.my[0]?q.left-=p:"center"===d.my[0]&&(q.left-=p/2);"bottom"===d.my[1]?q.top-=r:"center"===d.my[1]&&(q.top-=r/2);q.left+=F[0];q.top+=F[1];a.support.offsetFractions||(q.left=h(q.left),q.top=h(q.top));b={marginLeft:t,marginTop:L};a.each(["left","top"],function(c,f){a.ui.position[G[c]]&&a.ui.position[G[c]][f](q,{targetWidth:s,targetHeight:J,elemWidth:p,
elemHeight:r,collisionPosition:b,collisionWidth:W,collisionHeight:X,offset:[e[0]+F[0],e[1]+F[1]],my:d.my,at:d.at,within:C,elem:n})});d.using&&(l=function(a){var b=O.left-q.left,c=b+s-p,e=O.top-q.top,h=e+J-r,l={target:{element:m,left:O.left,top:O.top,width:s,height:J},element:{element:n,left:q.left,top:q.top,width:p,height:r},horizontal:0>c?"left":0<b?"right":"center",vertical:0>h?"top":0<e?"bottom":"middle"};p>s&&s>g(b+c)&&(l.horizontal="center");r>J&&J>g(e+h)&&(l.vertical="middle");l.important=f(g(b),
g(c))>f(g(e),g(h))?"horizontal":"vertical";d.using.call(this,a,l)});n.offset(a.extend(q,{using:l}))})};a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,d=d.width,g=a.left-b.collisionPosition.marginLeft,h=e-g,l=g+b.collisionWidth-d-e;b.collisionWidth>d?0<h&&0>=l?(c=a.left+h+b.collisionWidth-d-e,a.left+=h-c):a.left=0<l&&0>=h?e:h>l?e+d-b.collisionWidth:e:0<h?a.left+=h:0<l?a.left-=l:a.left=f(a.left-g,a.left)},top:function(a,b){var c,d=b.within,d=d.isWindow?
d.scrollTop:d.offset.top,e=b.within.height,g=a.top-b.collisionPosition.marginTop,h=d-g,l=g+b.collisionHeight-e-d;b.collisionHeight>e?0<h&&0>=l?(c=a.top+h+b.collisionHeight-e-d,a.top+=h-c):a.top=0<l&&0>=h?d:h>l?d+e-b.collisionHeight:d:0<h?a.top+=h:0<l?a.top-=l:a.top=f(a.top-g,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,h=e.width,e=e.isWindow?e.scrollLeft:e.offset.left,l=a.left-b.collisionPosition.marginLeft,n=l-e,l=l+b.collisionWidth-h-e,p="left"===b.my[0]?-b.elemWidth:
"right"===b.my[0]?b.elemWidth:0,r="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,t=-2*b.offset[0];0>n?(c=a.left+p+r+t+b.collisionWidth-h-f,(0>c||g(n)>c)&&(a.left+=p+r+t)):0<l&&(d=a.left-b.collisionPosition.marginLeft+p+r+t-e,(0<d||l>g(d))&&(a.left+=p+r+t))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,h=e.height,e=e.isWindow?e.scrollTop:e.offset.top,l=a.top-b.collisionPosition.marginTop,n=l-e,l=l+b.collisionHeight-h-e,p="top"===b.my[1]?-b.elemHeight:"bottom"===
b.my[1]?b.elemHeight:0,r="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,t=-2*b.offset[1];0>n?(d=a.top+p+r+t+b.collisionHeight-h-f,a.top+p+r+t>n&&(0>d||g(n)>d)&&(a.top+=p+r+t)):0<l&&(c=a.top-b.collisionPosition.marginTop+p+r+t-e,a.top+p+r+t>l&&(0<c||l>g(c))&&(a.top+=p+r+t))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,
arguments)}}};(function(){var b,c,d,e,f=document.getElementsByTagName("body")[0];d=document.createElement("div");b=document.createElement(f?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};f&&a.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in c)b.style[e]=c[e];b.appendChild(d);c=f||document.documentElement;c.insertBefore(b,c.firstChild);d.style.cssText="position: absolute; left: 10.7432222px;";d=a(d).offset().left;a.support.offsetFractions=
10<d&&11>d;b.innerHTML="";c.removeChild(b)})()})(jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(d){var c=this.options;return this.helper||c.disabled||0<a(d.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(d),this.handle?(a(!0===c.iframeFix?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(d){var c=this.options;return this.helper=this._createHelper(d),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(d),this.originalPageX=d.pageX,this.originalPageY=d.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),!1===this._trigger("start",d)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d),this._mouseDrag(d,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,d),!0)},_mouseDrag:function(d,
c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(d),this.positionAbs=this._convertPositionTo("absolute"),!c){var b=this._uiHash();if(!1===this._trigger("drag",d,b))return this._mouseUp({}),!1;this.position=b.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&
a.ui.ddmanager.drag(this,d),!1},_mouseStop:function(d){var c=this,b=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(b=a.ui.ddmanager.drop(this,d)),this.dropped&&(b=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!b||"valid"===this.options.revert&&b||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)?a(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==c._trigger("stop",d)&&c._clear()}):!1!==this._trigger("stop",d)&&this._clear(),!1):!1},_mouseUp:function(d){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,d),a.ui.mouse.prototype._mouseUp.call(this,d)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(d){return this.options.handle?
!!a(d.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(d){var c=this.options;d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[d])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(d){"string"==
typeof d&&(d=d.split(" "));a.isArray(d)&&(d={left:+d[0],top:+d[1]||0});"left"in d&&(this.offset.click.left=d.left+this.margins.left);"right"in d&&(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left);"top"in d&&(this.offset.click.top=d.top+this.margins.top);"bottom"in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)},_getParentOffset:function(){var d=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
a.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(d={top:0,left:0}),{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();
return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d,c,b,e=this.options;return e.containment?"window"===e.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top],void 0):"document"===e.containment?(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):e.containment.constructor===Array?(this.containment=e.containment,void 0):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),b=c[0],b&&(d="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),
10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=c),void 0):(this.containment=null,void 0)},_convertPositionTo:function(d,c){c||(c=this.position);var b="absolute"===d?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===
this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*b,left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*b}},_generatePosition:function(d){var c,b,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=d.pageX,n=d.pageY;return this.offset.scroll||(this.offset.scroll=
{top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(b=this.relative_container.offset(),c=[this.containment[0]+b.left,this.containment[1]+b.top,this.containment[2]+b.left,this.containment[3]+b.top]):c=this.containment,d.pageX-this.offset.click.left<c[0]&&(l=c[0]+this.offset.click.left),d.pageY-this.offset.click.top<c[1]&&(n=c[1]+this.offset.click.top),d.pageX-this.offset.click.left>c[2]&&(l=c[2]+this.offset.click.left),d.pageY-this.offset.click.top>
c[3]&&(n=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((n-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,n=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,l=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:
f)),{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(d,c,b){return b=b||this._uiHash(),a.ui.plugin.call(this,d,[c,b]),"drag"===d&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,d,c,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,c){var b=a(this).data("ui-draggable"),e=b.options,f=a.extend({},c,{item:b.element});b.sortables=
[];a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(b.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",d,f))})},stop:function(d,c){var b=a(this).data("ui-draggable"),e=a.extend({},c,{item:b.element});a.each(b.sortables,function(){this.instance.isOver?(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(d),this.instance.options.helper=this.instance.options._helper,"original"===b.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",d,e))})},drag:function(d,c){var b=a(this).data("ui-draggable"),e=this;a.each(b.sortables,function(){var f=!1,g=this;this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(f=!0,a.each(b.sortables,function(){return this.instance.positionAbs=b.positionAbs,this.instance.helperProportions=b.helperProportions,this.instance.offset.click=b.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f}));f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},d.target=this.instance.currentItem[0],this.instance._mouseCapture(d,!0),this.instance._mouseStart(d,!0,!0),this.instance.offset.click.top=b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",d),b.dropped=
this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(d)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",d,this.instance._uiHash(this.instance)),this.instance._mouseStop(d,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
b._trigger("fromSortable",d),b.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var d=a("body"),c=a(this).data("ui-draggable").options;d.css("cursor")&&(c._cursor=d.css("cursor"));d.css("cursor",c.cursor)},stop:function(){var d=a(this).data("ui-draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(d,c){var b=a(c.helper),e=a(this).data("ui-draggable").options;b.css("opacity")&&(e._opacity=b.css("opacity"));b.css("opacity",
e.opacity)},stop:function(d,c){var b=a(this).data("ui-draggable").options;b._opacity&&a(c.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var d=a(this).data("ui-draggable");d.scrollParent[0]!==document&&"HTML"!==d.scrollParent[0].tagName&&(d.overflowOffset=d.scrollParent.offset())},drag:function(d){var c=a(this).data("ui-draggable"),b=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(b.axis&&"x"===b.axis||(c.overflowOffset.top+
c.scrollParent[0].offsetHeight-d.pageY<b.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+b.scrollSpeed:d.pageY-c.overflowOffset.top<b.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-b.scrollSpeed)),b.axis&&"y"===b.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-d.pageX<b.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+b.scrollSpeed:d.pageX-c.overflowOffset.left<b.scrollSensitivity&&(c.scrollParent[0].scrollLeft=
e=c.scrollParent[0].scrollLeft-b.scrollSpeed))):(b.axis&&"x"===b.axis||(d.pageY-a(document).scrollTop()<b.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-b.scrollSpeed):a(window).height()-(d.pageY-a(document).scrollTop())<b.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+b.scrollSpeed))),b.axis&&"y"===b.axis||(d.pageX-a(document).scrollLeft()<b.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-b.scrollSpeed):a(window).width()-(d.pageX-a(document).scrollLeft())<
b.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+b.scrollSpeed))));!1!==e&&a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,d)}});a.ui.plugin.add("draggable","snap",{start:function(){var d=a(this).data("ui-draggable"),c=d.options;d.snapElements=[];a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var b=a(this),c=b.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),
top:c.top,left:c.left})})},drag:function(d,c){var b,e,f,g,h,l,n,r,t,s,p=a(this).data("ui-draggable"),w=p.options,v=w.snapTolerance,D=c.offset.left,J=D+p.helperProportions.width,O=c.offset.top,B=O+p.helperProportions.height;for(t=p.snapElements.length-1;0<=t;t--)h=p.snapElements[t].left,l=h+p.snapElements[t].width,n=p.snapElements[t].top,r=n+p.snapElements[t].height,h-v>J||D>l+v||n-v>B||O>r+v||!a.contains(p.snapElements[t].item.ownerDocument,p.snapElements[t].item)?(p.snapElements[t].snapping&&p.options.snap.release&&
p.options.snap.release.call(p.element,d,a.extend(p._uiHash(),{snapItem:p.snapElements[t].item})),p.snapElements[t].snapping=!1):("inner"!==w.snapMode&&(b=v>=Math.abs(n-B),e=v>=Math.abs(r-O),f=v>=Math.abs(h-J),g=v>=Math.abs(l-D),b&&(c.position.top=p._convertPositionTo("relative",{top:n-p.helperProportions.height,left:0}).top-p.margins.top),e&&(c.position.top=p._convertPositionTo("relative",{top:r,left:0}).top-p.margins.top),f&&(c.position.left=p._convertPositionTo("relative",{top:0,left:h-p.helperProportions.width}).left-
p.margins.left),g&&(c.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),s=b||e||f||g,"outer"!==w.snapMode&&(b=v>=Math.abs(n-O),e=v>=Math.abs(r-B),f=v>=Math.abs(h-D),g=v>=Math.abs(l-J),b&&(c.position.top=p._convertPositionTo("relative",{top:n,left:0}).top-p.margins.top),e&&(c.position.top=p._convertPositionTo("relative",{top:r-p.helperProportions.height,left:0}).top-p.margins.top),f&&(c.position.left=p._convertPositionTo("relative",{top:0,left:h}).left-p.margins.left),
g&&(c.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[t].snapping&&(b||e||f||g||s)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,d,a.extend(p._uiHash(),{snapItem:p.snapElements[t].item})),p.snapElements[t].snapping=b||e||f||g||s)}});a.ui.plugin.add("draggable","stack",{start:function(){var d,c=this.data("ui-draggable").options,c=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||
0)-(parseInt(a(c).css("zIndex"),10)||0)});c.length&&(d=parseInt(a(c[0]).css("zIndex"),10)||0,a(c).each(function(b){a(this).css("zIndex",d+b)}),this.css("zIndex",d+c.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(d,c){var b=a(c.helper),e=a(this).data("ui-draggable").options;b.css("zIndex")&&(e._zIndex=b.css("zIndex"));b.css("zIndex",e.zIndex)},stop:function(d,c){var b=a(this).data("ui-draggable").options;b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})})(jQuery);
(function(a){a.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var d=this.options,c=d.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(c)?c:function(a){return a.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=
a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);d.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var d=0,c=a.ui.ddmanager.droppables[this.options.scope];c.length>d;d++)c[d]===this&&c.splice(d,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,c){"accept"===d&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)});a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=
a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);c&&this._trigger("activate",d,this.ui(c))},_deactivate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",d,this.ui(c))},_over:function(d){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",d,this.ui(c)))},_out:function(d){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",d,this.ui(c)))},_drop:function(d,c){var b=c||a.ui.ddmanager.current,e=!1;return b&&(b.currentItem||b.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var c=
a.data(this,"ui-droppable");return c.options.greedy&&!c.options.disabled&&c.options.scope===b.options.scope&&c.accept.call(c.element[0],b.currentItem||b.element)&&a.ui.intersect(b,a.extend(c,{offset:c.element.offset()}),c.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],b.currentItem||b.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",d,this.ui(b)),
this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(a,c,b){if(!c.offset)return!1;var e,f,g=(a.positionAbs||a.position.absolute).left,h=g+a.helperProportions.width,l=(a.positionAbs||a.position.absolute).top,n=l+a.helperProportions.height,r=c.offset.left,t=r+c.proportions.width,s=c.offset.top,p=s+c.proportions.height;switch(b){case "fit":return g>=r&&t>=h&&l>=s&&p>=n;case "intersect":return g+
a.helperProportions.width/2>r&&t>h-a.helperProportions.width/2&&l+a.helperProportions.height/2>s&&p>n-a.helperProportions.height/2;case "pointer":return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,f=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,f>s&&s+c.proportions.height>f&&e>r&&r+c.proportions.width>e;case "touch":return(l>=s&&p>=l||n>=s&&p>=n||s>l&&n>p)&&(g>=r&&t>=g||h>=r&&t>=h||r>g&&h>t);default:return!1}};a.ui.ddmanager={current:null,
droppables:{"default":[]},prepareOffsets:function(d,c){var b,e,f=a.ui.ddmanager.droppables[d.options.scope]||[],g=c?c.type:null,h=(d.currentItem||d.element).find(":data(ui-droppable)").addBack();b=0;a:for(;f.length>b;b++)if(!(f[b].options.disabled||d&&!f[b].accept.call(f[b].element[0],d.currentItem||d.element))){for(e=0;h.length>e;e++)if(h[e]===f[b].element[0]){f[b].proportions.height=0;continue a}f[b].visible="none"!==f[b].element.css("display");f[b].visible&&("mousedown"===g&&f[b]._activate.call(f[b],
c),f[b].offset=f[b].element.offset(),f[b].proportions={width:f[b].element[0].offsetWidth,height:f[b].element[0].offsetHeight})}},drop:function(d,c){var b=!1;return a.each((a.ui.ddmanager.droppables[d.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(d,this,this.options.tolerance)&&(b=this._drop.call(this,c)||b),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,
c)))}),b},dragStart:function(d,c){d.element.parentsUntil("body").bind("scroll.droppable",function(){d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c)})},drag:function(d,c){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,c);a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var b,e,f,g=a.ui.intersect(d,this,this.options.tolerance);(g=!g&&this.isover?"isout":g&&!this.isover?"isover":null)&&(this.options.greedy&&
(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(b=a.data(f[0],"ui-droppable"),b.greedyChild="isover"===g)),b&&"isover"===g&&(b.isover=!1,b.isout=!0,b._out.call(b,c)),this[g]=!0,this["isout"===g?"isover":"isout"]=!1,this["isover"===g?"_over":"_out"].call(this,c),b&&"isout"===g&&(b.isout=!1,b.isover=!0,b._over.call(b,c)))}})},dragStop:function(d,c){d.element.parentsUntil("body").unbind("scroll.droppable");
d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c)}}})(jQuery);
(function(a){function d(a){return parseInt(a,10)||0}function c(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,d,g,h,l=this,n=this.options;if(this.element.addClass("ui-resizable"),
a.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),
this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;b.length>c;c++)d=a.trim(b[c]),h="ui-resizable-"+d,g=a("<div class='ui-resizable-handle "+h+"'></div>"),g.css({zIndex:n.zIndex}),"se"===d&&g.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(g);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===
String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),a(this.handles[c]).length};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){l.resizing||(this.className&&(g=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),l.axis=g&&g[1]?g[1]:"se")});n.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){n.disabled||(a(this).removeClass("ui-resizable-autohide"),l._handles.show())}).mouseleave(function(){n.disabled||l.resizing||(a(this).addClass("ui-resizable-autohide"),l._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),
this},_mouseCapture:function(b){var c,d,g=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(g=!0);return!this.options.disabled&&g},_mouseStart:function(b){var c,f,g,h=this.options,l=this.element.position(),n=this.element;return this.resizing=!0,/absolute/.test(n.css("position"))?n.css({position:"absolute",top:n.css("top"),left:n.css("left")}):n.is(".ui-draggable")&&n.css({position:"absolute",top:l.top,left:l.left}),this._renderProxy(),c=d(this.helper.css("left")),
f=d(this.helper.css("top")),h.containment&&(c+=a(h.containment).scrollLeft()||0,f+=a(h.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:c,top:f},this.size=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.originalSize=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.originalPosition={left:c,top:f},this.sizeDiff={width:n.outerWidth()-n.width(),height:n.outerHeight()-
n.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof h.aspectRatio?h.aspectRatio:this.originalSize.width/this.originalSize.height||1,g=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===g?this.axis+"-resize":g),n.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c,d=this.helper,g={},h=this.originalMousePosition,l=this.position.top,n=this.position.left,r=this.size.width,t=this.size.height,
s=b.pageX-h.left||0,h=b.pageY-h.top||0,p=this._change[this.axis];return p?(c=p.apply(this,[b,s,h]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),this.position.top!==l&&(g.top=this.position.top+"px"),this.position.left!==n&&(g.left=this.position.left+"px"),this.size.width!==r&&(g.width=this.size.width+"px"),this.size.height!==t&&(g.height=this.size.height+"px"),d.css(g),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(g)||this._trigger("resize",b,this.ui()),!1):!1},_mouseStop:function(b){this.resizing=!1;var c,d,g,h,l,n,r,t=this.options;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),g=d&&a.ui.hasScroll(c[0],"left")?0:this.sizeDiff.height,h=d?0:this.sizeDiff.width,l={width:this.helper.width()-h,height:this.helper.height()-g},n=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,r=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,t.animate||this.element.css(a.extend(l,{top:r,left:n})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!t.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var d,
f,g,h,l;l=this.options;l={minWidth:c(l.minWidth)?l.minWidth:0,maxWidth:c(l.maxWidth)?l.maxWidth:1/0,minHeight:c(l.minHeight)?l.minHeight:0,maxHeight:c(l.maxHeight)?l.maxHeight:1/0};(this._aspectRatio||a)&&(d=l.minHeight*this.aspectRatio,g=l.minWidth/this.aspectRatio,f=l.maxHeight*this.aspectRatio,h=l.maxWidth/this.aspectRatio,d>l.minWidth&&(l.minWidth=d),g>l.minHeight&&(l.minHeight=g),l.maxWidth>f&&(l.maxWidth=f),l.maxHeight>h&&(l.maxHeight=h));this._vBoundaries=l},_updateCache:function(a){this.offset=
this.helper.offset();c(a.left)&&(this.position.left=a.left);c(a.top)&&(this.position.top=a.top);c(a.height)&&(this.size.height=a.height);c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var d=this.position,f=this.size,g=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===g&&(a.left=d.left+(f.width-a.width),a.top=null),"nw"===g&&(a.top=d.top+(f.height-a.height),a.left=d.left+(f.width-a.width)),a},_respectSize:function(a){var d=
this._vBoundaries,f=this.axis,g=c(a.width)&&d.maxWidth&&d.maxWidth<a.width,h=c(a.height)&&d.maxHeight&&d.maxHeight<a.height,l=c(a.width)&&d.minWidth&&d.minWidth>a.width,n=c(a.height)&&d.minHeight&&d.minHeight>a.height,r=this.originalPosition.left+this.originalSize.width,t=this.position.top+this.size.height,s=/sw|nw|w/.test(f),f=/nw|ne|n/.test(f);return l&&(a.width=d.minWidth),n&&(a.height=d.minHeight),g&&(a.width=d.maxWidth),h&&(a.height=d.maxHeight),l&&s&&(a.left=r-d.minWidth),g&&s&&(a.left=r-d.maxWidth),
n&&f&&(a.top=t-d.minHeight),h&&f&&(a.top=t-d.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,c,d,g,h,l=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(h=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],d=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],
g=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")],c=0;d.length>c;c++)this.borderDif[c]=(parseInt(d[c],10)||0)+(parseInt(g[c],10)||0);h.css({height:l.height()-this.borderDif[0]-this.borderDif[2]||0,width:l.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,c){return{width:this.originalSize.width+c}},w:function(a,c){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(a,c,d){return{top:this.originalPosition.top+d,height:this.originalSize.height-d}},s:function(a,c,d){return{height:this.originalSize.height+
d}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]);
"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("ui-resizable"),d=c.options,g=c._proportionallyResizeElements,h=g.length&&/textarea/i.test(g[0].nodeName),l=h&&a.ui.hasScroll(g[0],"left")?0:c.sizeDiff.height,h=
{width:c.size.width-(h?0:c.sizeDiff.width),height:c.size.height-l},l=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,n=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(h,n&&l?{top:n,left:l}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),
10)};g&&g.length&&a(g[0]).css({width:d.width,height:d.height});c._updateCache(d);c._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var b,c,f,g,h,l,n,r=a(this).data("ui-resizable"),t=r.element,s=r.options.containment;(t=s instanceof a?s.get(0):/parent/.test(s)?t.parent().get(0):s)&&(r.containerElement=a(t),/document/.test(s)||s===document?(r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(t),c=[],a(["Top","Right","Left","Bottom"]).each(function(a,f){c[a]=d(b.css("padding"+f))}),r.containerOffset=b.offset(),r.containerPosition=b.position(),r.containerSize={height:b.innerHeight()-c[3],width:b.innerWidth()-c[1]},f=r.containerOffset,g=r.containerSize.height,h=r.containerSize.width,l=a.ui.hasScroll(t,"left")?t.scrollWidth:h,n=a.ui.hasScroll(t)?t.scrollHeight:g,r.parentData={element:t,left:f.left,top:f.top,width:l,
height:n}))},resize:function(b){var c,d,g,h,l=a(this).data("ui-resizable");c=l.options;d=l.containerOffset;g=l.position;b=l._aspectRatio||b.shiftKey;h={top:0,left:0};var n=l.containerElement;n[0]!==document&&/static/.test(n.css("position"))&&(h=d);g.left<(l._helper?d.left:0)&&(l.size.width+=l._helper?l.position.left-d.left:l.position.left-h.left,b&&(l.size.height=l.size.width/l.aspectRatio),l.position.left=c.helper?d.left:0);g.top<(l._helper?d.top:0)&&(l.size.height+=l._helper?l.position.top-d.top:
l.position.top,b&&(l.size.width=l.size.height*l.aspectRatio),l.position.top=l._helper?d.top:0);l.offset.left=l.parentData.left+l.position.left;l.offset.top=l.parentData.top+l.position.top;c=Math.abs(l.offset.left-h.left+l.sizeDiff.width);d=Math.abs((l._helper?l.offset.top-h.top:l.offset.top-d.top)+l.sizeDiff.height);g=l.containerElement.get(0)===l.element.parent().get(0);h=/relative|absolute/.test(l.containerElement.css("position"));g&&h&&(c-=l.parentData.left);c+l.size.width>=l.parentData.width&&
(l.size.width=l.parentData.width-c,b&&(l.size.height=l.size.width/l.aspectRatio));d+l.size.height>=l.parentData.height&&(l.size.height=l.parentData.height-d,b&&(l.size.width=l.size.height*l.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.containerOffset,g=b.containerPosition,h=b.containerElement,l=a(b.helper),n=l.offset(),r=l.outerWidth()-b.sizeDiff.width,l=l.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(h.css("position"))&&a(this).css({left:n.left-
g.left-d.left,width:r,height:l});b._helper&&!c.animate&&/static/.test(h.css("position"))&&a(this).css({left:n.left-g.left-d.left,width:r,height:l})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable").options,c=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?
c(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],c(b.alsoResize)):a.each(b.alsoResize,function(a){c(a)})},resize:function(b,c){var d=a(this).data("ui-resizable"),g=d.options,h=d.originalSize,l=d.originalPosition,n={height:d.size.height-h.height||0,width:d.size.width-h.width||0,top:d.position.top-l.top||0,left:d.position.left-l.left||0},r=function(b,d){a(b).each(function(){var b=a(this),f=a(this).data("ui-resizable-alsoresize"),g={},h=d&&d.length?d:b.parents(c.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(h,function(a,b){var c=(f[b]||0)+(n[b]||0);c&&0<=c&&(g[b]=c||null)});b.css(g)})};"object"!=typeof g.alsoResize||g.alsoResize.nodeType?r(g.alsoResize):a.each(g.alsoResize,function(a,b){r(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,display:"block",position:"relative",
height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),
c=b.options,d=b.size,g=b.originalSize,h=b.originalPosition,l=b.axis,n="number"==typeof c.grid?[c.grid,c.grid]:c.grid,r=n[0]||1,t=n[1]||1,s=Math.round((d.width-g.width)/r)*r,d=Math.round((d.height-g.height)/t)*t,p=g.width+s,g=g.height+d,w=c.maxWidth&&p>c.maxWidth,v=c.maxHeight&&g>c.maxHeight,D=c.minWidth&&c.minWidth>p,J=c.minHeight&&c.minHeight>g;c.grid=n;D&&(p+=r);J&&(g+=t);w&&(p-=r);v&&(g-=t);/^(se|s|e)$/.test(l)?(b.size.width=p,b.size.height=g):/^(ne)$/.test(l)?(b.size.width=p,b.size.height=g,b.position.top=
h.top-d):/^(sw)$/.test(l)?(b.size.width=p,b.size.height=g,b.position.left=h.left-s):(b.size.width=p,b.size.height=g,b.position.top=h.top-d,b.position.left=h.left-s)}})})(jQuery);
(function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var d,c=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){d=a(c.options.filter,c.element[0]);d.addClass("ui-selectee");d.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,
left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=d.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(d){var c=this,b=this.options;this.opos=[d.pageX,d.pageY];this.options.disabled||(this.selectees=a(b.filter,this.element[0]),this._trigger("start",d),a(b.appendTo).append(this.helper),this.helper.css({left:d.pageX,top:d.pageY,width:0,height:0}),b.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var b=a.data(this,"selectable-item");b.startselected=!0;d.metaKey||d.ctrlKey||(b.$element.removeClass("ui-selected"),b.selected=!1,
b.$element.addClass("ui-unselecting"),b.unselecting=!0,c._trigger("unselecting",d,{unselecting:b.element}))}),a(d.target).parents().addBack().each(function(){var b,f=a.data(this,"selectable-item");return f?(b=!d.metaKey&&!d.ctrlKey||!f.$element.hasClass("ui-selected"),f.$element.removeClass(b?"ui-unselecting":"ui-selected").addClass(b?"ui-selecting":"ui-unselecting"),f.unselecting=!b,f.selecting=b,f.selected=b,b?c._trigger("selecting",d,{selecting:f.element}):c._trigger("unselecting",d,{unselecting:f.element}),
!1):void 0}))},_mouseDrag:function(d){if(this.dragged=!0,!this.options.disabled){var c,b=this,e=this.options,f=this.opos[0],g=this.opos[1],h=d.pageX,l=d.pageY;return f>h&&(c=h,h=f,f=c),g>l&&(c=l,l=g,g=c),this.helper.css({left:f,top:g,width:h-f,height:l-g}),this.selectees.each(function(){var c=a.data(this,"selectable-item"),r=!1;c&&c.element!==b.element[0]&&("touch"===e.tolerance?r=!(c.left>h||f>c.right||c.top>l||g>c.bottom):"fit"===e.tolerance&&(r=c.left>f&&h>c.right&&c.top>g&&l>c.bottom),r?(c.selected&&
(c.$element.removeClass("ui-selected"),c.selected=!1),c.unselecting&&(c.$element.removeClass("ui-unselecting"),c.unselecting=!1),c.selecting||(c.$element.addClass("ui-selecting"),c.selecting=!0,b._trigger("selecting",d,{selecting:c.element}))):(c.selecting&&((d.metaKey||d.ctrlKey)&&c.startselected?(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.$element.addClass("ui-selected"),c.selected=!0):(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.startselected&&(c.$element.addClass("ui-unselecting"),
c.unselecting=!0),b._trigger("unselecting",d,{unselecting:c.element}))),c.selected&&(d.metaKey||d.ctrlKey||c.startselected||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,b._trigger("unselecting",d,{unselecting:c.element})))))}),!1}},_mouseStop:function(d){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var b=a.data(this,"selectable-item");b.$element.removeClass("ui-unselecting");b.unselecting=!1;b.startselected=
!1;c._trigger("unselected",d,{unselected:b.element})}),a(".ui-selecting",this.element[0]).each(function(){var b=a.data(this,"selectable-item");b.$element.removeClass("ui-selecting").addClass("ui-selected");b.selecting=!1;b.selected=!0;b.startselected=!0;c._trigger("selected",d,{selected:b.element})}),this._trigger("stop",d),this.helper.remove(),!1}})})(jQuery);
(function(a){function d(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",
zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||d(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();
for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(c,b){"disabled"===c?(this.options[c]=b,this.widget().toggleClass("ui-sortable-disabled",!!b)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(c,b){var d=null,f=!1,g=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(c),a(c.target).parents().each(function(){return a.data(this,g.widgetName+"-item")===
g?(d=a(this),!1):void 0}),a.data(c.target,g.widgetName+"-item")===g&&(d=a(c.target)),d?!this.options.handle||b||(a(this.options.handle,d).find("*").addBack().each(function(){this===c.target&&(f=!0)}),f)?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(c,b,d){var f;b=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(c),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),
this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),b.containment&&this._setContainment(),b.cursor&&"auto"!==b.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",b.cursor),this.storedStylesheet=a("<style>*{ cursor: "+b.cursor+" !important; }</style>").appendTo(f)),b.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",b.opacity)),b.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",b.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",c,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("activate",c,this._uiHash(this));return a.ui.ddmanager&&
(a.ui.ddmanager.current=this),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(c),!0},_mouseDrag:function(c){var b,d,f,g;b=this.options;var h=!1;this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-c.pageY<b.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+b.scrollSpeed:c.pageY-this.overflowOffset.top<b.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-b.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-c.pageX<b.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+b.scrollSpeed:c.pageX-this.overflowOffset.left<b.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
h=this.scrollParent[0].scrollLeft-b.scrollSpeed)):(c.pageY-a(document).scrollTop()<b.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-b.scrollSpeed):a(window).height()-(c.pageY-a(document).scrollTop())<b.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+b.scrollSpeed)),c.pageX-a(document).scrollLeft()<b.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-b.scrollSpeed):a(window).width()-(c.pageX-a(document).scrollLeft())<b.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+
b.scrollSpeed))),!1!==h&&a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(b=this.items.length-1;0<=b;b--)if(d=this.items[b],f=d.item[0],g=this._intersectsWithPointer(d),g&&d.instance===this.currentContainer&&f!==this.currentItem[0]&&
this.placeholder[1===g?"next":"prev"]()[0]!==f&&!a.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],f):!0)){if(this.direction=1===g?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(c,d);this._trigger("change",c,this._uiHash());break}return this._contactContainers(c),a.ui.ddmanager&&a.ui.ddmanager.drag(this,c),this._trigger("sort",c,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(c,
b){if(c){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,c),this.options.revert){var d=this,f=this.placeholder.offset(),g=this.options.axis,h={};g&&"x"!==g||(h.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));g&&"y"!==g||(h.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;a(this.helper).animate(h,parseInt(this.options.revert,
10)||500,function(){d._clear(c)})}else this._clear(c,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("deactivate",null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=
0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var b=this._getItemsAsjQuery(c&&c.connected),d=[];return c=
c||{},a(b).each(function(){var b=(a(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[\-=_](.+)/);b&&d.push((c.key||b[1]+"[]")+"="+(c.key&&c.expression?b[1]:b[2]))}),!d.length&&c.key&&d.push(c.key+"="),d.join("&")},toArray:function(c){var b=this._getItemsAsjQuery(c&&c.connected),d=[];return c=c||{},b.each(function(){d.push(a(c.item||this).attr(c.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,d=b+this.helperProportions.width,f=this.positionAbs.top,
g=f+this.helperProportions.height,h=a.left,l=h+a.width,n=a.top,r=n+a.height,t=this.offset.click.top,s=this.offset.click.left,s="y"===this.options.axis||b+s>h&&l>b+s,t=("x"===this.options.axis||f+t>n&&r>f+t)&&s;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?t:b+this.helperProportions.width/2>h&&l>d-this.helperProportions.width/2&&f+this.helperProportions.height/
2>n&&r>g-this.helperProportions.height/2},_intersectsWithPointer:function(a){var b="y"===this.options.axis||this.positionAbs.left+this.offset.click.left>a.left&&a.left+a.width>this.positionAbs.left+this.offset.click.left;a=("x"===this.options.axis||this.positionAbs.top+this.offset.click.top>a.top&&a.top+a.height>this.positionAbs.top+this.offset.click.top)&&b;var b=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return a?this.floating?d&&"right"===d||"down"===b?2:1:b&&("down"===
b?2:1):!1},_intersectsWithSides:function(a){var b=this.positionAbs.top+this.offset.click.top>a.top+a.height/2&&a.top+a.height/2+a.height>this.positionAbs.top+this.offset.click.top;a=this.positionAbs.left+this.offset.click.left>a.left+a.width/2&&a.left+a.width/2+a.width>this.positionAbs.left+this.offset.click.left;var d=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&a||"left"===f&&!a:d&&("down"===d&&b||"up"===d&&!b)},_getDragVerticalDirection:function(){var a=
this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(c){var b,d,f,g=[],h=[],l=this._connectWith();if(l&&c)for(c=l.length-1;0<=
c;c--)for(d=a(l[c]),b=d.length-1;0<=b;b--)(f=a.data(d[b],this.widgetFullName))&&f!==this&&!f.options.disabled&&h.push([a.isFunction(f.options.items)?f.options.items.call(f.element):a(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f]);h.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);
for(c=h.length-1;0<=c;c--)h[c][0].each(function(){g.push(this)});return a(g)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var d=0;c.length>d;d++)if(c[d]===a.item[0])return!1;return!0})},_refreshItems:function(c){this.items=[];this.containers=[this];var b,d,f,g,h,l=this.items,n=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):a(this.options.items,
this.element),this]];if((h=this._connectWith())&&this.ready)for(b=h.length-1;0<=b;b--)for(f=a(h[b]),d=f.length-1;0<=d;d--)(g=a.data(f[d],this.widgetFullName))&&g!==this&&!g.options.disabled&&(n.push([a.isFunction(g.options.items)?g.options.items.call(g.element[0],c,{item:this.currentItem}):a(g.options.items,g.element),g]),this.containers.push(g));for(b=n.length-1;0<=b;b--)for(c=n[b][1],f=n[b][0],d=0,h=f.length;h>d;d++)g=a(f[d]),g.data(this.widgetName+"-item",c),l.push({item:g,instance:c,width:0,height:0,
left:0,top:0})},refreshPositions:function(c){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var b,d,f,g;for(b=this.items.length-1;0<=b;b--)d=this.items[b],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,c||(d.width=f.outerWidth(),d.height=f.outerHeight()),g=f.offset(),d.left=g.left,d.top=g.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);
else for(b=this.containers.length-1;0<=b;b--)g=this.containers[b].element.offset(),this.containers[b].containerCache.left=g.left,this.containers[b].containerCache.top=g.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),this.containers[b].containerCache.height=this.containers[b].element.outerHeight();return this},_createPlaceholder:function(c){c=c||this;var b,d=c.options;d.placeholder&&d.placeholder.constructor!==String||(b=d.placeholder,d.placeholder={element:function(){var d=
c.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",c.document[0]).addClass(b||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?c.currentItem.children().each(function(){a("<td>&#160;</td>",c.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",c.currentItem.attr("src")),b||e.css("visibility","hidden"),e},update:function(a,g){(!b||d.forcePlaceholderSize)&&(g.height()||g.height(c.currentItem.innerHeight()-
parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),g.width()||g.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10)))}});c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);d.placeholder.update(c,c.placeholder)},_contactContainers:function(c){var b,e,f,g,h,l,n,r,t,s=e=null;for(b=this.containers.length-1;0<=b;b--)a.contains(this.currentItem[0],
this.containers[b].element[0])||(this._intersectsWith(this.containers[b].containerCache)?e&&a.contains(this.containers[b].element[0],e.element[0])||(e=this.containers[b],s=b):this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",c,this._uiHash(this)),this.containers[b].containerCache.over=0));if(e)if(1===this.containers.length)this.containers[s].containerCache.over||(this.containers[s]._trigger("over",c,this._uiHash(this)),this.containers[s].containerCache.over=1);else{b=1E4;
f=null;g=(t=e.floating||d(this.currentItem))?"left":"top";h=t?"width":"height";l=this.positionAbs[g]+this.offset.click[g];for(e=this.items.length-1;0<=e;e--)a.contains(this.containers[s].element[0],this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&(!t||this.positionAbs.top+this.offset.click.top>this.items[e].top&&this.items[e].top+this.items[e].height>this.positionAbs.top+this.offset.click.top)&&(n=this.items[e].item.offset()[g],r=!1,Math.abs(n-l)>Math.abs(n+this.items[e][h]-l)&&
(r=!0,n+=this.items[e][h]),b>Math.abs(n-l)&&(b=Math.abs(n-l),f=this.items[e],this.direction=r?"up":"down"));(f||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[s]&&(f?this._rearrange(c,f,null,!0):this._rearrange(c,null,this.containers[s].element,!0),this._trigger("change",c,this._uiHash()),this.containers[s]._trigger("change",c,this._uiHash(this)),this.currentContainer=this.containers[s],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[s]._trigger("over",
c,this._uiHash(this)),this.containers[s].containerCache.over=1)}},_createHelper:function(c){var b=this.options;c=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],[c,this.currentItem])):"clone"===b.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||a("parent"!==b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),
top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!c[0].style.width||b.forceHelperSize)&&c.width(this.currentItem.width()),(!c[0].style.height||b.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));a.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in
c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&
"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,
left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,b,d,f=this.options;"parent"===f.containment&&(f.containment=this.helper[0].parentNode);"document"!==f.containment&&"window"!==f.containment||(this.containment=[0-this.offset.relative.left-
this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===f.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===f.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(f.containment)||(c=a(f.containment)[0],b=a(f.containment).offset(),d="hidden"!==a(c).css("overflow"),this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),
10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(c,b){b||(b=this.position);var d="absolute"===c?1:-1,f="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);return{top:b.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d,left:b.left+this.offset.relative.left*
d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d}},_generatePosition:function(c){var b,d,f=this.options,g=c.pageX,h=c.pageY,l="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(l[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=
this._getRelativeOffset()),this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(g=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(h=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(g=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&(h=this.containment[3]+this.offset.click.top)),f.grid&&(b=this.originalPageY+Math.round((h-
this.originalPageY)/f.grid[1])*f.grid[1],h=this.containment?b-this.offset.click.top>=this.containment[1]&&b-this.offset.click.top<=this.containment[3]?b:b-this.offset.click.top>=this.containment[1]?b-f.grid[1]:b+f.grid[1]:b,d=this.originalPageX+Math.round((g-this.originalPageX)/f.grid[0])*f.grid[0],g=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-f.grid[0]:d+f.grid[0]:d)),{top:h-this.offset.click.top-
this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:l.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:l.scrollLeft())}},_rearrange:function(a,b,d,f){d?d[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var g=this.counter=this.counter?++this.counter:
1;this._delay(function(){g===this.counter&&this.refreshPositions(!f)})},_clear:function(a,b){this.reverting=!1;var d,f=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)"auto"!==this._storedCSS[d]&&"static"!==this._storedCSS[d]||(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&
!b&&f.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||f.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&(b||(f.push(function(a){this._trigger("remove",a,this._uiHash())}),f.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),
f.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(d=this.containers.length-1;0<=d;d--)b||f.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over&&(f.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",
this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",a,this._uiHash());for(d=0;f.length>d;d++)f[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(d=0;f.length>d;d++)f[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(c){var b=c||this;return{helper:b.helper,placeholder:b.placeholder||a([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:c?c.element:null}}})})(jQuery);
var Lasso={id:"Lasso",container:"body",selector:"div",style:{"z-index":100,border:"1px solid #0c79cc",position:"absolute"},scrollTop:0,append:function(){if(0<$("#"+Lasso.id).length)return null;var a=$("<div></div>");a.attr("id",Lasso.id);a.css(Lasso.style);a.css({top:Lasso.mousedown.pageY,left:Lasso.mousedown.pageX});$(Lasso.container).append(a)},disable:function(){$(document).off("mousedown",Lasso.onmousedown);$(document).off("slide",Lasso.slide);$(document).off("slideend",Lasso.release)},enable:function(){$(document).on("mousedown",
Lasso.onmousedown);$(document).on("slide",Lasso.slide);$(document).on("slideend",Lasso.release)},onmousedown:function(a){Lasso.mousedown=a;Lasso.scrollTop=$(Lasso.container).scrollTop();return!0},release:function(a,d){var c=$("#"+Lasso.id);if(0===c.length)return null;var b,e,f,g;b=c.offset().left;e=c.offset().left+c.outerWidth();f=c.offset().top;g=c.offset().top+c.outerHeight();$();$(Lasso.selector).each(function(){var a=$(this);if(a.offset().left<b||a.offset().left+a.outerWidth()>e||a.offset().top<
f||a.offset().top+a.outerHeight()>g)return!0;$(this).addClass("Lasso")});$(".Lasso").each(function(){$(this).find(".Lasso").each(function(){$(this).removeClass("Lasso")})});$(".Lasso").each(function(){$(this).removeClass("Lasso");$(this).trigger("lasso")});c.remove()},slide:function(a,d){Lasso.append();var c=$("#"+Lasso.id),b=$(Lasso.container).scrollTop()-Lasso.scrollTop,b={vertical:Lasso.mousedown.pageY-b,horizontal:Lasso.mousedown.pageX},e;for(e in b){var f=e,g=b[e],h="horizontal"==f?d.pageX:d.pageY,
l="horizontal"==f?"width":"height",f="horizontal"==f?"left":"top",n=h-g;0<=n?c.css(l,n).css(f,g):c.css(f,h).css(l,-n)}}},ValidateEmail=function(a){return/\S+@\S+\.\S+/.test(a)},ParseQueryString=function(){for(var a={},d,c=/\+/g,b=/([^&=]+)=?([^&]*)/g,e=window.location.search.substring(1);d=b.exec(e);)a[decodeURIComponent(d[1].replace(c," "))]=decodeURIComponent(d[2].replace(c," "));return a},Permalink=function(a){return a?a.toLowerCase().replace(/[^a-z0-9- _\.]/gi,"").replace(/ /g,"_"):""};
$.scrollbarWidth=function(){if(navigator.userAgent.match(/Mac OS X 10_7/))return 10;var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"> </div>');$("body").append(a);var d=$("div",a).innerWidth();a.css("overflow-y","scroll");var c=$("div",a).innerWidth();a.remove();return d-c};
$.isOnScrollbar=function(a,d){var c=$.scrollbarWidth(),b=$(window).width(),e=$(window).height(),f=$("body").width(),g=$("body").height()>e;return g&&b-a<c||f>b&&e-d<c?!0:!1};var ToProperCase=function(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},ParseName=function(a){return a?ToProperCase(a.replace(/\@.*/,"").replace(/[0-9]/g,"").replace(/\./," ")):""};
$.topDiv=function(a,d,c){var b=null;$(a).each(function(){var a=$(this);if(a.position().left>d||a.position().left+a.outerWidth()<d)return!0;var f=a.position().top;if(f>c||f+a.outerHeight()<c)return!0;if(!b)return b=a;var f=parseFloat(a.css("z-index")),g=parseFloat(b.css("z-index"));if(f>g)return b=a;if(f<g)return!0;if(a.index()>b.index())return b=a});return b};
(function(a,d,c){function b(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=tinycolor(a[e]),g=0.5>f.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",g=g+(tinycolor.equals(b,a[e])?" sp-thumb-active":""),h=v?"background-color:"+f.toRgbString():"filter:"+f.toFilter();d.push('<span title="'+f.toRgbString()+'" data-color="'+f.toRgbString()+'" class="'+g+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}return"<div class='sp-cf "+c+"'>"+d.join("")+"</div>"}function e(a,b){var c=
d.extend({},s,a);c.callbacks={move:n(c.move,b),change:n(c.change,b),show:n(c.show,b),hide:n(c.hide,b),beforeShow:n(c.beforeShow,b)};return c}function f(f,h){function n(){T.toggleClass("sp-flat",u);T.toggleClass("sp-input-disabled",!K.showInput);T.toggleClass("sp-alpha-enabled",K.showAlpha);T.toggleClass("sp-buttons-disabled",!K.showButtons||u);T.toggleClass("sp-palette-disabled",!K.showPalette);T.toggleClass("sp-palette-only",K.showPaletteOnly);T.toggleClass("sp-initial-disabled",!K.showInitial);
T.addClass(K.className);x()}function m(b){if(E&&(b=tinycolor(b).toRgbString(),-1===d.inArray(b,ba)&&ba.push(b),aa&&a.localStorage))try{a.localStorage[aa]=ba.join(";")}catch(c){}}function s(){var a=[],b=ba,c={},d;if(K.showPalette){for(var e=0;e<wa.length;e++)for(var f=0;f<wa[e].length;f++)d=tinycolor(wa[e][f]).toRgbString(),c[d]=!0;for(e=0;e<b.length;e++)d=tinycolor(b[e]).toRgbString(),c.hasOwnProperty(d)||(a.push(b[e]),c[d]=!0)}return a.reverse().slice(0,K.maxSelectionSize)}function N(){var a=M(),
c=d.map(wa,function(c,d){return b(c,a,"sp-palette-row sp-palette-row-"+d)});ba&&c.push(b(s(),a,"sp-palette-row sp-palette-row-selection"));bb.html(c.join(""))}function G(){if(K.showInitial){var a=fa,c=M();xa.html(b([a,c],c,"sp-palette-row-initial"))}}function y(){0!==oa&&0!==ja&&0!==ka||x();T.addClass(Ta)}function S(){T.removeClass(Ta)}function U(){var a=tinycolor(ga.val());a.ok?ca(a):ga.addClass("sp-validation-error")}function V(){ma?P():Z()}function Z(){if(ma)x();else if(!1!==da.beforeShow(M())){for(var b=
0;b<p.length;b++)p[b]&&p[b].hide();ma=!0;d(La).bind("click.spectrum",P);d(a).bind("resize.spectrum",I);Aa.addClass("sp-active");T.show();K.showPalette&&N();x();X();fa=M();G();da.show(fa)}}function P(b){b&&"click"==b.type&&2==b.button||(!ma||u)||(ma=!1,d(La).unbind("click.spectrum",P),d(a).unbind("resize.spectrum",I),Aa.removeClass("sp-active"),T.hide(),tinycolor.equals(M(),fa)||(hb&&"cancel"!==b?F(!0):ca(fa,!0)),da.hide(M()))}function ca(a,b){if(!tinycolor.equals(a,M())){var c=tinycolor(a),d=c.toHsv();
Y=d.h;la=d.s;pa=d.v;qa=d.a;X();b||(Oa=$a||c.format)}}function M(){return tinycolor.fromRatio({h:Y,s:la,v:pa,a:Math.round(100*qa)/100})}function W(){X();da.move(M())}function X(){ga.removeClass("sp-validation-error");q();var a=tinycolor({h:Y,s:"1.0",v:"1.0"});Ma.css("background-color",a.toHexString());a=Oa;1>qa&&("hex"===a||"name"===a)&&(a="rgb");var b=M(),c=b.toHexString(),d=b.toRgbString();v||1===b.alpha?ta.css("background-color",d):(ta.css("background-color","transparent"),ta.css("filter",b.toFilter()));
if(K.showAlpha){d=b.toRgb();d.a=0;var d=tinycolor(d).toRgbString(),e="linear-gradient(left, "+d+", "+c+")";w?ia.css("filter",tinycolor(d).toFilter({gradientType:1},c)):(ia.css("background","-webkit-"+e),ia.css("background","-moz-"+e),ia.css("background","-ms-"+e),ia.css("background",e))}K.showInput&&(1>qa&&("hex"===a||"name"===a)&&(a="rgb"),ga.val(b.toString(a)));K.showPalette&&N();G()}function q(){var a=la*ja,b=oa-pa*oa,a=Math.max(-ha,Math.min(ja-ha,a-ha)),b=Math.max(-ha,Math.min(oa-ha,b-ha));fb.css({top:b,
left:a});Qa.css({left:qa*va-ea/2});gb.css({top:Y*ka-z})}function F(a){var b=M();Ya&&ra.val(b.toString(Oa)).change();var c=!tinycolor.equals(b,fa);fa=b;m(b);a&&c&&da.change(b)}function x(){ja=Ma.width();oa=Ma.height();ha=fb.height();Va.width();ka=Va.height();z=gb.height();va=Wa.width();ea=Qa.width();u||T.offset(g(T,ya));q()}function H(){P();Ua=!0;ra.attr("disabled",!0);ya.addClass("sp-disabled")}var K=e(h,f),u=K.flat,E=K.showSelectionPalette,aa=K.localStorageKey,R=K.theme,da=K.callbacks,I=t(x,10),
ma=!1,ja=0,oa=0,ha=0,ka=0,va=0,ea=0,z=0,Y=0,la=0,pa=0,qa=1,k=K.palette.slice(0),wa=d.isArray(k[0])?k:[k],ba=K.selectionPalette.slice(0),Ta="sp-dragging",La=f.ownerDocument,eb=La.body,ra=d(f),Ua=!1,T=d(J,La).addClass(R),Ma=T.find(".sp-color"),fb=T.find(".sp-dragger"),Va=T.find(".sp-hue"),gb=T.find(".sp-slider"),ia=T.find(".sp-alpha-inner"),Wa=T.find(".sp-alpha"),Qa=T.find(".sp-alpha-handle"),ga=T.find(".sp-input"),bb=T.find(".sp-palette"),xa=T.find(".sp-initial"),Xa=T.find(".sp-cancel"),Na=T.find(".sp-choose"),
Ya=ra.is("input"),Za=Ya&&!u,Aa=Za?d(D).addClass(R):d([]),ya=Za?Aa:ra,ta=Aa.find(".sp-preview-inner"),za=K.color||Ya&&ra.val(),fa=!1,$a=K.preferredFormat,Oa=$a,hb=!K.showButtons||K.clickoutFiresChange;(function(){function b(a){a.data&&a.data.ignore?(ca(d(this).data("color")),W()):(ca(d(this).data("color")),F(!0),W(),P());return!1}w&&T.find("*:not(input)").attr("unselectable","on");n();Za&&ra.hide().after(Aa);u?ra.after(T).hide():d(eb).append(T.hide());if(aa&&a.localStorage){try{var c=a.localStorage[aa].split(",#");
1<c.length&&(delete a.localStorage[aa],d.each(c,function(a,b){m(b)}))}catch(e){}try{ba=a.localStorage[aa].split(";")}catch(f){}}ya.bind("click.spectrum touchstart.spectrum",function(a){Ua||V();a.stopPropagation();d(a.target).is("input")||a.preventDefault()});(ra.is(":disabled")||!0===K.disabled)&&H();T.click(l);ga.change(U);ga.bind("paste",function(){setTimeout(U,1)});ga.keydown(function(a){13==a.keyCode&&U()});Xa.text(K.cancelText);Xa.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();
P("cancel")});Na.text(K.chooseText);Na.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();ga.hasClass("sp-validation-error")||(F(!0),P())});r(Wa,function(a,b,c){qa=a/va;c.shiftKey&&(qa=Math.round(10*qa)/10);W()});r(Va,function(a,b){Y=parseFloat(b/ka);W()},y,S);r(Ma,function(a,b){la=parseFloat(a/ja);pa=parseFloat((oa-b)/oa);W()},y,S);za?(ca(za),X(),Oa=$a||tinycolor(za).format,m(za)):X();u&&Z();c=w?"mousedown.spectrum":"click.spectrum touchstart.spectrum";bb.delegate(".sp-thumb-el",
c,b);xa.delegate(".sp-thumb-el:nth-child(1)",c,{ignore:!0},b)})();var Ga={show:Z,hide:P,toggle:V,reflow:x,option:function(a,b){if(a===c)return d.extend({},K);if(b===c)return K[a];K[a]=b;n()},enable:function(){Ua=!1;ra.attr("disabled",!1);ya.removeClass("sp-disabled")},disable:H,set:function(a){ca(a);F()},get:M,destroy:function(){ra.show();ya.unbind("click.spectrum touchstart.spectrum");T.remove();Aa.remove();p[Ga.id]=null},container:T};Ga.id=p.push(Ga)-1;return Ga}function g(a,b){var c=a.outerWidth(),
e=a.outerHeight(),f=b.outerHeight(),g=a[0].ownerDocument,h=g.documentElement,l=h.clientWidth+d(g).scrollLeft(),g=h.clientHeight+d(g).scrollTop(),h=b.offset();h.top+=f;h.left-=Math.min(h.left,h.left+c>l&&l>c?Math.abs(h.left+c-l):0);h.top-=Math.min(h.top,h.top+e>g&&g>e?Math.abs(e+f-0):0);return h}function h(){}function l(a){a.stopPropagation()}function n(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function r(b,c,e,f){function g(a){a.stopPropagation&&
a.stopPropagation();a.preventDefault&&a.preventDefault();a.returnValue=!1}function h(a){if(p){if(w&&9>document.documentMode&&!a.button)return l();var d=a.originalEvent.touches,e=d?d[0].pageY:a.pageY,d=Math.max(0,Math.min((d?d[0].pageX:a.pageX)-r.left,s)),e=Math.max(0,Math.min(e-r.top,t));D&&g(a);c.apply(b,[d,e,a])}}function l(){p&&(d(n).unbind(v),d(n.body).removeClass("sp-dragging"),f.apply(b,arguments));p=!1}c=c||function(){};e=e||function(){};f=f||function(){};var n=b.ownerDocument||document,p=
!1,r={},t=0,s=0,D="ontouchstart"in a,v={};v.selectstart=g;v.dragstart=g;v[D?"touchmove":"mousemove"]=h;v[D?"touchend":"mouseup"]=l;d(b).bind(D?"touchstart":"mousedown",function(a){(a.which?3==a.which:2==a.button)||p||!1===e.apply(b,arguments)||(p=!0,t=d(b).height(),s=d(b).width(),r=d(b).offset(),d(n).bind(v),d(n.body).addClass("sp-dragging"),D||h(a),g(a))})}function t(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null;a.apply(e,f)};c&&clearTimeout(d);if(c||!d)d=setTimeout(g,
b)}}var s={beforeShow:h,move:h,change:h,show:h,hide:h,color:!1,flat:!1,showInput:!0,showButtons:!1,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",showAlpha:!1,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:!1},p=[],w=!!/msie/i.exec(a.navigator.userAgent),v=function(){var a=document.createElement("div").style;a.cssText="background-color:rgba(0,0,0,.5)";
return!!~(""+a.backgroundColor).indexOf("rgba")||!!~(""+a.backgroundColor).indexOf("hsla")}(),D="<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div></div></div>",J=function(){var a="";if(w)for(var b=1;6>=b;b++)a+="<div class='sp-"+b+"'></div>";return["<div class='sp-container'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-hue'><div class='sp-slider'></div>",
a,"</div></div><div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'  /></div><div class='sp-initial sp-thumb sp-cf'></div><div class='sp-button-container sp-cf'><a class='sp-cancel' href='#'></a><button class='sp-choose'></button></div></div></div>"].join("")}();d.fn.spectrum=function(a,b){if("string"==typeof a){var c=this,e=Array.prototype.slice.call(arguments,
1);this.each(function(){var b=p[d(this).data("spectrum.id")];if(b){var f=b[a];if(!f)throw Error("Spectrum: no such method: '"+a+"'");"get"==a?c=b.get():"container"==a?c=b.container:"option"==a?c=b.option.apply(b,e):"destroy"==a?(b.destroy(),d(this).removeData("spectrum.id")):f.apply(b,e)}});return c}return this.spectrum("destroy").each(function(){var b=f(this,a);d(this).data("spectrum.id",b.id)})};d.fn.spectrum.load=!0;d.fn.spectrum.loadOpts={};d.fn.spectrum.draggable=r;d.fn.spectrum.defaults=s;d.spectrum=
{};d.spectrum.localization={};d.spectrum.palettes={};d.fn.spectrum.processNativeColorInputs=function(){var a=d("<input type='color' value='!' />")[0];"color"===a.type&&"!"!=a.value||d("input[type=color]").spectrum({preferredFormat:"hex6"})};(function(a){function b(a,e){if("object"==typeof a&&a.hasOwnProperty("_tc_id"))return a;var h=c(a),n=h.r,p=h.g,F=h.b,t=q(h.a);return{ok:h.ok,format:h.format,_tc_id:r++,alpha:t,toHsv:function(){var a=f(n,p,F);return{h:a.h,s:a.s,v:a.v,a:t}},toHsvString:function(){var a=
f(n,p,F),b=s(360*a.h),c=s(100*a.s),a=s(100*a.v);return 1==t?"hsv("+b+", "+c+"%, "+a+"%)":"hsva("+b+", "+c+"%, "+a+"%, "+t+")"},toHsl:function(){var a=d(n,p,F);return{h:a.h,s:a.s,l:a.l,a:t}},toHslString:function(){var a=d(n,p,F),b=s(360*a.h),c=s(100*a.s),a=s(100*a.l);return 1==t?"hsl("+b+", "+c+"%, "+a+"%)":"hsla("+b+", "+c+"%, "+a+"%, "+t+")"},toHex:function(){return g(n,p,F)},toHexString:function(a){return"#"+g(n,p,F,a)},toRgb:function(){return{r:s(n),g:s(p),b:s(F),a:t}},toRgbString:function(){return 1==
t?"rgb("+s(n)+", "+s(p)+", "+s(F)+")":"rgba("+s(n)+", "+s(p)+", "+s(F)+", "+t+")"},toName:function(){return x[g(n,p,F)]||!1},toFilter:function(a,c){var d=g(n,p,F,!0),e=d,f=Math.round(255*q(t)).toString(16),h=f,m=a&&a.gradientType?"GradientType = 1, ":"";c&&(h=b(c),e=h.toHex(),h=Math.round(255*q(h.alpha)).toString(16));return"progid:DXImageTransform.Microsoft.gradient("+m+"startColorstr=#"+l(f)+d+",endColorstr=#"+l(h)+e+")"},toString:function(a){a=a||this.format;var b=!1;"rgb"===a&&(b=this.toRgbString());
"hex"===a&&(b=this.toHexString());"hex6"===a&&(b=this.toHexString(!0));"name"===a&&(b=this.toName());"hsl"===a&&(b=this.toHslString());"hsv"===a&&(b=this.toHsvString());return b||this.toHexString(!0)}}}function c(a){var b={r:0,g:0,b:0},d=1,f=!1,g=!1;if("string"==typeof a)a:{a=a.replace(n,"").replace(p,"").toLowerCase();var l=!1;if(F[a])a=F[a],l=!0;else if("transparent"==a){a={r:0,g:0,b:0,a:0};break a}var q;a=(q=H.rgb.exec(a))?{r:q[1],g:q[2],b:q[3]}:(q=H.rgba.exec(a))?{r:q[1],g:q[2],b:q[3],a:q[4]}:
(q=H.hsl.exec(a))?{h:q[1],s:q[2],l:q[3]}:(q=H.hsla.exec(a))?{h:q[1],s:q[2],l:q[3],a:q[4]}:(q=H.hsv.exec(a))?{h:q[1],s:q[2],v:q[3]}:(q=H.hex6.exec(a))?{r:parseInt(q[1],16),g:parseInt(q[2],16),b:parseInt(q[3],16),format:l?"name":"hex"}:(q=H.hex3.exec(a))?{r:parseInt(q[1]+""+q[1],16),g:parseInt(q[2]+""+q[2],16),b:parseInt(q[3]+""+q[3],16),format:l?"name":"hex"}:!1}if("object"==typeof a){if(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b"))b={r:255*h(a.r,255),g:255*h(a.g,255),b:255*
h(a.b,255)},f=!0,g="rgb";else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")){var g=a.h,l=a.s,b=a.v,g=6*h(g,360),l=h(l,100),b=h(b,100),f=t.floor(g),m=g-f,g=b*(1-l);q=b*(1-m*l);l=b*(1-(1-m)*l);f%=6;b={r:255*[b,q,g,g,l,b][f],g:255*[l,b,b,q,g,g][f],b:255*[g,g,l,b,b,q][f]};f=!0;g="hsv"}else a.hasOwnProperty("h")&&(a.hasOwnProperty("s")&&a.hasOwnProperty("l"))&&(b=e(a.h,a.s,a.l),f=!0,g="hsl");a.hasOwnProperty("a")&&(d=a.a)}b.r=D(255,w(b.r,0));b.g=D(255,w(b.g,0));b.b=D(255,w(b.b,
0));1>b.r&&(b.r=s(b.r));1>b.g&&(b.g=s(b.g));1>b.b&&(b.b=s(b.b));return{ok:f,format:a&&a.format||g,r:b.r,g:b.g,b:b.b,a:d}}function d(a,b,c){a=h(a,255);b=h(b,255);c=h(c,255);var e=w(a,b,c),f=D(a,b,c),g,l=(e+f)/2;if(e==f)g=f=0;else{var q=e-f,f=0.5<l?q/(2-e-f):q/(e+f);switch(e){case a:g=(b-c)/q+(b<c?6:0);break;case b:g=(c-a)/q+2;break;case c:g=(a-b)/q+4}g/=6}return{h:g,s:f,l:l}}function e(a,b,c){function d(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:0.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a}a=h(a,
360);b=h(b,100);c=h(c,100);if(0===b)c=b=a=c;else{var f=0.5>c?c*(1+b):c+b-c*b,g=2*c-f;c=d(g,f,a+1/3);b=d(g,f,a);a=d(g,f,a-1/3)}return{r:255*c,g:255*b,b:255*a}}function f(a,b,c){a=h(a,255);b=h(b,255);c=h(c,255);var d=w(a,b,c),e=D(a,b,c),g,l=d-e;if(d==e)g=0;else{switch(d){case a:g=(b-c)/l+(b<c?6:0);break;case b:g=(c-a)/l+2;break;case c:g=(a-b)/l+4}g/=6}return{h:g,s:0===d?0:l/d,v:d}}function g(a,b,c,d){a=[l(s(a).toString(16)),l(s(b).toString(16)),l(s(c).toString(16))];return d||a[0].charAt(0)!=a[0].charAt(1)||
a[1].charAt(0)!=a[1].charAt(1)||a[2].charAt(0)!=a[2].charAt(1)?a.join(""):a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)}function h(a,b){"string"==typeof a&&(-1!=a.indexOf(".")&&1===q(a))&&(a="100%");var c="string"===typeof a&&-1!=a.indexOf("%");a=D(b,w(0,q(a)));c&&(a*=b/100);return 1E-6>t.abs(a-b)?1:1<=a?a%b/q(b):a}function l(a){return 1==a.length?"0"+a:""+a}var n=/^[\s,#]+/,p=/\s+$/,r=0,t=Math,s=t.round,D=t.min,w=t.max,v=t.random,q=a.parseFloat;b.fromRatio=function(a){if("object"==typeof a)for(var c in a)1===
a[c]&&(a[c]="1.0");return b(a)};b.equals=function(a,c){return a&&c?b(a).toRgbString()==b(c).toRgbString():!1};b.random=function(){return b.fromRatio({r:v(),g:v(),b:v()})};b.desaturate=function(a,c){var d=b(a).toHsl();d.s-=(c||10)/100;d.s=D(1,w(0,d.s));return b(d)};b.saturate=function(a,c){var d=b(a).toHsl();d.s+=(c||10)/100;d.s=D(1,w(0,d.s));return b(d)};b.greyscale=function(a){return b.desaturate(a,100)};b.lighten=function(a,c){var d=b(a).toHsl();d.l+=(c||10)/100;d.l=D(1,w(0,d.l));return b(d)};b.darken=
function(a,c){var d=b(a).toHsl();d.l-=(c||10)/100;d.l=D(1,w(0,d.l));return b(d)};b.complement=function(a){a=b(a).toHsl();a.h=(a.h+0.5)%1;return b(a)};b.triad=function(a){var c=b(a).toHsl(),d=360*c.h;return[b(a),b({h:(d+120)%360,s:c.s,l:c.l}),b({h:(d+240)%360,s:c.s,l:c.l})]};b.tetrad=function(a){var c=b(a).toHsl(),d=360*c.h;return[b(a),b({h:(d+90)%360,s:c.s,l:c.l}),b({h:(d+180)%360,s:c.s,l:c.l}),b({h:(d+270)%360,s:c.s,l:c.l})]};b.splitcomplement=function(a){var c=b(a).toHsl(),d=360*c.h;return[b(a),
b({h:(d+72)%360,s:c.s,l:c.l}),b({h:(d+216)%360,s:c.s,l:c.l})]};b.analogous=function(a,c,d){c=c||6;d=d||30;var e=b(a).toHsl();d=360/d;a=[b(a)];e.h*=360;for(e.h=(e.h-(d*c>>1)+720)%360;--c;)e.h=(e.h+d)%360,a.push(b(e));return a};b.monochromatic=function(a,c){c=c||6;for(var d=b(a).toHsv(),e=d.h,f=d.s,d=d.v,g=[],h=1/c;c--;)g.push(b({h:e,s:f,v:d})),d=(d+h)%1;return g};b.readable=function(a,c){var d=b(a).toRgb(),e=b(c).toRgb();return 10404<(e.r-d.r)*(e.r-d.r)+(e.g-d.g)*(e.g-d.g)+(e.b-d.b)*(e.b-d.b)};var F=
b.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",
darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",
gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",
lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",
orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",
springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},x=b.hexNames=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}(F),H={rgb:RegExp("rgb[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),rgba:RegExp("rgba[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
hsl:RegExp("hsl[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsla:RegExp("hsla[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsv:RegExp("hsv[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};a.tinycolor=b})(this);d(function(){d.fn.spectrum.load&&d.fn.spectrum.processNativeColorInputs()})})(window,jQuery);
(function(){var a=this,d=a._,c={},b=Array.prototype,e=Object.prototype,f=b.push,g=b.slice,h=b.concat,l=e.toString,n=e.hasOwnProperty,r=b.forEach,t=b.map,s=b.reduce,p=b.reduceRight,w=b.filter,v=b.every,D=b.some,J=b.indexOf,O=b.lastIndexOf,e=Array.isArray,B=Object.keys,L=Function.prototype.bind,m=function(a){return a instanceof m?a:this instanceof m?(this._wrapped=a,void 0):new m(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):a._=
m;m.VERSION="1.5.2";var C=m.each=m.forEach=function(a,b,d){if(null!=a)if(r&&a.forEach===r)a.forEach(b,d);else if(a.length===+a.length)for(var e=0,f=a.length;f>e&&b.call(d,a[e],e,a)!==c;e++);else for(var g=m.keys(a),e=0,f=g.length;f>e&&b.call(d,a[g[e]],g[e],a)!==c;e++);};m.map=m.collect=function(a,b,c){var d=[];return null==a?d:t&&a.map===t?a.map(b,c):(C(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};m.reduce=m.foldl=m.inject=function(a,b,c,d){var e=2<arguments.length;if(null==a&&(a=[]),s&&a.reduce===
s)return d&&(b=m.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(C(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c};m.reduceRight=m.foldr=function(a,b,c,d){var e=2<arguments.length;if(null==a&&(a=[]),p&&a.reduceRight===p)return d&&(b=m.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f)var g=m.keys(a),f=g.length;if(C(a,function(h,l,n){l=g?g[--f]:--f;e?c=b.call(d,c,a[l],l,n):(c=a[l],e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");
return c};m.find=m.detect=function(a,b,c){var d;return N(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d};m.filter=m.select=function(a,b,c){var d=[];return null==a?d:w&&a.filter===w?a.filter(b,c):(C(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)};m.reject=function(a,b,c){return m.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)};m.every=m.all=function(a,b,d){b||(b=m.identity);var e=!0;return null==a?e:v&&a.every===v?a.every(b,d):(C(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?
void 0:c}),!!e)};var N=m.some=m.any=function(a,b,d){b||(b=m.identity);var e=!1;return null==a?e:D&&a.some===D?a.some(b,d):(C(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};m.contains=m.include=function(a,b){return null==a?!1:J&&a.indexOf===J?-1!=a.indexOf(b):N(a,function(a){return a===b})};m.invoke=function(a,b){var c=g.call(arguments,2),d=m.isFunction(b);return m.map(a,function(a){return(d?b:a[b]).apply(a,c)})};m.pluck=function(a,b){return m.map(a,function(a){return a[b]})};m.where=
function(a,b,c){return m.isEmpty(b)?c?void 0:[]:m[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};m.findWhere=function(a,b){return m.where(a,b,!0)};m.max=function(a,b,c){if(!b&&m.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&m.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return C(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e>d.computed&&(d={value:a,computed:e})}),d.value};m.min=function(a,b,c){if(!b&&m.isArray(a)&&a[0]===+a[0]&&
65535>a.length)return Math.min.apply(Math,a);if(!b&&m.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return C(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e<d.computed&&(d={value:a,computed:e})}),d.value};m.shuffle=function(a){var b,c=0,d=[];return C(a,function(a){b=m.random(c++);d[c-1]=d[b];d[b]=a}),d};m.sample=function(a,b,c){return 2>arguments.length||c?a[m.random(a.length-1)]:m.shuffle(a).slice(0,Math.max(0,b))};var G=function(a){return m.isFunction(a)?a:function(b){return b[a]}};m.sortBy=function(a,
b,c){var d=G(b);return m.pluck(m.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var y=function(a){return function(b,c,d){var e={},f=null==c?m.identity:G(c);return C(b,function(c,g){var h=f.call(d,c,g,b);a(e,h,c)}),e}};m.groupBy=y(function(a,b,c){(m.has(a,b)?a[b]:a[b]=[]).push(c)});m.indexBy=y(function(a,b,c){a[b]=c});m.countBy=
y(function(a,b){m.has(a,b)?a[b]++:a[b]=1});m.sortedIndex=function(a,b,c,d){c=null==c?m.identity:G(c);b=c.call(d,b);for(var e=0,f=a.length;f>e;){var g=e+f>>>1;c.call(d,a[g])<b?e=g+1:f=g}return e};m.toArray=function(a){return a?m.isArray(a)?g.call(a):a.length===+a.length?m.map(a,m.identity):m.values(a):[]};m.size=function(a){return null==a?0:a.length===+a.length?a.length:m.keys(a).length};m.first=m.head=m.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:g.call(a,0,b)};m.initial=function(a,
b,c){return g.call(a,0,a.length-(null==b||c?1:b))};m.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:g.call(a,Math.max(a.length-b,0))};m.rest=m.tail=m.drop=function(a,b,c){return g.call(a,null==b||c?1:b)};m.compact=function(a){return m.filter(a,m.identity)};var S=function(a,b,c){return b&&m.every(a,m.isArray)?h.apply(c,a):(C(a,function(a){m.isArray(a)||m.isArguments(a)?b?f.apply(c,a):S(a,b,c):c.push(a)}),c)};m.flatten=function(a,b){return S(a,b,[])};m.without=function(a){return m.difference(a,
g.call(arguments,1))};m.uniq=m.unique=function(a,b,c,d){m.isFunction(b)&&(d=c,c=b,b=!1);c=c?m.map(a,c,d):a;var e=[],f=[];return C(c,function(c,d){(b?d&&f[f.length-1]===c:m.contains(f,c))||(f.push(c),e.push(a[d]))}),e};m.union=function(){return m.uniq(m.flatten(arguments,!0))};m.intersection=function(a){var b=g.call(arguments,1);return m.filter(m.uniq(a),function(a){return m.every(b,function(b){return 0<=m.indexOf(b,a)})})};m.difference=function(a){var c=h.apply(b,g.call(arguments,1));return m.filter(a,
function(a){return!m.contains(c,a)})};m.zip=function(){for(var a=m.max(m.pluck(arguments,"length").concat(0)),b=Array(a),c=0;a>c;c++)b[c]=m.pluck(arguments,""+c);return b};m.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};m.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=m.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(J&&a.indexOf===J)return a.indexOf(b,c);for(;e>
d;d++)if(a[d]===b)return d;return-1};m.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(O&&a.lastIndexOf===O)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1};m.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);d>e;)f[e++]=a,a+=c;return f};var U=function(){};m.bind=function(a,b){var c,d;if(L&&a.bind===L)return L.apply(a,g.call(arguments,1));if(!m.isFunction(a))throw new TypeError;
return c=g.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(g.call(arguments)));U.prototype=a.prototype;var e=new U;U.prototype=null;var f=a.apply(e,c.concat(g.call(arguments)));return Object(f)===f?f:e}};m.partial=function(a){var b=g.call(arguments,1);return function(){return a.apply(this,b.concat(g.call(arguments)))}};m.bindAll=function(a){var b=g.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");return C(b,function(b){a[b]=m.bind(a[b],
a)}),a};m.memoize=function(a,b){var c={};return b||(b=m.identity),function(){var d=b.apply(this,arguments);return m.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};m.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};m.defer=function(a){return m.delay.apply(m,[a,1].concat(g.call(arguments,1)))};m.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var l=function(){h=!1===c.leading?0:new Date;g=null;f=a.apply(d,e)};return function(){var n=new Date;
h||!1!==c.leading||(h=n);var m=b-(n-h);return d=this,e=arguments,0>=m?(clearTimeout(g),g=null,h=n,f=a.apply(d,e)):g||!1===c.trailing||(g=setTimeout(l,m)),f}};m.debounce=function(a,b,c){var d,e,f,g,h;return function(){f=this;e=arguments;g=new Date;var l=function(){var n=new Date-g;b>n?d=setTimeout(l,b-n):(d=null,c||(h=a.apply(f,e)))},n=c&&!d;return d||(d=setTimeout(l,b)),n&&(h=a.apply(f,e)),h}};m.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}};m.wrap=
function(a,b){return function(){var c=[a];return f.apply(c,arguments),b.apply(this,c)}};m.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};m.after=function(a,b){return function(){return 1>--a?b.apply(this,arguments):void 0}};m.keys=B||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)m.has(a,c)&&b.push(c);return b};m.values=function(a){for(var b=m.keys(a),c=b.length,d=Array(c),
e=0;c>e;e++)d[e]=a[b[e]];return d};m.pairs=function(a){for(var b=m.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d};m.invert=function(a){for(var b={},c=m.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b};m.functions=m.methods=function(a){var b=[],c;for(c in a)m.isFunction(a[c])&&b.push(c);return b.sort()};m.extend=function(a){return C(g.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a};m.pick=function(a){var c={},d=h.apply(b,g.call(arguments,1));return C(d,
function(b){b in a&&(c[b]=a[b])}),c};m.omit=function(a){var c={},d=h.apply(b,g.call(arguments,1)),e;for(e in a)m.contains(d,e)||(c[e]=a[e]);return c};m.defaults=function(a){return C(g.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a};m.clone=function(a){return m.isObject(a)?m.isArray(a)?a.slice():m.extend({},a):a};m.tap=function(a,b){return b(a),a};var V=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof m&&(a=a._wrapped);
b instanceof m&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var f=a.constructor,g=b.constructor;
if(f!==g&&!(m.isFunction(f)&&f instanceof f&&m.isFunction(g)&&g instanceof g))return!1;c.push(a);d.push(b);f=0;g=!0;if("[object Array]"==e){if(f=a.length,g=f==b.length)for(;f--&&(g=V(a[f],b[f],c,d)););}else{for(var h in a)if(m.has(a,h)&&(f++,!(g=m.has(b,h)&&V(a[h],b[h],c,d))))break;if(g){for(h in b)if(m.has(b,h)&&!f--)break;g=!f}}return c.pop(),d.pop(),g};m.isEqual=function(a,b){return V(a,b,[],[])};m.isEmpty=function(a){if(null==a)return!0;if(m.isArray(a)||m.isString(a))return 0===a.length;for(var b in a)if(m.has(a,
b))return!1;return!0};m.isElement=function(a){return!(!a||1!==a.nodeType)};m.isArray=e||function(a){return"[object Array]"==l.call(a)};m.isObject=function(a){return a===Object(a)};C("Arguments Function String Number Date RegExp".split(" "),function(a){m["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}});m.isArguments(arguments)||(m.isArguments=function(a){return!(!a||!m.has(a,"callee"))});"function"!=typeof/./&&(m.isFunction=function(a){return"function"==typeof a});m.isFinite=function(a){return isFinite(a)&&
!isNaN(parseFloat(a))};m.isNaN=function(a){return m.isNumber(a)&&a!=+a};m.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==l.call(a)};m.isNull=function(a){return null===a};m.isUndefined=function(a){return void 0===a};m.has=function(a,b){return n.call(a,b)};m.noConflict=function(){return a._=d,this};m.identity=function(a){return a};m.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d};m.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*
(b-a+1))};var Z={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};Z.unescape=m.invert(Z.escape);var P={escape:RegExp("["+m.keys(Z.escape).join("")+"]","g"),unescape:RegExp("("+m.keys(Z.unescape).join("|")+")","g")};m.each(["escape","unescape"],function(a){m[a]=function(b){return null==b?"":(""+b).replace(P[a],function(b){return Z[a][b]})}});m.result=function(a,b){if(null!=a){var c=a[b];return m.isFunction(c)?c.call(a):c}};m.mixin=function(a){C(m.functions(a),function(b){var c=
m[b]=a[b];m.prototype[b]=function(){var a=[this._wrapped];f.apply(a,arguments);a=c.apply(m,a);return this._chain?m(a).chain():a}})};var ca=0;m.uniqueId=function(a){var b=++ca+"";return a?a+b:b};m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\t|\u2028|\u2029/g;m.template=function(a,b,c){var d;c=m.defaults({},c,m.templateSettings);var e=
RegExp([(c.escape||M).source,(c.interpolate||M).source,(c.evaluate||M).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(X,function(a){return"\\"+W[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b});g+="';\n";c.variable||(g="with(obj||{}){\n"+g+"}\n");g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h;}if(b)return d(b,m);b=function(a){return d.call(this,a,m)};return b.source="function("+(c.variable||"obj")+"){\n"+g+"}",b};m.chain=function(a){return m(a).chain()};m.mixin(m);C("pop push reverse shift sort splice unshift".split(" "),function(a){var c=b[a];m.prototype[a]=function(){var b=this._wrapped;return c.apply(b,arguments),"shift"!=a&&"splice"!=a||0!==b.length||delete b[0],this._chain?m(b).chain():b}});
C(["concat","join","slice"],function(a){var c=b[a];m.prototype[a]=function(){var a=c.apply(this._wrapped,arguments);return this._chain?m(a).chain():a}});m.extend(m.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);
(function(){function a(a,b){return"!"!==a[0][0]?'<a href="'+f(b.href)+'"'+(b.title?' title="'+f(b.title)+'"':"")+">"+p.lexer(a[1])+"</a>":'<img src="'+f(b.href)+'" alt="'+f(a[1])+'"'+(b.title?' title="'+f(b.title)+'"':"")+">"}function d(){return v=w.pop()}function c(){switch(v.type){case "space":return"";case "hr":return"<hr>\n";case "heading":return"<h"+v.depth+">"+p.lexer(v.text)+"</h"+v.depth+">\n";case "code":return D.highlight&&(v.code=D.highlight(v.text,v.lang),null!=v.code&&v.code!==v.text&&
(v.escaped=!0,v.text=v.code)),v.escaped||(v.text=f(v.text,!0)),"<pre><code"+(v.lang?' class="lang-'+v.lang+'"':"")+">"+v.text+"</code></pre>\n";case "blockquote_start":for(var a="";"blockquote_end"!==d().type;)a+=c();return"<blockquote>\n"+a+"</blockquote>\n";case "list_start":for(var e=v.ordered?"ol":"ul",a="";"list_end"!==d().type;)a+=c();return"<"+e+">\n"+a+"</"+e+">\n";case "list_item_start":for(a="";"list_item_end"!==d().type;)a+="text"===v.type?b():c();return"<li>"+a+"</li>\n";case "loose_item_start":for(a=
"";"list_item_end"!==d().type;)a+=c();return"<li>"+a+"</li>\n";case "html":return D.sanitize?p.lexer(v.text):v.pre||D.pedantic?v.text:p.lexer(v.text);case "paragraph":return"<p>"+p.lexer(v.text)+"</p>\n";case "text":return"<p>"+b()+"</p>\n"}}function b(){for(var a=v.text,b;(b=w[w.length-1])&&"text"===b.type;)a+="\n"+d().text;return p.lexer(a)}function e(a){w=a.reverse();for(a="";d();)a+=c();v=w=null;return a}function f(a,b){return a.replace(b?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,
"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function g(a){for(var b="",c=a.length,d=0,e;d<c;d++)e=a.charCodeAt(d),0.5<Math.random()&&(e="x"+e.toString(16)),b+="&#"+e+";";return b}function h(){return"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b"}function l(a,b){a=a.source;b=b||"";return function m(c,d){if(!c)return RegExp(a,b);a=a.replace(c,d.source||d);return m}}function n(){}function r(a,
b){t(b);return e(s.lexer(a))}function t(a){a||(a=J);D!==a&&(D=a,D.gfm?(s.fences=s.gfm.fences,s.paragraph=s.gfm.paragraph,p.text=p.gfm.text,p.url=p.gfm.url):(s.fences=s.normal.fences,s.paragraph=s.normal.paragraph,p.text=p.normal.text,p.url=p.normal.url),D.pedantic?(p.em=p.pedantic.em,p.strong=p.pedantic.strong):(p.em=p.normal.em,p.strong=p.normal.strong))}var s={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:n,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,
blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [^\0]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *([^\s]+)(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^([^\n]+\n?(?!body))+\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};s.item=l(s.item,"gm")(/bull/g,s.bullet)();s.list=l(s.list)(/bull/g,s.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();s.html=l(s.html)("comment",
/\x3c!--[^\0]*?--\x3e/)("closed",/<(tag)[^\0]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,h())();s.paragraph=function(){var a=s.paragraph.source,b=[];(function m(a){a=s[a]?s[a].source:a;b.push(a.replace(/(^|[^\[])\^/g,"$1"));return m})("hr")("heading")("lheading")("blockquote")("<"+h())("def");return RegExp(a.replace("body",b.join("|")))}();s.normal={fences:s.fences,paragraph:s.paragraph};s.gfm={fences:/^ *(```|~~~) *(\w+)? *\n([^\0]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/};s.gfm.paragraph=
l(s.paragraph)("(?!","(?!"+s.gfm.fences.source.replace(/(^|[^\[])\^/g,"$2")+"|")();s.lexer=function(a){var b=[];b.links={};a=a.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");return s.token(a,b,!0)};s.token=function(a,b,c){a=a.replace(/^ +$/gm,"");for(var d,e,f,g,h,l;a;){if(f=s.newline.exec(a))a=a.substring(f[0].length),1<f[0].length&&b.push({type:"space"});if(f=s.code.exec(a))a=a.substring(f[0].length),f=f[0].replace(/^ {4}/gm,""),b.push({type:"code",text:D.pedantic?f:f.replace(/\n+$/,"")});else if(f=
s.fences.exec(a))a=a.substring(f[0].length),b.push({type:"code",lang:f[2],text:f[3]});else if(f=s.heading.exec(a))a=a.substring(f[0].length),b.push({type:"heading",depth:f[1].length,text:f[2]});else if(f=s.lheading.exec(a))a=a.substring(f[0].length),b.push({type:"heading",depth:"="===f[2]?1:2,text:f[1]});else if(f=s.hr.exec(a))a=a.substring(f[0].length),b.push({type:"hr"});else if(f=s.blockquote.exec(a))a=a.substring(f[0].length),b.push({type:"blockquote_start"}),f=f[0].replace(/^ *> ?/gm,""),s.token(f,
b,c),b.push({type:"blockquote_end"});else if(f=s.list.exec(a)){a=a.substring(f[0].length);b.push({type:"list_start",ordered:isFinite(f[2])});f=f[0].match(s.item);d=!1;l=f.length;for(h=0;h<l;h++)g=f[h],e=g.length,g=g.replace(/^ *([*+-]|\d+\.) +/,""),~g.indexOf("\n ")&&(e-=g.length,g=D.pedantic?g.replace(/^ {1,4}/gm,""):g.replace(RegExp("^ {1,"+e+"}","gm"),"")),e=d||/\n\n(?!\s*$)/.test(g),h!==l-1&&(d="\n"===g[g.length-1],e||(e=d)),b.push({type:e?"loose_item_start":"list_item_start"}),s.token(g,b),b.push({type:"list_item_end"});
b.push({type:"list_end"})}else if(f=s.html.exec(a))a=a.substring(f[0].length),b.push({type:"html",pre:"pre"===f[1],text:f[0]});else if(c&&(f=s.def.exec(a)))a=a.substring(f[0].length),b.links[f[1].toLowerCase()]={href:f[2],title:f[3]};else if(c&&(f=s.paragraph.exec(a)))a=a.substring(f[0].length),b.push({type:"paragraph",text:f[0]});else if(f=s.text.exec(a))a=a.substring(f[0].length),b.push({type:"text",text:f[0]})}return b};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,
url:n,tag:/^\x3c!--[^\0]*?--\x3e|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,em:/^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,code:/^(`+)([^\0]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[^\0]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_linkInside:/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/,_linkHref:/\s*<?([^\s]*?)>?(?:\s+['"]([^\0]*?)['"])?\s*/};
p.link=l(p.link)("inside",p._linkInside)("href",p._linkHref)();p.reflink=l(p.reflink)("inside",p._linkInside)();p.normal={url:p.url,strong:p.strong,em:p.em,text:p.text};p.pedantic={strong:/^__(?=\S)([^\0]*?\S)__(?!_)|^\*\*(?=\S)([^\0]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([^\0]*?\S)_(?!_)|^\*(?=\S)([^\0]*?\S)\*(?!\*)/};p.gfm={url:/^(https?:\/\/[^\s]+[^.,:;"')\]\s])/,text:/^[^\0]+?(?=[\\<!\[_*`]|https?:\/\/| {2,}\n|$)/};p.lexer=function(b){for(var c="",d=w.links,e,h;b;)if(h=p.escape.exec(b))b=b.substring(h[0].length),
c+=h[1];else if(h=p.autolink.exec(b))b=b.substring(h[0].length),"@"===h[2]?(e=":"===h[1][6]?g(h[1].substring(7)):g(h[1]),h=g("mailto:")+e):h=e=f(h[1]),c+='<a href="'+h+'">'+e+"</a>";else if(h=p.url.exec(b))b=b.substring(h[0].length),h=e=f(h[1]),c+='<a href="'+h+'">'+e+"</a>";else if(h=p.tag.exec(b))b=b.substring(h[0].length),c+=D.sanitize?f(h[0]):h[0];else if(h=p.link.exec(b))b=b.substring(h[0].length),c+=a(h,{href:h[2],title:h[3]});else if((h=p.reflink.exec(b))||(h=p.nolink.exec(b)))b=b.substring(h[0].length),
e=(h[2]||h[1]).replace(/\s+/g," "),(e=d[e.toLowerCase()])&&e.href?c+=a(h,e):(c+=h[0][0],b=h[0].substring(1)+b);else if(h=p.strong.exec(b))b=b.substring(h[0].length),c+="<strong>"+p.lexer(h[2]||h[1])+"</strong>";else if(h=p.em.exec(b))b=b.substring(h[0].length),c+="<em>"+p.lexer(h[2]||h[1])+"</em>";else if(h=p.code.exec(b))b=b.substring(h[0].length),c+="<code>"+f(h[2],!0)+"</code>";else if(h=p.br.exec(b))b=b.substring(h[0].length),c+="<br>";else if(h=p.text.exec(b))b=b.substring(h[0].length),c+=f(h[0]);
return c};var w,v;n.exec=n;var D,J;r.options=r.setOptions=function(a){J=a;t(a);return r};r.setOptions({gfm:!0,pedantic:!1,sanitize:!1,highlight:null});r.parser=function(a,b){t(b);return e(a)};r.lexer=function(a,b){t(b);return s.lexer(a)};r.parse=r;"undefined"!==typeof module?module.exports=r:this.marked=r}).call(function(){return this||("undefined"!==typeof window?window:global)}());
function NaturalSort(a,d){var c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,b=/(^[ ]*|[ ]*$)/g,e=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,f=/^0x[0-9a-f]+$/i,g=/^0/,h=(NaturalSort.insensitive&&(""+a).toLowerCase()||""+a).replace(b,"")||"",l=(NaturalSort.insensitive&&(""+d).toLowerCase()||""+d).replace(b,"")||"",b=h.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),c=l.replace(c,"\x00$1\x00").replace(/\0$/,
"").replace(/^\0/,"").split("\x00"),h=parseInt(h.match(f))||1!=b.length&&h.match(e)&&Date.parse(h);if(e=parseInt(l.match(f))||h&&l.match(e)&&Date.parse(l)||null){if(h<e)return-1;if(h>e)return 1}h=0;for(l=Math.max(b.length,c.length);h<l;h++){e=!(b[h]||"").match(g)&&parseFloat(b[h])||b[h]||0;f=!(c[h]||"").match(g)&&parseFloat(c[h])||c[h]||0;if(isNaN(e)!==isNaN(f))return isNaN(e)?1:-1;typeof e!==typeof f&&(e+="",f+="");if(e<f)return-1;if(e>f)return 1}return 0}
(function(){var a={},d=window,c=d.document,b;a.disabled=!1;a.set=function(a,b){};a.get=function(a){};a.remove=function(a){};a.clear=function(){};a.transact=function(b,c,d){var e=a.get(b);null==d&&(d=c,c=null);"undefined"==typeof e&&(e=c||{});d(e);a.set(b,e)};a.getAll=function(){};a.serialize=function(a){return JSON.stringify(a)};a.deserialize=function(a){return"string"!=typeof a?void 0:JSON.parse(a)};var e;try{e="localStorage"in d&&d.localStorage}catch(f){e=!1}if(e)b=d.localStorage,a.set=function(c,
d){if(void 0===d)return a.remove(c);b.setItem(c,a.serialize(d))},a.get=function(c){return a.deserialize(b.getItem(c))},a.remove=function(a){b.removeItem(a)},a.clear=function(){b.clear()},a.getAll=function(){for(var c={},d=0;d<b.length;++d){var e=b.key(d);c[e]=a.get(e)}return c};else{var g;try{g="globalStorage"in d&&d.globalStorage&&d.globalStorage[d.location.hostname]}catch(h){g=!1}if(g)b=d.globalStorage[d.location.hostname],a.set=function(c,d){if(void 0===d)return a.remove(c);b[c]=a.serialize(d)},
a.get=function(c){return a.deserialize(b[c]&&b[c].value)},a.remove=function(a){delete b[a]},a.clear=function(){for(var a in b)delete b[a]},a.getAll=function(){for(var c={},d=0;d<b.length;++d){var e=b.key(d);c[e]=a.get(e)}return c};else if(c.documentElement.addBehavior){var l,n;try{n=new ActiveXObject("htmlfile"),n.open(),n.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></frame>'),n.close(),l=n.w.frames[0].document,b=l.createElement("div")}catch(r){b=c.createElement("div"),
l=c.body}var d=function(c){return function(){var d=Array.prototype.slice.call(arguments,0);d.unshift(b);l.appendChild(b);b.addBehavior("#default#userData");b.load("localStorage");d=c.apply(a,d);l.removeChild(b);return d}},t=/[!"#$%&'()*+,/\\:;<=>?@[\]^`{|}~]/g;a.set=d(function(b,c,d){c=c.replace(t,"___");if(void 0===d)return a.remove(c);b.setAttribute(c,a.serialize(d));b.save("localStorage")});a.get=d(function(b,c){c=c.replace(t,"___");return a.deserialize(b.getAttribute(c))});a.remove=d(function(a,
b){b=b.replace(t,"___");a.removeAttribute(b);a.save("localStorage")});a.clear=d(function(a){var b=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var c=0,d;d=b[c];c++)a.removeAttribute(d.name);a.save("localStorage")});a.getAll=d(function(b){var c=b.XMLDocument.documentElement.attributes;b.load("localStorage");b={};for(var d=0,e;e=c[d];++d)b[e]=a.get(e);return b})}}try{a.set("__storejs__","__storejs__"),"__storejs__"!=a.get("__storejs__")&&(a.disabled=!0),a.remove("__storejs__")}catch(s){a.disabled=
!0}a.enabled=!a.disabled;"undefined"!=typeof module&&"function"!=typeof module?module.exports=a:"function"===typeof define&&define.amd?define(a):this.store=a})();if("undefined"===typeof Events)var Events={};Events.slide={};Events.slide.timeout=!1;Events.slide.target=!1;Events.slide.started=!1;Events.slide.mouseDelay=70;Events.slide.mousedown=null;Events.slide.mouseThreshold=4;Events.slide.touchstart=null;Events.slide.touchThreshold=20;
Events.slide.onMouseMove=function(a){var d=Events.slide.mousedown;if(!d)return!0;var c=Events.slide.target;if(Events.slide.started)return $(c).trigger("slide",a),!0;if(1!=a.which||(new Date).getTime()-d.timeStamp<Events.slide.mouseDelay)return!0;var b=Math.abs(a.screenX-d.screenX),d=Math.abs(a.screenY-d.screenY);if(b+d<Events.slide.mouseThreshold)return!0;$(c).trigger("slidestart",a);Events.slide.started=!0};Events.slide.onMouseDown=function(a){Events.slide.mousedown=a;Events.slide.target=a.target};
Events.slide.onMouseUp=function(a){Events.slide.started&&(Events.slide.started=!1,$(Events.slide.target).trigger("slideend",a));Events.slide.mousedown=!1;return!0};Events.slide.onTouchStart=function(a){Events.slide.touchstart=a;Events.slide.target=a.target};Events.slide.onTouchEnd=function(a){Events.slide.started&&(Events.slide.started=!1,$(Events.slide.touchstart.target).trigger("slideend",a));return!0};
Events.slide.onTouchMove=function(a){var d=Events.slide.touchstart,c=Events.slide.target;if((new Date).getTime()-d.timeStamp<Events.slide.delay)return!0;var b=Math.abs(a.screenX-d.screenX),d=Math.abs(a.screenY-d.screenY);if(b+d<Events.slide.threshold)return!0;if(Events.slide.started)return $(c).trigger("slide",a),!0;$(c).trigger("slidestart",a);Events.slide.started=!0};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.slide.onTouchStart,!0),document.addEventListener("touchmove",Events.slide.onTouchMove,!0),document.addEventListener("touchend",Events.slide.onTouchEnd,!0)):(document.addEventListener("mousedown",Events.slide.onMouseDown,!0),document.addEventListener("mousemove",Events.slide.onMouseMove,!0),document.addEventListener("mouseup",Events.slide.onMouseUp,!0));"undefined"===typeof Events&&(Events={});
Events.tap={};Events.tap.mouseTime=750;Events.tap.mousedown=null;Events.tap.maxMouseDistance=8;Events.tap.onMouseDown=function(a){Events.tap.mousedown=a};Events.tap.onMouseUp=function(a){var d=Events.tap.mousedown;if(!d||a.timeStamp-d.timeStamp>Events.tap.mouseTime||a.target!==d.target)return!0;var c=Math.abs(a.screenX-d.screenX),b=Math.abs(a.screenY-d.screenY);if(c+b>Events.tap.maxMouseDistance)return!0;if(Events.tap.onPass)Events.tap.onPass(a);$(a.target).trigger("tap",d,a)};
Events.tap.touchstart=null;Events.tap.maxTouchDistance=20;Events.tap.onTouchStart=function(a){Events.tap.touchstart=a};Events.tap.onTouchEnd=function(a){var d=Events.tap.touchstart;if(a.timeStamp-d.timeStamp>Events.tap.maxTime||a.target!==d.target)return!0;var c=Math.abs(a.screenX-d.screenX),b=Math.abs(a.screenY-d.screenY);if(c+b>Events.tap.maxTouchDistance)return!0;$(a.target).trigger("tap",d,a)};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.tap.onTouchStart,!0),document.addEventListener("touchend",Events.tap.onTouchEnd,!0)):(document.addEventListener("mousedown",Events.tap.onMouseDown,!0),document.addEventListener("mouseup",Events.tap.onMouseUp,!0));$(document).on("keydown","input",function(a){if(13!==a.keyCode)return!0;$(this).trigger("enterkey")});"undefined"===typeof Events&&(Events={});Events.hold={};Events.hold.mousetime=750;
Events.hold.touchtime=1E3;Events.hold.mousedown=null;Events.hold.target=!1;Events.hold.maxMouseDistance=8;Events.hold.timeout=!1;Events.hold.onMouseDown=function(a){if(1!==a.which)return!0;Events.hold.mousedown=a;Events.hold.target=a.target;Events.hold.timeout=setTimeout("Events.hold.fireMouse()",Events.hold.mousetime)};Events.hold.onMouseMove=function(a){Events.hold.mousemove=a};Events.hold.onMouseUp=function(a){Events.hold.mousedown=!1;clearTimeout(Events.hold.timeout);return!0};
Events.hold.fireMouse=function(){var a=Events.hold.mousedown,d=Events.hold.mousemove;if(!Events.hold.mousedown)return!0;var c=Math.abs(d.screenX-a.screenX),d=Math.abs(d.screenY-a.screenY);if(c+d>Events.hold.maxMouseDistance)return!0;$(Events.hold.target).trigger("hold",a)};Events.hold.touchstart=null;Events.hold.maxTouchDistance=8;
Events.hold.onTouchStart=function(a){Events.hold.touchstart=a;Events.hold.touchmove=a;Events.hold.startX=a.touches[0].pageX;Events.hold.startY=a.touches[0].pageY;Events.hold.target=a.target;Events.hold.timeout=setTimeout("Events.hold.fireTouch()",Events.hold.touchtime)};Events.hold.onTouchMove=function(a){console.log(Events.hold.touchstart.touches[0].pageX);Events.hold.touchmove=a};Events.hold.onTouchEnd=function(a){Events.hold.touchstart=!1;clearTimeout(Events.hold.timeout);return!0};
Events.hold.fireTouch=function(){var a=Events.hold.touchmove,d=Math.abs(a.touches[0].pageX-Events.hold.startX),a=Math.abs(a.touches[0].pageY-Events.hold.startY);if(d+a>Events.hold.maxTouchDistance)return!0;$(Events.hold.target).trigger("hold",Events.hold.touchstart)};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.hold.onTouchStart,!0),document.addEventListener("touchend",Events.hold.onTouchEnd,!0),document.addEventListener("touchmove",Events.hold.onTouchMove,!0)):(document.addEventListener("mousedown",Events.hold.onMouseDown,!0),document.addEventListener("mousemove",Events.hold.onMouseMove,!0),document.addEventListener("mouseup",Events.hold.onMouseUp,!0));"undefined"===typeof Events&&(Events={});
Events.shortcut={};Events.shortcut.context="";Events.shortcut.disableShortcutsIfInputHasFocus=!0;Events.shortcut.isEditingText=function(){return Events.shortcut.disableShortcutsIfInputHasFocus?$("input:focus,div:focus,textarea:focus,a:focus,[contenteditable=true]:focus").length||$("div[contenteditable]").get(0)==document.activeElement?!0:!1:!1};Events.shortcut.on=!0;Events.shortcut.shortcuts={};
Events.shortcut.fire=function(a){if(!Events.shortcut.on||Events.shortcut.isEditingText())return!0;var d=Events.shortcut.string_from_keycode(a.keyCode);a.shiftKey&&(d="shift+"+d);a.metaKey&&(d="meta+"+d);a.ctrlKey&&(d="ctrl+"+d);a.altKey&&(d="alt+"+d);if(Events.shortcut.shortcuts[d]){var c=Events.shortcut.shortcuts[d];"function"===typeof c?c():$(Events.shortcut.context+"#"+c).trigger("tap");if(Events.shortcut.onfire)Events.shortcut.onfire(d);a.preventDefault()}};
Events.shortcut.string_from_keycode=function(a){var d=String.fromCharCode(a).toLowerCase(),c={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",
121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",190:".",191:"/",224:"meta"};a in c&&(d=c[a]);return d};$(document).on("ready",function(){$(document).on("keydown",Events.shortcut.fire)});
var parseCookie=function(a){var d={};a.split(/[;,] */).forEach(function(a){var b=a.indexOf("="),e=a.substr(0,b).trim();a=a.substr(++b,a.length).trim();'"'==a[0]&&(a=a.slice(1,-1));if(void 0==d[e])try{d[e]=decodeURIComponent(a)}catch(f){d[e]=a}});return d},MoveCursorToEnd=function(a){if(!a)return null;var d;document.createRange&&(d=document.createRange(),d.selectNodeContents(a),d.collapse(!1),a=window.getSelection(),a.removeAllRanges(),a.addRange(d))},io="undefined"===typeof module?{}:module.exports;
(function(){(function(a,c){a.version="0.9.11";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(b,e){var f=a.util.parseUri(b),g,h;c&&c.location&&(f.protocol=f.protocol||c.location.protocol.slice(0,-1),f.host=f.host||(c.document?c.document.domain:c.location.hostname),f.port=f.port||c.location.port);g=a.util.uniqueUri(f);var l={host:f.host,secure:"https"==f.protocol,port:f.port||("https"==f.protocol?443:80),query:f.query||""};a.util.merge(l,e);if(l["force new connection"]||!a.sockets[g])h=
new a.Socket(l);!l["force new connection"]&&h&&(a.sockets[g]=h);h=h||a.sockets[g];return h.of(1<f.path.length?f.path:"")}})("object"===typeof module?module.exports:this.io={},this);(function(a,c){var b=a.util={},e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,f="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
b.parseUri=function(a){a=e.exec(a||"");for(var b={},c=14;c--;)b[f[c]]=a[c]||"";return b};b.uniqueUri=function(a){var b=a.protocol,d=a.host;a=a.port;"document"in c?(d=d||document.domain,a=a||("https"==b&&"https:"!==document.location.protocol?443:document.location.port)):(d=d||"localhost",a||"https"!=b||(a=443));return(b||"http")+"://"+d+":"+(a||80)};b.query=function(a,c){var d=b.chunkQuery(a||""),e=[];b.merge(d,b.chunkQuery(c||""));for(var f in d)d.hasOwnProperty(f)&&e.push(f+"="+d[f]);return e.length?
"?"+e.join("&"):""};b.chunkQuery=function(a){var b={};a=a.split("&");for(var c=0,d=a.length,e;c<d;++c)e=a[c].split("="),e[0]&&(b[e[0]]=e[1]);return b};var g=!1;b.load=function(a){if("document"in c&&"complete"===document.readyState||g)return a();b.on(c,"load",a,!1)};b.on=function(a,b,c,d){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,d)};b.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!b.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&
(!a||b.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&b.load(function(){g=!0});b.defer=function(a){if(!b.ua.webkit||"undefined"!=typeof importScripts)return a();b.load(function(){setTimeout(a,100)})};b.merge=function(a,c,d,e){e=e||[];d="undefined"==typeof d?2:d;for(var f in c)c.hasOwnProperty(f)&&0>b.indexOf(e,f)&&("object"===typeof a[f]&&d?b.merge(a[f],c[f],d-1,e):(a[f]=
c[f],e.push(c[f])));return a};b.mixin=function(a,c){b.merge(a.prototype,c.prototype)};b.inherit=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c};b.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};b.intersect=function(a,c){for(var d=[],e=a.length>c.length?a:c,f=a.length>c.length?c:a,g=0,p=f.length;g<p;g++)~b.indexOf(e,f[g])&&d.push(f[g]);return d};b.indexOf=function(a,b,c){var d=a.length;for(c=0>c?0>c+d?0:c+d:c||0;c<d&&a[c]!==b;c++);
return d<=c?-1:c};b.toArray=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b};b.ua={};b.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(b){return!1}return void 0!=a.withCredentials}();b.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);b.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.exports,this);(function(a,c){function b(){}a.EventEmitter=
b;b.prototype.on=function(a,b){this.$events||(this.$events={});this.$events[a]?c.util.isArray(this.$events[a])?this.$events[a].push(b):this.$events[a]=[this.$events[a],b]:this.$events[a]=b;return this};b.prototype.addListener=b.prototype.on;b.prototype.once=function(a,b){function c(){d.removeListener(a,c);b.apply(this,arguments)}var d=this;c.listener=b;this.on(a,c);return this};b.prototype.removeListener=function(a,b){if(this.$events&&this.$events[a]){var d=this.$events[a];if(c.util.isArray(d)){for(var h=
-1,l=0,n=d.length;l<n;l++)if(d[l]===b||d[l].listener&&d[l].listener===b){h=l;break}if(0>h)return this;d.splice(h,1);d.length||delete this.$events[a]}else(d===b||d.listener&&d.listener===b)&&delete this.$events[a]}return this};b.prototype.removeAllListeners=function(a){if(void 0===a)return this.$events={},this;this.$events&&this.$events[a]&&(this.$events[a]=null);return this};b.prototype.listeners=function(a){this.$events||(this.$events={});this.$events[a]||(this.$events[a]=[]);c.util.isArray(this.$events[a])||
(this.$events[a]=[this.$events[a]]);return this.$events[a]};b.prototype.emit=function(a){if(!this.$events)return!1;var b=this.$events[a];if(!b)return!1;var d=Array.prototype.slice.call(arguments,1);if("function"==typeof b)b.apply(this,d);else if(c.util.isArray(b))for(var b=b.slice(),h=0,l=b.length;h<l;h++)b[h].apply(this,d);else return!1;return!0}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(a,c){function b(a){return 10>a?"0"+a:a}function e(a){l.lastIndex=
0;return l.test(a)?'"'+a.replace(l,function(a){var b=t[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a,c){var d,g,h,l,t=n,L,m=c[a];m instanceof Date&&(m=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"Z":null);"function"===typeof s&&(m=s.call(c,a,m));switch(typeof m){case "string":return e(m);case "number":return isFinite(m)?
String(m):"null";case "boolean":case "null":return String(m);case "object":if(!m)return"null";n+=r;L=[];if("[object Array]"===Object.prototype.toString.apply(m)){l=m.length;for(d=0;d<l;d+=1)L[d]=f(d,m)||"null";h=0===L.length?"[]":n?"[\n"+n+L.join(",\n"+n)+"\n"+t+"]":"["+L.join(",")+"]";n=t;return h}if(s&&"object"===typeof s)for(l=s.length,d=0;d<l;d+=1)"string"===typeof s[d]&&(g=s[d],(h=f(g,m))&&L.push(e(g)+(n?": ":":")+h));else for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h=f(g,m))&&L.push(e(g)+
(n?": ":":")+h);h=0===L.length?"{}":n?"{\n"+n+L.join(",\n"+n)+"\n"+t+"}":"{"+L.join(",")+"}";n=t;return h}}if(c&&c.parse)return a.JSON={parse:c.parse,stringify:c.stringify};var g=a.JSON={},h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},
s;g.stringify=function(a,b,c){var d;r=n="";if("number"===typeof c)for(d=0;d<c;d+=1)r+=" ";else"string"===typeof c&&(r=c);if((s=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return f("",{"":a})};g.parse=function(a,b){function c(a,d){var e,f,g=a[d];if(g&&"object"===typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=c(g,e),void 0!==f?g[e]=f:delete g[e]);return b.call(a,d,g)}var d;a=String(a);h.lastIndex=0;h.test(a)&&(a=a.replace(h,
function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,"undefined"!==typeof JSON?JSON:void 0);(function(a,c){var b=a.parser={},e=b.packets="disconnect connect heartbeat message json event ack error noop".split(" "),
f=b.reasons=["transport not supported","client not handshaken","unauthorized"],g=b.advice=["reconnect"],h=c.JSON,l=c.util.indexOf;b.encodePacket=function(a){var b=l(e,a.type),c=a.id||"",d=a.endpoint||"",n=a.ack,v=null;switch(a.type){case "error":var D=a.reason?l(f,a.reason):"";a=a.advice?l(g,a.advice):"";if(""!==D||""!==a)v=D+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(v=a.data);break;case "event":v={name:a.name};a.args&&a.args.length&&(v.args=a.args);v=h.stringify(v);break;case "json":v=
h.stringify(a.data);break;case "connect":a.qs&&(v=a.qs);break;case "ack":v=a.ackId+(a.args&&a.args.length?"+"+h.stringify(a.args):"")}b=[b,c+("data"==n?"+":""),d];null!==v&&void 0!==v&&b.push(v);return b.join(":")};b.encodePayload=function(a){var b="";if(1==a.length)return a[0];for(var c=0,d=a.length;c<d;c++)b+="\ufffd"+a[c].length+"\ufffd"+a[c];return b};var n=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;b.decodePacket=function(a){var b=a.match(n);if(!b)return{};var c=b[2]||"";a=b[5]||"";var d=
{type:e[b[1]],endpoint:b[4]||""};c&&(d.id=c,d.ack=b[3]?"data":!0);switch(d.type){case "error":b=a.split("+");d.reason=f[b[0]]||"";d.advice=g[b[1]]||"";break;case "message":d.data=a||"";break;case "event":try{var l=h.parse(a);d.name=l.name;d.args=l.args}catch(v){}d.args=d.args||[];break;case "json":try{d.data=h.parse(a)}catch(D){}break;case "connect":d.qs=a||"";break;case "ack":if(b=a.match(/^([0-9]+)(\+)?(.*)/))if(d.ackId=b[1],d.args=[],b[3])try{d.args=b[3]?h.parse(b[3]):[]}catch(J){}}return d};b.decodePayload=
function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,e="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(b.decodePacket(a.substr(d+1).substr(0,e))),d+=Number(e)+1,e=""):e+=a.charAt(d);return c}return[b.decodePacket(a)]}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(a,c){function b(a,b){this.socket=a;this.sessid=b}a.Transport=b;c.util.mixin(b,c.EventEmitter);b.prototype.heartbeats=function(){return!0};b.prototype.onData=function(a){this.clearCloseTimeout();
(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(""!==a&&(a=c.parser.decodePayload(a))&&a.length)for(var b=0,d=a.length;b<d;b++)this.onPacket(a[b]);return this};b.prototype.onPacket=function(a){this.socket.setHeartbeatTimeout();if("heartbeat"==a.type)return this.onHeartbeat();if("connect"==a.type&&""==a.endpoint)this.onConnect();"error"==a.type&&"reconnect"==a.advice&&(this.isOpen=!1);this.socket.onPacket(a);return this};b.prototype.setCloseTimeout=
function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}};b.prototype.onDisconnect=function(){this.isOpen&&this.close();this.clearTimeouts();this.socket.onDisconnect();return this};b.prototype.onConnect=function(){this.socket.onConnect();return this};b.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)};b.prototype.clearTimeouts=function(){this.clearCloseTimeout();
this.reopenTimeout&&clearTimeout(this.reopenTimeout)};b.prototype.packet=function(a){this.send(c.parser.encodePacket(a))};b.prototype.onHeartbeat=function(a){this.packet({type:"heartbeat"})};b.prototype.onOpen=function(){this.isOpen=!0;this.clearCloseTimeout();this.socket.onOpen()};b.prototype.onClose=function(){this.isOpen=!1;this.socket.onClose();this.onDisconnect()};b.prototype.prepareUrl=function(){var a=this.socket.options;return this.scheme()+"://"+a.host+":"+a.port+"/"+a.resource+"/"+c.protocol+
"/"+this.name+"/"+this.sessid};b.prototype.ready=function(a,b){b.call(this)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(a,c,b){function e(a){this.options={port:80,secure:!1,document:"document"in b?document:!1,resource:"socket.io",transports:c.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!1,
"auto connect":!0,"flash policy port":10843,manualFlush:!1};c.util.merge(this.options,a);this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=[];this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||c.util.ua.hasCORS)){var d=this;c.util.on(b,"beforeunload",function(){d.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function f(){}a.Socket=e;c.util.mixin(e,c.EventEmitter);e.prototype.of=function(a){this.namespaces[a]||
(this.namespaces[a]=new c.SocketNamespace(this,a),""!==a&&this.namespaces[a].packet({type:"connect"}));return this.namespaces[a]};e.prototype.publish=function(){this.emit.apply(this,arguments);var a,b;for(b in this.namespaces)this.namespaces.hasOwnProperty(b)&&(a=this.of(b),a.$emit.apply(a,arguments))};e.prototype.handshake=function(a){function b(c){c instanceof Error?(d.connecting=!1,d.onError(c.message)):a.apply(null,c.split(":"))}var d=this,e=this.options,e=["http"+(e.secure?"s":"")+":/",e.host+
":"+e.port,e.resource,c.protocol,c.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!c.util.ua.hasCORS){var r=document.getElementsByTagName("script")[0],t=document.createElement("script");t.src=e+"&jsonp="+c.j.length;r.parentNode.insertBefore(t,r);c.j.push(function(a){b(a);t.parentNode.removeChild(t)})}else{var s=c.util.request();s.open("GET",e,!0);this.isXDomain()&&(s.withCredentials=!0);s.onreadystatechange=function(){if(4==s.readyState)if(s.onreadystatechange=f,200==
s.status)b(s.responseText);else if(403==s.status)d.onError(s.responseText);else d.connecting=!1,!d.reconnecting&&d.onError(s.responseText)};s.send(null)}};e.prototype.getTransport=function(a){a=a||this.transports;for(var b=0,d;d=a[b];b++)if(c.Transport[d]&&c.Transport[d].check(this)&&(!this.isXDomain()||c.Transport[d].xdomainCheck(this)))return new c.Transport[d](this,this.sessionid);return null};e.prototype.connect=function(a){if(this.connecting)return this;var b=this;b.connecting=!0;this.handshake(function(d,
e,f,t){function s(a){b.transport&&b.transport.clearTimeouts();b.transport=b.getTransport(a);if(!b.transport)return b.publish("connect_failed");b.transport.ready(b,function(){b.connecting=!0;b.publish("connecting",b.transport.name);b.transport.open();b.options["connect timeout"]&&(b.connectTimeoutTimer=setTimeout(function(){if(!b.connected&&(b.connecting=!1,b.options["try multiple transports"])){for(var a=b.transports;0<a.length&&a.splice(0,1)[0]!=b.transport.name;);a.length?s(a):b.publish("connect_failed")}},
b.options["connect timeout"]))})}b.sessionid=d;b.closeTimeout=1E3*f;b.heartbeatTimeout=1E3*e;b.transports||(b.transports=b.origTransports=t?c.util.intersect(t.split(","),b.options.transports):b.options.transports);b.setHeartbeatTimeout();s(b.transports);b.once("connect",function(){clearTimeout(b.connectTimeoutTimer);a&&"function"==typeof a&&a()})});return this};e.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(!this.transport||this.transport.heartbeats()){var a=
this;this.heartbeatTimeoutTimer=setTimeout(function(){a.transport.onClose()},this.heartbeatTimeout)}};e.prototype.packet=function(a){this.connected&&!this.doBuffer?this.transport.packet(a):this.buffer.push(a);return this};e.prototype.setBuffer=function(a){this.doBuffer=a;!a&&(this.connected&&this.buffer.length)&&(this.options.manualFlush||this.flushBuffer())};e.prototype.flushBuffer=function(){this.transport.payload(this.buffer);this.buffer=[]};e.prototype.disconnect=function(){if(this.connected||
this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this};e.prototype.disconnectSync=function(){var a=c.util.request(),b=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,c.protocol,"",this.sessionid].join("/")+"/?disconnect=1";a.open("GET",b,!1);a.send(null);this.onDisconnect("booted")};e.prototype.isXDomain=function(){var a=b.location.port||("https:"==b.location.protocol?443:80);return this.options.host!==
b.location.hostname||this.options.port!=a};e.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))};e.prototype.onOpen=function(){this.open=!0};e.prototype.onClose=function(){this.open=!1;clearTimeout(this.heartbeatTimeoutTimer)};e.prototype.onPacket=function(a){this.of(a.endpoint).onPacket(a)};e.prototype.onError=function(a){a&&a.advice&&("reconnect"===a.advice&&(this.connected||this.connecting))&&(this.disconnect(),
this.options.reconnect&&this.reconnect());this.publish("error",a&&a.reason?a.reason:a)};e.prototype.onDisconnect=function(a){var b=this.connected,c=this.connecting;this.open=this.connecting=this.connected=!1;if(b||c)this.transport.close(),this.transport.clearTimeouts(),b&&(this.publish("disconnect",a),"booted"!=a&&(this.options.reconnect&&!this.reconnecting)&&this.reconnect())};e.prototype.reconnect=function(){function a(){if(c.connected){for(var d in c.namespaces)c.namespaces.hasOwnProperty(d)&&
""!==d&&c.namespaces[d].packet({type:"connect"});c.publish("reconnect",c.transport.name,c.reconnectionAttempts)}clearTimeout(c.reconnectionTimer);c.removeListener("connect_failed",b);c.removeListener("connect",b);c.reconnecting=!1;delete c.reconnectionAttempts;delete c.reconnectionDelay;delete c.reconnectionTimer;delete c.redoTransports;c.options["try multiple transports"]=e}function b(){if(c.reconnecting){if(c.connected)return a();if(c.connecting&&c.reconnecting)return c.reconnectionTimer=setTimeout(b,
1E3);c.reconnectionAttempts++>=d?c.redoTransports?(c.publish("reconnect_failed"),a()):(c.on("connect_failed",b),c.options["try multiple transports"]=!0,c.transports=c.origTransports,c.transport=c.getTransport(),c.redoTransports=!0,c.connect()):(c.reconnectionDelay<f&&(c.reconnectionDelay*=2),c.connect(),c.publish("reconnecting",c.reconnectionDelay,c.reconnectionAttempts),c.reconnectionTimer=setTimeout(b,c.reconnectionDelay))}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=
this.options["reconnection delay"];var c=this,d=this.options["max reconnection attempts"],e=this.options["try multiple transports"],f=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(b,this.reconnectionDelay);this.on("connect",b)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(a,c){function b(a,b){this.socket=a;this.name=b||"";this.flags={};this.json=new e(this,"json");this.ackPackets=
0;this.acks={}}function e(a,b){this.namespace=a;this.name=b}a.SocketNamespace=b;c.util.mixin(b,c.EventEmitter);b.prototype.$emit=c.EventEmitter.prototype.emit;b.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};b.prototype.packet=function(a){a.endpoint=this.name;this.socket.packet(a);this.flags={};return this};b.prototype.send=function(a,b){var c={type:this.flags.json?"json":"message",data:a};"function"==typeof b&&(c.id=++this.ackPackets,c.ack=!0,this.acks[c.id]=b);return this.packet(c)};
b.prototype.emit=function(a){var b=Array.prototype.slice.call(arguments,1),c=b[b.length-1],d={type:"event",name:a};"function"==typeof c&&(d.id=++this.ackPackets,d.ack="data",this.acks[d.id]=c,b=b.slice(0,b.length-1));d.args=b;return this.packet(d)};b.prototype.disconnect=function(){""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect"));return this};b.prototype.onPacket=function(a){function b(){d.packet({type:"ack",args:c.util.toArray(arguments),ackId:a.id})}
var d=this;switch(a.type){case "connect":this.$emit("connect");break;case "disconnect":if(""===this.name)this.socket.onDisconnect(a.reason||"booted");else this.$emit("disconnect",a.reason);break;case "message":case "json":var e=["message",a.data];"data"==a.ack?e.push(b):a.ack&&this.packet({type:"ack",ackId:a.id});this.$emit.apply(this,e);break;case "event":e=[a.name].concat(a.args);"data"==a.ack&&e.push(b);this.$emit.apply(this,e);break;case "ack":this.acks[a.ackId]&&(this.acks[a.ackId].apply(this,
a.args),delete this.acks[a.ackId]);break;case "error":if(a.advice)this.socket.onError(a);else"unauthorized"==a.reason?this.$emit("connect_failed",a.reason):this.$emit("error",a.reason)}};e.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};e.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,arguments)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);
(function(a,c,b){function e(a){c.Transport.apply(this,arguments)}a.websocket=e;c.util.inherit(e,c.Transport);e.prototype.name="websocket";e.prototype.open=function(){var a=c.util.query(this.socket.options.query),d=this,e;e||(e=b.MozWebSocket||b.WebSocket);this.websocket=new e(this.prepareUrl()+a);this.websocket.onopen=function(){d.onOpen();d.socket.setBuffer(!1)};this.websocket.onmessage=function(a){d.onData(a.data)};this.websocket.onclose=function(){d.onClose();d.socket.setBuffer(!0)};this.websocket.onerror=
function(a){d.onError(a)};return this};e.prototype.send=c.util.ua.iDevice?function(a){var b=this;setTimeout(function(){b.websocket.send(a)},0);return this}:function(a){this.websocket.send(a);return this};e.prototype.payload=function(a){for(var b=0,c=a.length;b<c;b++)this.packet(a[b]);return this};e.prototype.close=function(){this.websocket.close();return this};e.prototype.onError=function(a){this.socket.onError(a)};e.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};e.check=
function(){return"WebSocket"in b&&!("__addTask"in WebSocket)||"MozWebSocket"in b};e.xdomainCheck=function(){return!0};c.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(d,c){function b(){c.Transport.websocket.apply(this,arguments)}d.flashsocket=b;c.util.inherit(b,c.Transport.websocket);b.prototype.name="flashsocket";b.prototype.open=function(){var a=this,b=arguments;WebSocket.__addTask(function(){c.Transport.websocket.prototype.open.apply(a,
b)});return this};b.prototype.send=function(){var a=this,b=arguments;WebSocket.__addTask(function(){c.Transport.websocket.prototype.send.apply(a,b)});return this};b.prototype.close=function(){WebSocket.__tasks.length=0;c.Transport.websocket.prototype.close.call(this);return this};b.prototype.ready=function(a,d){function g(){var c=a.options,g=c["flash policy port"],r=["http"+(c.secure?"s":"")+":/",c.host+":"+c.port,c.resource,"static/flashsocket","WebSocketMain"+(a.isXDomain()?"Insecure":"")+".swf"];
b.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=r.join("/")),843!==g&&WebSocket.loadFlashPolicyFile("xmlsocket://"+c.host+":"+g),WebSocket.__initialize(),b.loaded=!0);d.call(h)}var h=this;if(document.body)return g();c.util.load(g)};b.check=function(){return"undefined"!=typeof WebSocket&&"__initialize"in WebSocket&&a?10<=a.getFlashPlayerVersion().major:!1};b.xdomainCheck=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);c.transports.push("flashsocket")})("undefined"!=
typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);if("undefined"!=typeof window)var a=function(){function d(){if(!q){try{var a=G.getElementsByTagName("body")[0].appendChild(G.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}q=!0;for(var a=U.length,c=0;c<a;c++)U[c]()}}function c(a){q?a():U[U.length]=a}function b(a){if(typeof N.addEventListener!=B)N.addEventListener("load",a,!1);else if(typeof G.addEventListener!=B)G.addEventListener("load",a,!1);
else if(typeof N.attachEvent!=B)w(N,"onload",a);else if("function"==typeof N.onload){var b=N.onload;N.onload=function(){b();a()}}else N.onload=a}function e(){var a=G.getElementsByTagName("body")[0],b=G.createElement(L);b.setAttribute("type",m);var c=a.appendChild(b);if(c){var d=0;(function(){if(typeof c.GetVariable!=B){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),u.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d){d++;setTimeout(arguments.callee,10);return}a.removeChild(b);
c=null;f()})()}else f()}function f(){var a=V.length;if(0<a)for(var b=0;b<a;b++){var c=V[b].id,d=V[b].callbackFn,e={success:!1,id:c};if(0<u.pv[0]){var f=p(c);if(f)if(!v(V[b].swfVersion)||u.wk&&312>u.wk)if(V[b].expressInstall&&h()){e={};e.data=V[b].expressInstall;e.width=f.getAttribute("width")||"0";e.height=f.getAttribute("height")||"0";f.getAttribute("class")&&(e.styleclass=f.getAttribute("class"));f.getAttribute("align")&&(e.align=f.getAttribute("align"));for(var m={},f=f.getElementsByTagName("param"),
t=f.length,r=0;r<t;r++)"movie"!=f[r].getAttribute("name").toLowerCase()&&(m[f[r].getAttribute("name")]=f[r].getAttribute("value"));l(e,m,c,d)}else n(f),d&&d(e);else J(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else J(c,!0),d&&((c=g(c))&&typeof c.SetVariable!=B&&(e.success=!0,e.ref=c),d(e))}}function g(a){var b=null;(a=p(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=B?b=a:(a=a.getElementsByTagName(L)[0])&&(b=a));return b}function h(){return!F&&v("6.0.65")&&(u.win||u.mac)&&!(u.wk&&312>u.wk)}function l(a,
b,c,d){F=!0;W=d||null;X={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(ca=r(e),M=null):(ca=e,M=c);a.id=C;if(typeof a.width==B||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==B||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";G.title=G.title.slice(0,47)+" - Flash Player Installation";d=u.ie&&u.win?["Active"].concat("").join("X"):"PlugIn";d="MMredirectURL="+N.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+G.title;b.flashvars=
typeof b.flashvars!=B?b.flashvars+("&"+d):d;u.ie&&(u.win&&4!=e.readyState)&&(d=G.createElement("div"),c+="SWFObjectNew",d.setAttribute("id",c),e.parentNode.insertBefore(d,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}());t(a,b,c)}}function n(a){if(u.ie&&u.win&&4!=a.readyState){var b=G.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(r(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):
setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(r(a),a)}function r(a){var b=G.createElement("div");if(u.win&&u.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(L)[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)1==a[d].nodeType&&"PARAM"==a[d].nodeName||8==a[d].nodeType||b.appendChild(a[d].cloneNode(!0));return b}function t(a,b,c){var d,e=p(c);if(u.wk&&312>u.wk)return d;if(e)if(typeof a.id==B&&(a.id=c),u.ie&&u.win){var f="",g;for(g in a)a[g]!=Object.prototype[g]&&
("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));g="";for(var h in b)b[h]!=Object.prototype[h]&&(g+='<param name="'+h+'" value="'+b[h]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+g+"</object>";Z[Z.length]=a.id;d=p(a.id)}else{h=G.createElement(L);h.setAttribute("type",m);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?h.setAttribute("class",
a[l]):"classid"!=l.toLowerCase()&&h.setAttribute(l,a[l]));for(f in b)b[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&(a=h,g=f,l=b[f],c=G.createElement("param"),c.setAttribute("name",g),c.setAttribute("value",l),a.appendChild(c));e.parentNode.replaceChild(h,e);d=h}return d}function s(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(u.ie&&u.win?(b.style.display="none",function(){if(4==b.readyState){var c=p(a);if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,
10)}()):b.parentNode.removeChild(b))}function p(a){var b=null;try{b=G.getElementById(a)}catch(c){}return b}function w(a,b,c){a.attachEvent(b,c);P[P.length]=[a,b,c]}function v(a){var b=u.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function D(a,b,c,d){if(!u.ie||!u.mac){var e=G.getElementsByTagName("head")[0];e&&(c=c&&"string"==typeof c?c:"screen",d&&(H=x=null),x&&H==c||
(d=G.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),x=e.appendChild(d),u.ie&&(u.win&&typeof G.styleSheets!=B&&0<G.styleSheets.length)&&(x=G.styleSheets[G.styleSheets.length-1]),H=c),u.ie&&u.win?x&&typeof x.addRule==L&&x.addRule(a,b):x&&typeof G.createTextNode!=B&&x.appendChild(G.createTextNode(a+" {"+b+"}")))}}function J(a,b){if(K){var c=b?"visible":"hidden";q&&p(a)?p(a).style.visibility=c:D("#"+a,"visibility:"+c)}}function O(a){return null!=/[\\\"<>\.;]/.exec(a)&&
typeof encodeURIComponent!=B?encodeURIComponent(a):a}var B="undefined",L="object",m="application/x-shockwave-flash",C="SWFObjectExprInst",N=window,G=document,y=navigator,S=!1,U=[function(){S?e():f()}],V=[],Z=[],P=[],ca,M,W,X,q=!1,F=!1,x,H,K=!0,u=function(){var a=typeof G.getElementById!=B&&typeof G.getElementsByTagName!=B&&typeof G.createElement!=B,b=y.userAgent.toLowerCase(),c=y.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,
"$1")):!1,e=!+"\v1",f=[0,0,0],g=null;if(typeof y.plugins!=B&&typeof y.plugins["Shockwave Flash"]==L)!(g=y.plugins["Shockwave Flash"].description)||typeof y.mimeTypes!=B&&y.mimeTypes[m]&&!y.mimeTypes[m].enabledPlugin||(S=!0,e=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),f[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),f[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),f[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof N[["Active"].concat("Object").join("X")]!=B)try{var h=
new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");h&&(g=h.GetVariable("$version"))&&(e=!0,g=g.split(" ")[1].split(","),f=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)])}catch(l){}return{w3:a,pv:f,wk:b,ie:e,win:d,mac:c}}();(function(){u.w3&&((typeof G.readyState!=B&&"complete"==G.readyState||typeof G.readyState==B&&(G.getElementsByTagName("body")[0]||G.body))&&d(),q||(typeof G.addEventListener!=B&&G.addEventListener("DOMContentLoaded",d,!1),u.ie&&u.win&&
(G.attachEvent("onreadystatechange",function(){"complete"==G.readyState&&(G.detachEvent("onreadystatechange",arguments.callee),d())}),N==top&&function(){if(!q){try{G.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}d()}}()),u.wk&&function(){q||(/loaded|complete/.test(G.readyState)?d():setTimeout(arguments.callee,0))}(),b(d)))})();(function(){u.ie&&u.win&&window.attachEvent("onunload",function(){for(var b=P.length,c=0;c<b;c++)P[c][0].detachEvent(P[c][1],P[c][2]);b=Z.length;
for(c=0;c<b;c++)s(Z[c]);for(var d in u)u[d]=null;u=null;for(var e in a)a[e]=null;a=null})})();return{registerObject:function(a,b,c,d){if(u.w3&&a&&b){var e={};e.id=a;e.swfVersion=b;e.expressInstall=c;e.callbackFn=d;V[V.length]=e;J(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(u.w3)return g(a)},embedSWF:function(a,b,d,e,f,g,n,m,p,r){var q={success:!1,id:b};u.w3&&!(u.wk&&312>u.wk)&&a&&b&&d&&e&&f?(J(b,!1),c(function(){d+="";e+="";var c={};if(p&&typeof p===L)for(var z in p)c[z]=p[z];
c.data=a;c.width=d;c.height=e;z={};if(m&&typeof m===L)for(var Y in m)z[Y]=m[Y];if(n&&typeof n===L)for(var s in n)z.flashvars=typeof z.flashvars!=B?z.flashvars+("&"+s+"="+n[s]):s+"="+n[s];if(v(f))Y=t(c,z,b),c.id==b&&J(b,!0),q.success=!0,q.ref=Y;else{if(g&&h()){c.data=g;l(c,z,b,r);return}J(b,!0)}r&&r(q)})):r&&r(q)},switchOffAutoHideShow:function(){K=!1},ua:u,getFlashPlayerVersion:function(){return{major:u.pv[0],minor:u.pv[1],release:u.pv[2]}},hasFlashPlayerVersion:v,createSWF:function(a,b,c){if(u.w3)return t(a,
b,c)},showExpressInstall:function(a,b,c,d){u.w3&&h()&&l(a,b,c,d)},removeSWF:function(a){u.w3&&s(a)},createCSS:function(a,b,c,d){u.w3&&D(a,b,c,d)},addDomLoadEvent:c,addLoadEvent:b,getQueryParamValue:function(a){var b=G.location.search||G.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return O(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return O(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(F){var a=p(C);
a&&ca&&(a.parentNode.replaceChild(ca,a),M&&(J(M,!0),u.ie&&u.win&&(ca.style.display="block")),W&&W(X));F=!1}}}}();(function(){if("undefined"!=typeof window&&!window.WebSocket){var d=window.console;d&&d.log&&d.error||(d={log:function(){},error:function(){}});a.hasFlashPlayerVersion("10.0.0")?("file:"==location.protocol&&d.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,
b,d,f,g){var h=this;h.__id=WebSocket.__nextId++;WebSocket.__instances[h.__id]=h;h.readyState=WebSocket.CONNECTING;h.bufferedAmount=0;h.__events={};b?"string"==typeof b&&(b=[b]):b=[];setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(h.__id,a,b,d||null,f||0,g||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.__flash.send(this.__id,encodeURIComponent(a));
if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.CLOSING&&(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function(a,b,d){a in this.__events||(this.__events[a]=[]);this.__events[a].push(b)},WebSocket.prototype.removeEventListener=function(a,b,d){if(a in this.__events)for(a=this.__events[a],d=a.length-1;0<=d;--d)if(a[d]===b){a.splice(d,1);break}},
WebSocket.prototype.dispatchEvent=function(a){for(var b=this.__events[a.type]||[],d=0;d<b.length;++d)b[d](a);(b=this["on"+a.type])&&b(a)},WebSocket.prototype.__handleEvent=function(a){"readyState"in a&&(this.readyState=a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.__createSimpleEvent(a.type);else if("close"==a.type)a=this.__createSimpleEvent("close");else if("message"==a.type)a=decodeURIComponent(a.message),a=this.__createMessageEvent("message",
a);else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.__createSimpleEvent=function(a){if(document.createEvent&&window.Event){var b=document.createEvent("Event");b.initEvent(a,!1,!1);return b}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(a,b){if(document.createEvent&&window.MessageEvent&&!window.opera){var d=document.createEvent("MessageEvent");d.initMessageEvent("message",!1,!1,b,null,null,window,null);return d}return{type:a,
data:b,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(a){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(a)})},WebSocket.__initialize=function(){if(!WebSocket.__flash)if(WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),window.WEB_SOCKET_SWF_LOCATION){var c=document.createElement("div");
c.id="webSocketContainer";c.style.position="absolute";WebSocket.__isFlashLite()?(c.style.left="0px",c.style.top="0px"):(c.style.left="-100px",c.style.top="-100px");var b=document.createElement("div");b.id="webSocketFlash";c.appendChild(b);document.body.appendChild(c);a.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(a){a.success||d.error("[WebSocket] swfobject.embedSWF failed")})}else d.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf")},
WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash");WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var a=0;a<WebSocket.__tasks.length;++a)WebSocket.__tasks[a]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){setTimeout(function(){try{for(var a=WebSocket.__flash.receiveEvents(),b=0;b<a.length;++b)WebSocket.__instances[a[b].webSocketId].__handleEvent(a[b])}catch(e){d.error(e)}},
0);return!0},WebSocket.__log=function(a){d.log(decodeURIComponent(a))},WebSocket.__error=function(a){d.error(decodeURIComponent(a))},WebSocket.__addTask=function(a){WebSocket.__flash?a():WebSocket.__tasks.push(a)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||
(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))):d.error("Flash Player >= 10.0.0 is required.")}})();(function(a,c,b){function e(a){a&&(c.Transport.apply(this,arguments),this.sendBuffer=[])}function f(){}a.XHR=e;c.util.inherit(e,c.Transport);e.prototype.open=function(){this.socket.setBuffer(!1);this.onOpen();this.get();this.setCloseTimeout();return this};e.prototype.payload=function(a){for(var b=
[],d=0,e=a.length;d<e;d++)b.push(c.parser.encodePacket(a[d]));this.send(c.parser.encodePayload(b))};e.prototype.send=function(a){this.post(a);return this};e.prototype.post=function(a){function c(){if(4==this.readyState)if(this.onreadystatechange=f,e.posting=!1,200==this.status)e.socket.setBuffer(!1);else e.onClose()}function d(){this.onload=f;e.socket.setBuffer(!1)}var e=this;this.socket.setBuffer(!0);this.sendXHR=this.request("POST");b.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=
this.sendXHR.onerror=d:this.sendXHR.onreadystatechange=c;this.sendXHR.send(a)};e.prototype.close=function(){this.onClose();return this};e.prototype.request=function(a){var b=c.util.request(this.socket.isXDomain()),d=c.util.query(this.socket.options.query,"t="+ +new Date);b.open(a||"GET",this.prepareUrl()+d,!0);if("POST"==a)try{b.setRequestHeader?b.setRequestHeader("Content-type","text/plain;charset=UTF-8"):b.contentType="text/plain"}catch(e){}return b};e.prototype.scheme=function(){return this.socket.options.secure?
"https":"http"};e.check=function(a,d){try{var e=c.util.request(d),f=b.XDomainRequest&&e instanceof XDomainRequest,r=a&&a.options&&a.options.secure?"https:":"http:",t=b.location&&r!=b.location.protocol;if(e&&(!f||!t))return!0}catch(s){}return!1};e.xdomainCheck=function(a){return e.check(a,!0)}})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(a,c){function b(a){c.Transport.XHR.apply(this,arguments)}a.htmlfile=b;c.util.inherit(b,c.Transport.XHR);
b.prototype.name="htmlfile";b.prototype.get=function(){this.doc=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();this.doc.parentWindow.s=this;var a=this.doc.createElement("div");a.className="socketio";this.doc.body.appendChild(a);this.iframe=this.doc.createElement("iframe");a.appendChild(this.iframe);var b=this,a=c.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+a;c.util.on(window,
"unload",function(){b.destroy()})};b.prototype._=function(a,b){this.onData(a);try{var c=b.getElementsByTagName("script")[0];c.parentNode.removeChild(c)}catch(d){}};b.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};b.prototype.close=function(){this.destroy();return c.Transport.XHR.prototype.close.call(this)};b.check=function(a){if("undefined"!=typeof window&&["Active"].concat("Object").join("X")in
window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&c.Transport.XHR.check(a)}catch(b){}return!1};b.xdomainCheck=function(){return!1};c.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(a,c,b){function e(){c.Transport.XHR.apply(this,arguments)}function f(){}a["xhr-polling"]=e;c.util.inherit(e,c.Transport.XHR);c.util.merge(e,c.Transport.XHR);e.prototype.name="xhr-polling";e.prototype.heartbeats=
function(){return!1};e.prototype.open=function(){c.Transport.XHR.prototype.open.call(this);return!1};e.prototype.get=function(){function a(){if(4==this.readyState)if(this.onreadystatechange=f,200==this.status)e.onData(this.responseText),e.get();else e.onClose()}function c(){this.onerror=this.onload=f;e.retryCounter=1;e.onData(this.responseText);e.get()}function d(){e.retryCounter++;if(!e.retryCounter||3<e.retryCounter)e.onClose();else e.get()}if(this.isOpen){var e=this;this.xhr=this.request();b.XDomainRequest&&
this.xhr instanceof XDomainRequest?(this.xhr.onload=c,this.xhr.onerror=d):this.xhr.onreadystatechange=a;this.xhr.send(null)}};e.prototype.onClose=function(){c.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=f;try{this.xhr.abort()}catch(a){}this.xhr=null}};e.prototype.ready=function(a,b){var d=this;c.util.defer(function(){b.call(d)})};c.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=
typeof io?io:module.parent.exports,this);(function(a,c,b){function e(a){c.Transport["xhr-polling"].apply(this,arguments);this.index=c.j.length;var b=this;c.j.push(function(a){b._(a)})}var f=b.document&&"MozAppearance"in b.document.documentElement.style;a["jsonp-polling"]=e;c.util.inherit(e,c.Transport["xhr-polling"]);e.prototype.name="jsonp-polling";e.prototype.post=function(a){function b(){d();e.socket.setBuffer(!1)}function d(){e.iframe&&e.form.removeChild(e.iframe);try{w=document.createElement('<iframe name="'+
e.iframeId+'">')}catch(a){w=document.createElement("iframe"),w.name=e.iframeId}w.id=e.iframeId;e.form.appendChild(w);e.iframe=w}var e=this,f=c.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var t=document.createElement("form"),s=document.createElement("textarea"),p=this.iframeId="socketio_iframe_"+this.index,w;t.className="socketio";t.style.position="absolute";t.style.top="0px";t.style.left="0px";t.style.display="none";t.target=p;t.method="POST";t.setAttribute("accept-charset",
"utf-8");s.name="d";t.appendChild(s);document.body.appendChild(t);this.form=t;this.area=s}this.form.action=this.prepareUrl()+f;d();this.area.value=c.JSON.stringify(a);try{this.form.submit()}catch(v){}this.iframe.attachEvent?w.onreadystatechange=function(){"complete"==e.iframe.readyState&&b()}:this.iframe.onload=b;this.socket.setBuffer(!0)};e.prototype.get=function(){var a=this,b=document.createElement("script"),d=c.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&
(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.prepareUrl()+d;b.onerror=function(){a.onClose()};d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d);this.script=b;f&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};e.prototype._=function(a){this.onData(a);this.isOpen&&this.get();return this};e.prototype.ready=function(a,b){var d=this;if(!f)return b.call(this);
c.util.load(function(){b.call(d)})};e.check=function(){return"document"in b};e.xdomainCheck=function(){return!0};c.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);"function"===typeof define&&define.amd&&define([],function(){return io})})();
!function(a){function d(a,b){return function(c){return l(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function b(){}function e(a){g(this,a)}function f(a){var b=a.years||a.year||a.y||0,c=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,e=a.days||a.day||a.d||0,f=a.hours||a.hour||a.h||0,g=a.minutes||a.minute||a.m||0,h=a.seconds||a.second||a.s||0,l=a.milliseconds||a.millisecond||a.ms||0;this._input=a;this._milliseconds=l+1E3*h+6E4*g+36E5*f;this._days=
e+7*d;this._months=c+12*b;this._data={};this._bubble()}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function l(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function n(a,b,c,d){var e,f,g=b._milliseconds,h=b._days;b=b._months;g&&a._d.setTime(+a._d+g*c);(h||b)&&(e=a.minute(),f=a.hour());h&&a.date(a.date()+h*c);b&&a.month(a.month()+b*c);g&&!d&&y.updateOffset(a);(h||b)&&(a.minute(e),a.hour(f))}function r(a,b){var c,d=Math.min(a.length,
b.length),e=Math.abs(a.length-b.length),f=0;for(c=0;d>c;c++)~~a[c]!==~~b[c]&&f++;return f+e}function t(a){return a?oa[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function s(a){if(!a)return y.fn._lang;if(!V[a]&&Z)try{require("./lang/"+a)}catch(b){return y.fn._lang}return V[a]}function p(a){var b,c,d=a.match(M);b=0;for(c=d.length;c>b;b++)d[b]=ea[d[b]]?ea[d[b]]:d[b].match(/\[.*\]/)?d[b].replace(/^\[|\]$/g,""):d[b].replace(/\\/g,"");return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?
d[b].call(e,a):d[b];return f}}function w(a,b){function c(b){return a.lang().longDateFormat(b)||b}for(var d=5;d--&&W.test(b);)b=b.replace(W,c);return ha[b]||(ha[b]=p(b)),ha[b](a)}function v(a,b){switch(a){case "DDDD":return F;case "YYYY":return x;case "YYYYY":return H;case "S":case "SS":case "SSS":case "DDD":return q;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return K;case "a":case "A":return s(b._l)._meridiemParse;case "X":return aa;case "Z":case "ZZ":return u;case "T":return E;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return X;
default:return RegExp(a.replace("\\",""))}}function D(a){a=((u.exec(a)||[])[0]+"").match(I)||["-",0,0];var b=+(60*a[1])+~~a[2];return"+"===a[0]?-b:b}function J(a){var b,c=[];if(!a._d){for(b=0;7>b;b++)a._a[b]=c[b]=null==a._a[b]?2===b?1:0:a._a[b];c[3]+=~~((a._tzm||0)/60);c[4]+=~~((a._tzm||0)%60);b=new Date(0);a._useUTC?(b.setUTCFullYear(c[0],c[1],c[2]),b.setUTCHours(c[3],c[4],c[5],c[6])):(b.setFullYear(c[0],c[1],c[2]),b.setHours(c[3],c[4],c[5],c[6]));a._d=b}}function O(a){var b,c,d=a._f.match(M),e=
a._i;a._a=[];for(b=0;b<d.length;b++)if((c=(v(d[b],a).exec(e)||[])[0])&&(e=e.slice(e.indexOf(c)+c.length)),ea[d[b]]){var f=a,g=void 0,h=f._a;switch(d[b]){case "M":case "MM":h[1]=null==c?0:~~c-1;break;case "MMM":case "MMMM":g=s(f._l).monthsParse(c);null!=g?h[1]=g:f._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":null!=c&&(h[2]=~~c);break;case "YY":h[0]=~~c+(68<~~c?1900:2E3);break;case "YYYY":case "YYYYY":h[0]=~~c;break;case "a":case "A":f._isPm=s(f._l).isPM(c);break;case "H":case "HH":case "h":case "hh":h[3]=
~~c;break;case "m":case "mm":h[4]=~~c;break;case "s":case "ss":h[5]=~~c;break;case "S":case "SS":case "SSS":h[6]=~~(1E3*("0."+c));break;case "X":f._d=new Date(1E3*parseFloat(c));break;case "Z":case "ZZ":f._useUTC=!0,f._tzm=D(c)}null==c&&(f._isValid=!1)}e&&(a._il=e);a._isPm&&12>a._a[3]&&(a._a[3]+=12);!1===a._isPm&&12===a._a[3]&&(a._a[3]=0);J(a)}function B(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function L(a,b,c){var d;b=c-b;c-=a.day();return c>b&&(c-=7),b-7>c&&(c+=7),d=y(a).add("d",c),{week:Math.ceil(d.dayOfYear()/
7),year:d.year()}}function m(b){var c=b._i,d=b._f;if(null===c||""===c)b=null;else{"string"==typeof c&&(b._i=c=s().preparse(c));if(y.isMoment(c))b=g({},c),b._d=new Date(+c._d);else if(d)if("[object Array]"===Object.prototype.toString.call(d)){var c=b,f,h,k,l=99;for(k=0;k<c._f.length;k++)f=g({},c),f._f=c._f[k],O(f),d=new e(f),f=r(f._a,d.toArray()),d._il&&(f+=d._il.length),l>f&&(l=f,h=d);g(c,h)}else O(b);else if(h=b,c=h._i,d=P.exec(c),c===a)h._d=new Date;else if(d)h._d=new Date(+d[1]);else if("string"==
typeof c)if(c=h._i,d=R.exec(c)){h._f="YYYY-MM-DD"+(d[2]||" ");for(d=0;4>d;d++)if(da[d][1].exec(c)){h._f+=da[d][0];break}u.exec(c)&&(h._f+=" Z");O(h)}else h._d=new Date(c);else"[object Array]"===Object.prototype.toString.call(c)?(h._a=c.slice(0),J(h)):h._d=c instanceof Date?new Date(+c):new Date(c);b=new e(b)}return b}function C(a,b){y.fn[a]=y.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),y.updateOffset(this),this):this._d["get"+c+b]()}}function N(a){y.duration.fn[a]=
function(){return this._data[a]}}function G(a,b){y.duration.fn["as"+a]=function(){return+this/b}}for(var y,S,U=Math.round,V={},Z="undefined"!=typeof module&&module.exports,P=/^\/?Date\((\-?\d+)/i,ca=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,M=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,X=/\d\d?/,q=/\d{1,3}/,F=/\d{3}/,x=/\d{1,4}/,H=/[+\-]?\d{1,6}/,
K=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,u=/Z|[\+\-]\d\d:?\d\d/i,E=/T/i,aa=/[\+\-]?\d+(\.\d{1,3})?/,R=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,da=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],I=/([\+\-]|\d\d)/gi,ma=["Date","Hours","Minutes","Seconds","Milliseconds"],ja={Milliseconds:1,Seconds:1E3,
Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},oa={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},ha={},ka="DDD w W M D d".split(" "),va="MDHhmswW".split(""),ea={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,
a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},
GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/
10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+l(~~(a/60),2)+":"+l(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+l(~~(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};ka.length;)S=ka.pop(),ea[S+"o"]=c(ea[S],S);for(;va.length;)S=va.pop(),ea[S+S]=d(ea[S],2);ea.DDDD=d(ea.DDD,3);b.prototype={set:function(a){var b,c;for(c in a)b=
a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=y([2E3,b]),d="^"+this.months(c,"")+"|^"+
this.monthsShort(c,""),this._monthsParse[b]=RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,
c,d;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=y([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==
typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",
a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return L(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}};y=function(a,b,c){return m({_i:a,_f:b,_l:c,_isUTC:!1})};y.utc=function(a,b,c){return m({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b})};y.unix=function(a){return y(1E3*a)};y.duration=function(a,b){var c,d,e=y.isDuration(a),g="number"==typeof a,h=e?a._input:g?{}:a,l=ca.exec(a);return g?b?h[b]=a:h.milliseconds=a:l&&(c="-"===l[1]?-1:1,h={y:0,d:~~l[2]*
c,h:~~l[3]*c,m:~~l[4]*c,s:~~l[5]*c,ms:~~l[6]*c}),d=new f(h),e&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d};y.version="2.1.0";y.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";y.updateOffset=function(){};y.lang=function(a,c){return a?(c?(c.abbr=a,V[a]||(V[a]=new b),V[a].set(c)):V[a]||s(a),y.duration.fn._lang=y.fn._lang=s(a),void 0):y.fn._lang._abbr};y.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),s(a)};y.isMoment=function(a){return a instanceof e};y.isDuration=function(a){return a instanceof
f};y.fn=e.prototype={clone:function(){return y(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return w(y(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},
isValid:function(){return null==this._isValid&&(this._isValid=this._a?!r(this._a,(this._isUTC?y.utc(this._a):y(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){a=w(this,a||y.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;return c="string"==typeof a?y.duration(+b,a):y.duration(a,b),n(this,c,1),this},subtract:function(a,b){var c;return c="string"==
typeof a?y.duration(+b,a):y.duration(a,b),n(this,c,-1),this},diff:function(a,b,c){var d,e;a=this._isUTC?y(a).zone(this._offset||0):y(a).local();var f=6E4*(this.zone()-a.zone());return b=t(b),"year"===b||"month"===b?(d=432E5*(this.daysInMonth()+a.daysInMonth()),e=12*(this.year()-a.year())+(this.month()-a.month()),e+=(this-y(this).startOf("month")-(a-y(a).startOf("month")))/d,e-=6E4*(this.zone()-y(this).startOf("month").zone()-(a.zone()-y(a).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-
a,e="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===b?(d-f)/864E5:"week"===b?(d-f)/6048E5:d),c?e:h(e)},from:function(a,b){return y.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(y(),a)},calendar:function(){var a=this.diff(y().startOf("day"),"days",!0),a=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){var a=this.year();
return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"==typeof a&&(a=this.lang().weekdaysParse(a),"number"!=typeof a)?this:this.add({d:a-b}):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+
c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),y.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=t(a)){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),this},endOf:function(a){return this.startOf(a).add(a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",
+this.clone().startOf(b)>+y(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+y(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+y(a).startOf(b)},min:function(a){return a=y.apply(null,arguments),this>a?this:a},max:function(a){return a=y.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==
typeof a&&(a=D(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,b!==a&&n(this,y.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return y.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=U((y(this).startOf("day")-y(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=L(this,this.lang()._week.dow,this.lang()._week.doy).year;
return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=L(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=L(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},lang:function(b){return b===
a?this._lang:(this._lang=s(b),this)}};for(S=0;S<ma.length;S++)C(ma[S].toLowerCase().replace(/s$/,""),ma[S]);C("year","FullYear");y.fn.days=y.fn.day;y.fn.months=y.fn.month;y.fn.weeks=y.fn.week;y.fn.isoWeeks=y.fn.isoWeek;y.fn.toJSON=y.fn.toISOString;y.duration.fn=f.prototype={_bubble:function(){var a,b;a=this._milliseconds;b=this._days;var c=this._months,d=this._data;d.milliseconds=a%1E3;a=h(a/1E3);d.seconds=a%60;a=h(a/60);d.minutes=a%60;a=h(a/60);d.hours=a%24;b+=h(a/24);d.days=b%30;c+=h(b/30);d.months=
c%12;b=h(c/12);d.years=b},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%12)+31536E6*~~(this._months/12)},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),e=U(Math.abs(b)/1E3),f=U(e/60),g=U(f/60),h=U(g/24),l=U(h/365),e=45>e&&["s",e]||1===f&&["m"]||45>f&&["mm",f]||1===g&&["h"]||22>g&&["hh",g]||1===h&&["d"]||25>=h&&["dd",h]||45>=h&&["M"]||345>h&&["MM",U(h/30)]||1===l&&["y"]||["yy",l];c=(e[2]=c,e[3]=0<b,e[4]=d,B.apply({},
e));return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=y.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=y.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=t(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=t(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+
"s"]()},lang:y.fn.lang};for(S in ja)ja.hasOwnProperty(S)&&(G(S,ja[S]),N(S.toLowerCase()));G("Weeks",6048E5);y.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};y.lang("en",{ordinal:function(a){var b=a%10;return a+(1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}});Z&&(module.exports=y);"undefined"==typeof ender&&(this.moment=y);"function"==typeof define&&define.amd&&define("moment",[],function(){return y})}.call(this);
(function(a){var d=8,c=function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},b=function(a,b){return a>>>b|a<<32-b},e=function(a,d){var e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,
338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],g=Array(64),h,w,v,D,J,O,B,L,m,C,N,G;a[d>>5]|=128<<24-d%
32;a[(d+64>>9<<4)+15]=d;for(m=0;m<a.length;m+=16){h=f[0];w=f[1];v=f[2];D=f[3];J=f[4];O=f[5];B=f[6];L=f[7];for(C=0;64>C;C++)g[C]=16>C?a[C+m]:c(c(c(b(g[C-2],17)^b(g[C-2],19)^g[C-2]>>>10,g[C-7]),b(g[C-15],7)^b(g[C-15],18)^g[C-15]>>>3),g[C-16]),N=c(c(c(c(L,b(J,6)^b(J,11)^b(J,25)),J&O^~J&B),e[C]),g[C]),G=c(b(h,2)^b(h,13)^b(h,22),h&w^h&v^w&v),L=B,B=O,O=J,J=c(D,N),D=v,v=w,w=h,h=c(N,G);f[0]=c(h,f[0]);f[1]=c(w,f[1]);f[2]=c(v,f[2]);f[3]=c(D,f[3]);f[4]=c(J,f[4]);f[5]=c(O,f[5]);f[6]=c(B,f[6]);f[7]=c(L,f[7])}return f},
f=function(a){for(var b=[],c=(1<<d)-1,e=0;e<a.length*d;e+=d)b[e>>5]|=(a.charCodeAt(e/d)&c)<<24-e%32;return b},g=function(a){for(var b="",c=0;c<4*a.length;c++)b+="0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)+4&15)+"0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)&15);return b},h=function(b){return b="object"==typeof b?a(b).val():b.toString()};a.extend({sha256:function(a){a=h(a);return g(e(f(a),a.length*d))},sha256hmac:function(a,b){a=h(a);b=h(b);var c,t=a;c=b;var s=f(t);16<s.length&&(s=e(s,t.length*d));
for(var p=Array(16),t=Array(16),w=0;16>w;w++)p[w]=s[w]^909522486,t[w]=s[w]^1549556828;c=e(p.concat(f(c)),512+c.length*d);c=e(t.concat(c),768);return g(c)},sha256config:function(a){d=parseInt(a)||8}});a.fn.sha256=function(b){a.sha256config(b);b=h(a(this).val());b=a.sha256(b);a.sha256config(8);return b}})(jQuery);function Space(a){this._tuples=[];this.events={};this._load(a);return this}Space.version="0.5.4";Space.arrayDelete=function(a,d){return a.slice(0,d).concat(a.slice(d+1))};Space.isXPath=function(a){return a.match(/ /)};
Space.pathBranch=function(a){a=a.split(/ /g);if(2>a.length)return"";a.pop();return a.join(" ")};Space.pathLeaf=function(a){var d=a.split(/ /g);return 2>d.length?a:d[d.length-1]};Space.strRepeat=function(a,d){for(var c="",b=0;b<d;b++)c+=" ";return c};Space.union=function(){var a=Space.unionSingle(arguments[0],arguments[1]),d;for(d in arguments)if(1!==d&&(a=Space.unionSingle(a,arguments[d]),!a.length()))break;return a};
Space.unionSingle=function(a,d){var c=new Space;if(!(d instanceof Space))return c;a.each(function(a,e){e instanceof Space&&(d._getValueByKey(a)&&d._getValueByKey(a)instanceof Space)&&c._setTuple(a,Space.unionSingle(e,d._getValueByKey(a)));e===d._getValueByKey(a)&&c._setTuple(a,e)});return c};Space.prototype.append=function(a,d){this._setTuple(a,d);this.trigger("append",a,d);this.trigger("change");return this};Space.prototype._clear=function(){this._tuples=[];return this};
Space.prototype.clear=function(a){if(this.isEmpty())return this;this._clear();this.trigger("clear");a&&this._load(a);this.trigger("change");return this};Space.prototype.clone=function(){return new Space(this.toString())};Space.prototype.create=function(a,d){this._setTuple(a,d);this.trigger("create",a,d);this.trigger("change");return this};
Space.prototype._delete=function(a){if(!a.toString().match(/ /)){a=this.indexOf(a);if(-1===a)return 0;this._deleteTuple(a);return 1}var d=a.split(/ /);a=d.pop();d=this.get(d.join(" "));return d instanceof Space?d._delete(a):0};Space.prototype["delete"]=function(a){this._delete(a)&&this.trigger("delete",a);this.trigger("change");return this};Space.prototype._deleteTuple=function(a){this._tuples.splice(a,1)};
Space.prototype.diff=function(a){var d=new Space;a instanceof Space||(a=new Space(a));this.each(function(b,c){var f=a._getValueByKey(b);if("undefined"===typeof f)return d._setTuple(b,""),!0;if(typeof this._getValueByKey(b)!==typeof f)return"object"===typeof f?d._setTuple(b,new Space(f)):this._getValueByKey(b)!=f&&d._setTuple(b,f),!0;if("object"!==typeof this._getValueByKey(b))return this._getValueByKey(b)!=f&&d._setTuple(b,f),!0;f=this._getValueByKey(b).diff(f);f.length()&&d._setTuple(b,f)});var c=
this;a.each(function(b,e){if(c.has(b))return!0;if("object"!==typeof e)return d._setTuple(b,e),!0;e instanceof Space?d._setTuple(b,new Space(e)):d._setTuple(b,new Space(a))});return d};
Space.prototype.diffOrder=function(a){a instanceof Space||(a=new Space(a));var d=new Space,c=this;a.each(function(a,e){if(!(e instanceof Space&&c._getValueByKey(a)instanceof Space))return!0;var f=c._getValueByKey(a).diffOrder(e);if(f.isEmpty())return!0;d._setTuple(a,f)});if(a.tableOfContents()===this.tableOfContents())return d;a.each(function(a,c){d.has(a)||d._setTuple(a,new Space)});return d};
Space.prototype.each=function(a){for(var d in this._tuples)if(!1===a.call(this,this._tuples[d][0],this._tuples[d][1],d))break;return this};Space.prototype.find=function(a,d){var c=new Space;this.get(a)===d&&c.push(this);this.each(function(b,e){if(!(e instanceof Space))return!0;e.find(a,d).each(function(a,b){c.push(b)})});return c};Space.prototype.every=function(a){this.each(function(d,c,b){a.call(this,d,c,b);c instanceof Space&&c.every(a)});return this};Space.prototype.get=function(a){return this._getValueByString(a.toString())};
Space.prototype.getAll=function(a){var d=new Space;this.each(function(c,b){if(c!==a)return!0;d.append(c,b)});return d};Space.prototype.getByIndex=function(a){return this._getValueByIndex(a)};Space.prototype.getByIndexPath=function(a){a=a.split(/ /g);var d=parseFloat(a.shift());return 0===a.length?this._getValueByIndex(d):this._getValueByIndex(d).getByIndexPath(a.join(" "))};Space.prototype.getBySpace=function(a){return this._getValueBySpace(a)};
Space.prototype._getValueByIndex=function(a){0>a&&(a=this.length()+a);if(this._tuples[a])return this._tuples[a][1]};Space.prototype._getValueByKey=function(a){var d;this._tuples.forEach(function(c,b){if(c[0]===a)return d=c[1],!1});return d};Space.prototype._getKeyByIndex=function(a){0>a&&(a=this.length()+a);return this.getKeys()[a]};Space.prototype.getKeys=function(){var a=[];this._tuples.forEach(function(d,c){a.push(d[0])});return a};
Space.prototype._getValueByString=function(a){if(a){if(!a.match(/ /))return this._getValueByKey(a);a=a.split(/ /g);var d=a.shift();if(this.has(d)&&this._getValueByKey(d)instanceof Space)return this._getValueByKey(d).get(a.join(" "))}};
Space.prototype._getValueBySpace=function(a){var d=new Space,c=this;a.each(function(b,e){var f=c._getValueByKey(b);if("undefined"===typeof f)return!0;if(!(a._getValueByKey(b)instanceof Space&&a._getValueByKey(b).length()))return d._setTuple(b,f),!0;if(!(f instanceof Space))return!0;d._setTuple(b,f._getValueBySpace(a._getValueByKey(b)))});return d};
Space.prototype.getTokens=function(a){for(var d=this.toString(),c="K",b="",e=1,f=0,g=0;g<d.length-1;g++){var h=d.substr(g,1);a&&console.log("map: %s; mode: %s; char: %s",b,c,h);0<f?(b+="E",f--):" "!==h&&"\n"!==h?("N"===c&&(c="K"),b+=c):" "===h?"V"===c?b+=c:"K"===c?(b+="S",c="V"):(e++,b+="N"):"K"===c?(c="N",e=1,b+="N"):"V"===c&&(d.substr(g+1,e)===Space.strRepeat(" ",e)?(b+="V",f=e):(c="N",e=1,b+="N"))}return b};
Space.prototype.getTokensConcise=function(){return this.getTokens().replace(/[^\w\s]|(.)(?=\1)/gi,"")};Space.prototype.has=function(a){return void 0!==this._getValueByKey(a)};Space.prototype.indexOf=function(a){return this.getKeys().indexOf(a)};Space.prototype.insert=function(a,d,c){this._setTuple(a,d,c);return this};Space.prototype.isEmpty=function(){return 0===this.length()};
Space.prototype.isASet=function(){var a=!0,d={};this.each(function(c,b){if(d[c])return a=!1;d[c]=!0;if(b instanceof Space)return b.isASet()?!0:a=!1});return a};Space.prototype._keyCount=function(){var a=this.length();this.each(function(d,c){c instanceof Space&&(a+=c._keyCount())});return a};Space.prototype.length=function(){return this.getKeys().length};
Space.prototype._load=function(a){if("string"===typeof a)return this._loadFromString(a);if(a instanceof Space){var d=this;a.each(function(a,b){d._setTuple(a,b)});return this}for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var b=a[c];"object"===typeof b?this._setTuple(c,new Space(b)):this._setTuple(c,b)}};
Space.prototype._loadFromString=function(a){a=a.replace(/^[\n ]*/,"");a=a.replace(/\n\r/g,"\n").replace(/\r\n/g,"\n");a=a.replace(/\n\n+/,"\n");a=a.split(/\n(?! )/g);var d,c;for(c in a){var b=a[c];(d=b.match(/^([^ ]+)(\n|$)/))?this._setTuple(d[1],new Space(b.substr(d[1].length).replace(/\n /g,"\n"))):(d=b.match(/^([^ ]+) /))&&this._setTuple(d[1],b.substr(d[1].length+1).replace(/\n /g,"\n"))}return this};Space.prototype.next=function(a){a=this.indexOf(a)+1;return this._getKeyByIndex(a)};
Space.prototype.off=function(a,d){if(!this.events[a])return!0;for(var c in this.events[a])this.events[a][c]===d&&this.events[a].splice(c,1)};Space.prototype._objectCount=function(){var a=0;this.each(function(d,c){c instanceof Space&&(a+=1+c._objectCount())});return a};Space.prototype.on=function(a,d){this.events[a]||(this.events[a]=[]);this.events[a].push(d)};
Space.prototype._patch=function(a){a instanceof Space||(a=new Space(a));var d=this;a.each(function(a,b){if("string"===typeof b)return""===b?d._delete(a):d._setTuple(a,b),!0;if("number"===typeof b)return d._setTuple(a,b),!0;if(b instanceof Space&&!b.length())return d._delete(a),!0;if(d._getValueByKey(a)instanceof Space)return d._getValueByKey(a)._patch(b),!0;d._setTuple(a,new Space(b))});return this};Space.prototype.patch=function(a){this._patch(a);this.trigger("patch",a);this.trigger("change");return this};
Space.prototype._patchOrder=function(a){a instanceof Space||(a=new Space(a));var d=this,c=this.clone();d._clear();a.each(function(a,e){d._setTuple(a,c.get(a));e instanceof Space&&(e.length()&&c._getValueByKey(a)instanceof Space)&&d._getValueByKey(a)._patchOrder(e)});return this};Space.prototype.patchOrder=function(a){this._patchOrder(a);this.trigger("patchOrder",a);this.trigger("change");return this};
Space.prototype.pop=function(){if(!this.length())return null;var a=new Space,d=this._getKeyByIndex(-1),c=this._getValueByKey(d);a.set(d,c);this._delete(d);return a};Space.prototype.prepend=function(a,d){return this._setTuple(a,d,0)};Space.prototype.prev=function(a){a=this.indexOf(a)-1;return this._getKeyByIndex(a)};Space.prototype.push=function(a){for(var d=this.length();this.get(d.toString());)d++;this._setTuple(d.toString(),a);return this};
Space.prototype._rename=function(a,d){var c=this.indexOf(a);this._setTuple(d,this._getValueByKey(a),c,!0);return this};Space.prototype.reload=function(a){this._tuples=[];this._load(a);this.trigger("reload");return this};Space.prototype.rename=function(a,d){this._rename(a,d);a!==d&&this.trigger("rename",a,d);this.trigger("change");return this};
Space.prototype.set=function(a,d,c){a=a.toString();Space.isXPath(a)?this._setByXPath(a,d):this.has(a)?this._setTuple(a,d,this.indexOf(a),!0):this._setTuple(a,d,c);this.trigger("set",a,d,c);this.trigger("change");return this};Space.prototype.setByIndexPath=function(a,d){var c=Space.pathBranch(a),c=this.getByIndexPath(c);if(!c)return this;var b=parseFloat(Space.pathLeaf(a));c.update(b,c._getKeyByIndex(b),d);return this};
Space.prototype._setByXPath=function(a,d){if(!a)return null;for(var c=a.toString().split(/ /g),b=this,e,f,g=0;g<c.length;g++){e=c[g];if(!(b._getValueByKey(e)instanceof Space)){var h;h=g===c.length-1?d:new Space;b.has(e)?(f=b.indexOf(e),b._setTuple(e,h,f,!0)):b._setTuple(e,h)}b=b.get(e)}return this};Space.prototype._setTuple=function(a,d,c,b){a=a.toString();void 0===c?this._tuples.push([a,d]):b?this._tuples.splice(c,1,[a,d]):this._tuples.splice(c,0,[a,d])};
Space.prototype.shift=function(){if(!this.length())return null;var a=this._getKeyByIndex(0),d=new Space;d.set(a,this.get(a));this._delete(a);return d};Space.prototype.sort=function(a){this._tuples=this._tuples.sort(a);return this};Space.prototype.tableOfContents=function(){return this.getKeys().join(" ")};
Space.prototype.toBinary=function(){for(var a="",d=this.toString(),c=0;c<d.length;c++){for(var b=parseFloat(d.substr(c,1).charCodeAt(0)).toString(2);8>b.length;)b="0"+b;a+=b}return a.replace(/0/g,"-").replace(/1/g,"|")};Space.prototype.toJavascript=function(a){var d="new Space('"+this.toString().replace(/\n/g,"\\n").replace(/\'/g,"\\'")+"')";return a?d.replace(/\\n/g,"\\n\\\n"):d};Space.prototype.toJSON=function(){return JSON.stringify(this.toObject())};
Space.prototype.toObject=function(){var a={};this.each(function(d,c){a[d]=c instanceof Space?c.toObject():c});return a};Space.prototype.toQueryString=function(){var a="",d="";this.each(function(c,b){a+=d+encodeURIComponent(c)+"="+encodeURIComponent(b);d="&"});return a};
Space.prototype.toShapes=function(a){a=a||0;var d="V\n";this.each(function(c,b){if("undefined"===typeof b)return d+="\n",!0;d+=Space.strRepeat(" ",a)+"O";d=b instanceof Space?d+b.toShapes(a+1):"object"===typeof b?d+(new Space(b)).toShapes(a+1):""===b.toString()?d+" \n":d+"[]\n"});return d};
Space.prototype.toString=function(a){a=a||0;var d="";this.each(function(c,b){if("undefined"===typeof b)return d+="\n",!0;d+=Space.strRepeat(" ",a)+c;d=b instanceof Space?d+("\n"+b.toString(a+1)):"object"===typeof b?d+("\n"+(new Space(b)).toString(a+1)):""===b.toString()?d+" \n":b.toString().match(/\n/)?d+(" "+b.toString().replace(/\n/g,"\n"+Space.strRepeat(" ",a+1))+"\n"):d+(" "+b.toString()+"\n")});return d};Space.prototype.toURL=function(){return encodeURIComponent(this.toString())};
Space.prototype.__transpose=function(a){var d="";this.each(function(c,b){var e=new Space(a.toString());e.every(function(a,c,d){b._getValueByKey(c)&&this._setTuple(a,b._getValueByKey(c),d,!0)});d+=e.toString()});return new Space(d)};Space.prototype.trigger=function(a){if(!this.events[a])return!0;var d=Array.prototype.slice.call(arguments),c;for(c in this.events[a])this.events[a][c].apply(this,d.slice(1))};Space.prototype.update=function(a,d,c){this._setTuple(d,c,a,!0);return this};
"undefined"!=typeof exports&&(module.exports=Space);"undefined"!==typeof exports&&(Space=require("space"));var Scraps={version:"0.8.3",tags:{}};Scraps.tagsArray="a abbr address area article aside audio b base bdi bdo blockquote body br button canvas caption cite code col colgroup command datalist dd del details dfn div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link map mark menu meta meter nav noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strong sub summary sup table tbody td textarea tfoot th thead tr track u ul var video wbr".split(/ /g);
Scraps.tagsArray.forEach(function(a,d){Scraps.tags[a]=!0});Scraps.voidTags={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};Scraps.isTag=function(a,d){return Scraps.tags[a]||d instanceof Space&&d.get("tag")===a?!0:!1};Scraps.styleToCss=function(a,d){var c=a+" {\n",b;for(b in d)d.hasOwnProperty(b)&&(c+="  "+b+" : "+d[b].toString().replace(/\;$/,"")+";\n");return c+"}\n"};
Scraps.styleToInline=function(a){var d="",c;for(c in a)a.hasOwnProperty(c)&&(d+=c+": "+a[c].toString().replace(/\;$/,"")+"; ");return d};
(function(){function a(a,c){this.tag=a;this.attrs=c||{};this.content="";return this}function d(a,c,d,g){this.tag=a.replace(/(\.|\#).+$/);this.clear();this.reload(c);this.index=g;d&&this.set("content",d);this.loadChildren();return this}function c(a){this.clear();this.reload(a);this.loadScraps();return this}a.prototype.addClass=function(a){this.attrs["class"]=this.attrs["class"]?this.attrs["class"]+(" "+a):a};a.prototype.append=function(a){this.content+=a};a.prototype.attr=function(a,c){this.attrs[a]=
c};a.prototype.html=function(a){this.content+=a};a.prototype.toHtml=function(){if(this.draft)return"";var a="<"+this.tag,c;for(c in this.attrs)this.attrs.hasOwnProperty(c)&&(a+=" "+c+'="'+this.attrs[c]+'"');if(Scraps.voidTags[this.tag])return this.content&&(a+=' content="'+this.content+'"'),a+" />";a+=">"+this.content;return a+="</"+this.tag+">"};d.prototype=new Space;d.prototype.clone=function(a){return new d(a,this)};d.prototype.loadChildren=function(){var a=this;this.each(function(c,f,g){var h=
(this.index?this.index+" ":"")+g.toString();if(!Scraps.isTag(c,f))return!0;f instanceof Space?a.update(g,c,new d(c,f,null,h)):a.update(g,c,new d(c,"",f,h))})};d.prototype.setChildren=function(a){var c=this;this.each(function(d,g){Scraps.isTag(d,g)&&c.div.html(g.toHtml(a))});return this};d.prototype.setContent=function(){this.get("content")&&this.div.html(this.get("content"));var a=this.get("styles");if(a&&a instanceof Space){var c=this.div;a.each(function(a,b){c.html(Scraps.styleToCss(a,b.toObject()))})}return this};
d.prototype.setHandlers=function(){this.each(function(a,c){if(!a.match(/^on.*$/))return!0;this.div.attr(a,c)})};d.prototype.setProperties=function(a){this.each(function(a,b){if(a.match(/^(content|on.*|style)$/)||Scraps.isTag(a,b))return!0;this.setProperty(a)})};d.prototype.setProperty=function(a){this.get(a)&&this.div.attr(a,this.get(a))};d.prototype.setStyle=function(){if(!this.get("style")||Scraps.isTag("style",this.get("style")))return null;if(!(this.get("style")instanceof Space))return this.div.attr("style",
this.get("style"));this.div.attr("style",Scraps.styleToInline(this.get("style").toObject()))};d.prototype.toHtml=function(b){this.div=new a(this.tag);this.setProperties();this.setContent();this.setChildren(b);this.setStyle();this.setHandlers();b&&b.call(this);return this.div.toHtml()};c.prototype=new Space;c.prototype.clone=function(){return new c(this.toObject())};c.prototype.loadScraps=function(){var a=this;this.each(function(c,f,g){f instanceof Space?a.update(g,c,new d(c,f,null,g.toString())):
a.update(g,c,new d(c,null,f,g.toString()))})};c.prototype.toHtml=function(a){a=a||{};var c="";a.wrap&&(c+="<!doctype html>\n<html>");this.each(function(d,g){c+="\n  "+g.toHtml(a.filter)});a.wrap&&(c+="\n</html>\n");return c};c.prototype.toConciseString=function(a){a=new Space(this.toString());a.every(function(a,b,c){b instanceof Space&&(1===b.length()&&b.get("content"))&&this.update(c,a,b.get("content"))});return a.toString()};Scraps.Element=a;Scraps.Scrap=d;Scraps.Page=c})();
"undefined"!==typeof exports&&(module.exports=Scraps);
(function(a){function d(a){a=String(a);return a.charAt(0).toUpperCase()+a.slice(1)}function c(a,b){var c=-1,d=a.length;if(d==d>>>0)for(;++c<d;)b(a[c],c,a);else e(a,b)}function b(a){a=r(a);return/^(?:webOS|i(?:OS|P))/.test(a)?a:d(a)}function e(a,b){for(var c in a)g(a,c)&&b(a[c],c,a)}function f(a){return null==a?d(a):D.call(a).slice(8,-1)}function g(){g=function(a,b){var c=null!=a&&(a.constructor||Object).prototype;return!!c&&b in Object(a)&&!(b in c&&a[b]===c[b])};"Function"==f(m)?g=function(a,b){return null!=
a&&m.call(a,b)}:{}.__proto__==Object.prototype&&(g=function(a,b){var c=!1;null!=a&&(a=Object(a),a.__proto__=[a.__proto__,a.__proto__=null,c=b in a][0]);return c});return g.apply(this,arguments)}function h(a,b){var c=null!=a?typeof a[b]:"number";return!/^(?:boolean|number|string|undefined)$/.test(c)&&("object"==c?!!a[b]:!0)}function l(a){return String(a).replace(/([ -])(?!$)/g,"$1?")}function n(a,b){var d=null;c(a,function(c,e){d=b(d,c,e,a)});return d}function r(a){return String(a).replace(/^ +| +$/g,
"")}function t(c){function d(a){return n(a,function(a,d){var e=d.pattern||l(d);!a&&(a=RegExp("\\b"+e+" *\\d+[.\\w_]*","i").exec(c)||RegExp("\\b"+e+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(c))&&((a=String(d.label||a).split("/"))[1]&&!/[\d.]+/.test(a[0])&&(a[0]+=" "+a[1]),d=d.label||d,a=b(a[0].replace(RegExp(e,"i"),d).replace(RegExp("; *(?:"+d+"[_-])?","i")," ").replace(RegExp("("+d+")(\\w)","i"),"$1 $2")));return a})}function g(a){return n(a,function(a,b){return a||(RegExp(b+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)",
"i").exec(c)||0)[1]||null})}c||(c=S);var m,p=c,M=[],W=null,X=c==S,q=X&&N&&"function"==typeof N.version&&N.version(),F=function(a){return n(a,function(a,b){return a||RegExp("\\b"+(b.pattern||l(b))+"\\b","i").exec(c)&&(b.label||b)})}([{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"]),x=function(a){return n(a,function(a,b){return a||RegExp("\\b"+(b.pattern||l(b))+"\\b","i").exec(c)&&(b.label||b)})}(["Adobe AIR","Arora","Avant Browser","Camino","Epiphany",
"Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","Iron","K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini","Opera","Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"MSIE"},"Safari"]),H=d(["BlackBerry",{label:"Galaxy S",
pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},"Google TV","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation Vita","TouchPad","Transformer","Xoom"]),K=function(a){return n(a,function(a,b,d){return a||(b[H]||b[0,/^[a-z]+(?: +[a-z]+\b)*/i.exec(H)]||RegExp("\\b"+(d.pattern||l(d))+"(?:\\b|\\w*\\d)","i").exec(c))&&(d.label||d)})}({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},
BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},LG:{},Motorola:{Xoom:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1},Sony:{"PlayStation Vita":1}}),u=function(a){return n(a,function(a,d){var e=d.pattern||l(d);!a&&(a=RegExp("\\b"+e+"(?:/[\\d.]+|[ \\w.]*)","i").exec(c))&&(m={"6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},/^Win/i.test(a)&&(m=m[0,/[\d.]+$/.exec(a)])&&(a="Windows "+
m),a=b(String(a).replace(RegExp(e,"i"),d.label||d).replace(/ ce$/i," CE").replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/x86\.64/gi,"x86_64").split(" on ")[0]));return a})}("Android,CentOS,Debian,Fedora,FreeBSD,Gentoo,Haiku,Kubuntu,Linux Mint,Red Hat,SuSE,Ubuntu,Xubuntu,Cygwin,Symbian OS,hpwOS,webOS ,webOS,Tablet OS,Linux,Mac OS X,Macintosh,Mac,Windows 98;,Windows ".split(","));
F&&(F=[F]);K&&!H&&(H=d([K]));if(m=/Google TV/.exec(H))H=m[0];/\bSimulator\b/i.test(c)&&(H=(H?H+" ":"")+"Simulator");if(/^iP/.test(H))x||(x="Safari"),u="iOS"+((m=/ OS ([\d_]+)/i.exec(c))?" "+m[1].replace(/_/g,"."):"");else if("Konqueror"==x&&!/buntu/i.test(u))u="Kubuntu";else if(K&&"Google"!=K&&/Chrome|Vita/.test(x+";"+H))x="Android Browser",u=/Android/.test(u)?u:"Android";else if(!x||(m=!/\bMinefield\b/i.test(c)&&/Firefox|Safari/.exec(x)))x&&(!H&&/[\/,]|^[^(]+?\)/.test(c.slice(c.indexOf(m+"/")+8)))&&
(x=null),(m=H||K||u)&&(H||K||/Android|Symbian OS|Tablet OS|webOS/.test(u))&&(x=/[a-z]+(?: Hat)?/i.exec(/Android/.test(u)?u:m)+" Browser");q||(q=g(["(?:Cloud9|CriOS|CrMo|Opera ?Mini|Raven|Silk(?!/[\\d.]+$))","Version",l(x),"(?:Firefox|Minefield|NetFront)"]));if("iCab"==F&&3<parseFloat(q))F=["WebKit"];else if(m=/Opera/.test(x)&&"Presto"||/\b(?:Midori|Nook|Safari)\b/i.test(c)&&"WebKit"||!F&&/\bMSIE\b/i.test(c)&&(/^Mac/.test(u)?"Tasman":"Trident"))F=[m];if(X){if(h(a,"global"))if(J&&(m=J.lang.System,p=
m.getProperty("os.arch"),u=u||m.getProperty("os.name")+" "+m.getProperty("os.version")),"object"==typeof exports&&exports)if(y==s&&"object"==typeof system&&(m=[system])[0]){u||(u=m[0].os||null);try{m[1]=require("ringo/engine").version,q=m[1].join("."),x="RingoJS"}catch(E){m[0].global==w&&(x="Narwhal")}}else"object"==typeof process&&(m=process)&&(x="Node.js",p=m.arch,u=m.platform,q=/[\d.]+/.exec(m.version)[0]);else"Environment"==f(a.environment)&&(x="Rhino");else"ScriptBridgingProxyObject"==f(m=a.runtime)?
(x="Adobe AIR",u=m.flash.system.Capabilities.os):"RuntimeObject"==f(m=a.phantom)?(x="PhantomJS",q=(m=m.version||null)&&m.major+"."+m.minor+"."+m.patch):"number"==typeof L.documentMode&&(m=/\bTrident\/(\d+)/i.exec(c))&&(q=[q,L.documentMode],(m=+m[1]+4)!=q[1]&&(M.push("IE "+q[1]+" mode"),F[1]="",q[1]=m),q="IE"==x?String(q[1].toFixed(1)):q[0]);u=u&&b(u)}q&&(m=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(q)||/(?:alpha|beta)(?: ?\d)?/i.exec(c+";"+(X&&C.appMinorVersion))||/\bMinefield\b/i.test(c)&&"a")&&
(W=/b/i.test(m)?"beta":"alpha",q=q.replace(RegExp(m+"\\+?$"),"")+("beta"==W?B:O)+(/\d+\+?/.exec(m)||""));"Fennec"==x?x="Firefox Mobile":"Maxthon"==x&&q?q=q.replace(/\.[\d.]+/,".x"):"Silk"==x?(/Mobi/i.test(c)||(u="Android",M.unshift("desktop mode")),/Accelerated *= *true/i.test(c)&&M.unshift("accelerated")):"IE"==x&&(m=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(c)||0)[1])?(x+=" Mobile",u="Windows Phone OS "+m+".x",M.unshift("desktop mode")):"IE"!=x&&(!x||H||/Browser|Mobi/.test(x))||"Windows CE"!=u&&!/Mobi/i.test(c)?
"IE"==x&&X&&"object"==typeof external&&!external?M.unshift("platform preview"):/BlackBerry/.test(H)&&(m=(RegExp(H.replace(/ +/g," *")+"/([.\\d]+)","i").exec(c)||0)[1]||q)?(u="Device Software "+m,q=null):this!=e&&((X&&N||/Opera/.test(x)&&/\b(?:MSIE|Firefox)\b/i.test(c)||"Firefox"==x&&/OS X (?:\d+\.){2,}/.test(u)||"IE"==x&&(u&&!/^Win/.test(u)&&5.5<q||/Windows XP/.test(u)&&8<q||8==q&&!/Trident/.test(c)))&&!v.test(m=t.call(e,c.replace(v,"")+";"))&&m.name)&&(m="ing as "+m.name+((m=m.version)?" "+m:""),
v.test(x)?(/IE/.test(m)&&"Mac OS"==u&&(u=null),m="identify"+m):(m="mask"+m,x=G?b(G.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/IE/.test(m)&&(u=null),X||(q=null)),F=["Presto"],M.push(m)):x+=" Mobile";if(m=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(c)||0)[1]){m=[parseFloat(m.replace(/\.(\d)$/,".0$1")),m];if("Safari"==x&&"+"==m[1].slice(-1))x="WebKit Nightly",W="alpha",q=m[1].slice(0,-1);else if(q==m[1]||q==(/\bSafari\/([\d.]+\+?)/i.exec(c)||0)[1])q=null;m=[m[0],(/\bChrome\/([\d.]+)/i.exec(c)||0)[1]];!X||
/internal|\n/i.test(D.toString())&&!m[1]?(F[1]="like Safari",m=(m=m[0],400>m?1:500>m?2:526>m?3:533>m?4:534>m?"4+":535>m?5:"5")):(F[1]="like Chrome",m=m[1]||(m=m[0],530>m?1:532>m?2:532.05>m?3:533>m?4:534.03>m?5:534.07>m?6:534.1>m?7:534.13>m?8:534.16>m?9:534.24>m?10:534.3>m?11:535.01>m?12:535.02>m?"13+":535.07>m?15:535.11>m?16:535.19>m?17:536.05>m?18:536.1>m?19:537.01>m?20:"21"));F[1]+=" "+(m+="number"==typeof m?".x":/[.+]/.test(m)?"":"+");"Safari"==x&&(!q||45<parseInt(q))&&(q=m)}"Opera"==x&&(m=/(?:zbov|zvav)$/.exec(u))?
(x+=" ",M.unshift("desktop mode"),"zvav"==m?(x+="Mini",q=null):x+="Mobile"):"Safari"==x&&/Chrome/.exec(F[1])&&(M.unshift("desktop mode"),x="Chrome Mobile",q=null,/Mac OS X/.test(u)?(K="Apple",u="iOS 4.3+"):u=null);q&&(0==q.indexOf(m=/[\d.]+$/.exec(u))&&-1<c.indexOf("/"+m+"-"))&&(u=r(u.replace(m,"")));F&&!/Avant|Nook/.test(x)&&(/Browser|Lunascape|Maxthon/.test(x)||/^(?:Adobe|Arora|Midori|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(x)&&F[1])&&(m=F[F.length-1])&&M.push(m);M.length&&(M=["("+M.join("; ")+
")"]);K&&(H&&0>H.indexOf(K))&&M.push("on "+K);H&&M.push((/^on /.test(M[M.length-1])?"":"on ")+H);u&&(m=/ ([\d.+]+)$/.exec(u),u={architecture:32,family:m?u.replace(m[0],""):u,version:m?m[1]:null,toString:function(){var a=this.version;return this.family+(a?" "+a:"")+(64==this.architecture?" 64-bit":"")}});(m=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(p))&&!/\bi686\b/i.test(p)&&(u&&(u.architecture=64,u.family=u.family.replace(RegExp(" *"+m),"")),x&&(/WOW64/i.test(c)||X&&/\w(?:86|32)$/.test(C.cpuClass||
C.platform))&&M.unshift("32-bit"));c||(c=null);return{version:x&&q&&(M.unshift(q),q),name:x&&(M.unshift(x),x),os:u?(x&&!(u==String(u).split(" ")[0]&&(u==x.split(" ")[0]||H))&&M.push(H?"("+u+")":"on "+u),u):{architecture:null,family:null,version:null,toString:function(){return"null"}},description:M.length?M.join(" "):c,layout:F&&F[0],manufacturer:K,prerelease:W,product:H,ua:c,parse:t,toString:function(){return this.description||""}}}var s=a,p="object"==typeof exports&&exports,w="object"==typeof global&&
global&&(global==global.global?a=global:global),v=/Opera/,D={}.toString,J=/Java/.test(f(a.java))&&a.java,O=J?"a":"\u03b1",B=J?"b":"\u03b2",L=a.document||{},m={}.hasOwnProperty,C=a.navigator||{},N=a.operamini||a.opera,G=v.test(G=f(N))?G:N=null,y=this,S=C.userAgent||"";"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t()}):p?e(t(),function(a,b){p[b]=a}):a.platform=t()})(this);
(function(a){var d=a.prototype,c=d.parseFromString;try{if((new a).parseFromString("","text/html"))return}catch(b){}d.parseFromString=function(a,b){if(/^\s*text\/html\s*(?:;|$)/i.test(b)){var d=document.implementation.createHTMLDocument("");-1<a.toLowerCase().indexOf("<!doctype")?d.documentElement.innerHTML=a:d.body.innerHTML=a;return d}return c.apply(this,arguments)}})(DOMParser);$.htmlTags={};
"a abbr address area article aside audio b base bdi bdo blockquote body br button canvas caption cite code col colgroup command datalist dd del details dfn div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link map mark menu meta meter nav noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strong sub summary sup table tbody td tfoot th thead tr track u ul var video wbr".split(/ /g).forEach(function(a,d){$.htmlTags[a]=
!0});$.inlineStyleToSpace=function(a){a=a.split(";");var d=new Space;a.forEach(function(a,b){a=a.trim();if(!a)return!0;var e=a.split(/\:/);if(2>e.length)return!0;d.set(e[0].trim(),e[1].trim())});return d};
$.fn.toSpace=function(){var a=new Space;$(this);var d=$(this).get(0).tagName.toLowerCase();$($(this).get(0).attributes).each(function(){"style"===this.nodeName?a.set(this.nodeName,$.inlineStyleToSpace(this.nodeValue)):a.set(this.nodeName,this.nodeValue)});$.htmlTags[d]||a.set("tag",d);$(this).children().length?1<$(this).contents().length?$(this).contents().each(function(){3===this.nodeType?$(this).text().trim().length&&a.append("span",new Space("content "+$(this).text())):1===this.nodeType&&(d=this.tagName.toLowerCase(),
a.append(d,$(this).toSpace()))}):$(this).children().each(function(){d=$(this).get(0).tagName.toLowerCase();a.append(d,$(this).toSpace())}):"meta"!==d?a.set("content",$(this).html()):$(this).attr("content")&&a.set("content",$(this).attr("content"));return 1===a.length()&&a.get("content")?a.get("content"):a};
$.htmlToScraps=function(a){var d=(new DOMParser).parseFromString(a,"text/html"),c=new Space;$("html",d).children().each(function(){if(!$(this).get(0).tagName)return!0;var a=$(this).get(0).tagName.toLowerCase(),b=$(this).toSpace();c.append(a,b)});var d=a.match(/\<head/),b=a.match(/\<body/);return d&&!b?c.delete("body"):d&&a.match(/\<body/)?c:d||b?!d&&b?c.delete("head"):c:(c.delete("head"),c.get("body"))};
var cssToObject=function(a,d){function c(a){var b=a.match(/\n/g);b&&(C+=b.length);b=a.lastIndexOf("\n");N=~b?a.length-b:N+a.length}function b(){var a={line:C,column:N};return d.position?function(b){b.position={start:a,end:{line:C,column:N}};l(/^\s*/);return b}:e}function e(a){l(/^\s*/);return a}function f(b){b=Error(b+" near line "+C+":"+N);b.line=C;b.column=N;b.source=a;throw b;}function g(){return l(/^{\s*/)}function h(){var b,c=[];l(/^\s*/);for(n(c);"}"!=a[0]&&(b=v()||(J()||D()||L("import")||L("charset")||
L("namespace")||B()||O())||m());)c.push(b),n(c);return c}function l(b){if(b=b.exec(a)){var d=b[0];c(d);a=a.slice(d.length);return b}}function n(a){var b;for(a=a||[];b=r();)a.push(b);return a}function r(){var d=b();if("/"==a[0]&&"*"==a[1]){for(var e=2;null!=a[e]&&("*"!=a[e]||"/"!=a[e+1]);)++e;var e=e+2,f=a.slice(2,e-2);N+=2;c(f);a=a.slice(e);N+=2;return d({type:"comment",comment:f})}}function t(){var a=l(/^([^{]+)/);if(a)return a[0].trim().split(/\s*,\s*/)}function s(){var a=b(),c=l(/^(\*?[-\w]+)\s*/);
if(c){c=c[0];if(!l(/^:\s*/))return f("property missing ':'");var d=l(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/);if(!d)return f("property missing value");a=a({type:"declaration",property:c,value:d[0].trim()});l(/^[;\s]*/);return a}}function p(){var a=[];if(!g())return f("missing '{'");n(a);for(var b;b=s();)a.push(b),n(a);return l(/^}/)?a:f("missing '}'")}function w(){for(var a,c=[],d=b();a=l(/^(from|to|\d+%|\.\d+%|\d+\.\d+%)\s*/);)c.push(a[1]),l(/^,\s*/);if(c.length)return d({type:"keyframe",
values:c,declarations:p()})}function v(){var a=b(),c=l(/^@([-\w]+)?keyframes */);if(c){var d=c[1],c=l(/^([-\w]+)\s*/);if(!c)return f("@keyframes missing name");c=c[1];if(!g())return f("@keyframes missing '{'");for(var e,h=n();e=w();)h.push(e),h=h.concat(n());return l(/^}/)?a({type:"keyframes",name:c,vendor:d,keyframes:h}):f("@keyframes missing '}'")}}function D(){var a=b(),c=l(/^@supports *([^{]+)/);if(c){c=c[1].trim();if(!g())return f("@supports missing '{'");var d=n().concat(h());return l(/^}/)?
a({type:"supports",supports:c,rules:d}):f("@supports missing '}'")}}function J(){var a=b(),c=l(/^@media *([^{]+)/);if(c){c=c[1].trim();if(!g())return f("@media missing '{'");var d=n().concat(h());return l(/^}/)?a({type:"media",media:c,rules:d}):f("@media missing '}'")}}function O(){var a=b();if(l(/^@page */)){var c=t()||[];if(!g())return f("@page missing '{'");for(var d=n(),e;e=s();)d.push(e),d=d.concat(n());return l(/^}/)?a({type:"page",selectors:c,declarations:d}):f("@page missing '}'")}}function B(){var a=
b(),c=l(/^@([-\w]+)?document *([^{]+)/);if(c){var d=(c[1]||"").trim(),c=c[2].trim();if(!g())return f("@document missing '{'");var e=n().concat(h());return l(/^}/)?a({type:"document",document:c,vendor:d,rules:e}):f("@document missing '}'")}}function L(a){var c=b(),d=l(RegExp("^@"+a+" *([^;\\n]+);"));if(d){var e={type:a};e[a]=d[1].trim();return c(e)}}function m(){var a=b(),c=t();if(c)return n(),a({type:"rule",selectors:c,declarations:p()})}d=d||{};var C=1,N=1;return{type:"stylesheet",stylesheet:{rules:h()}}},
cssToSpace=function(a){var d=new Space;(new Space(cssToObject(a))).get("stylesheet rules").each(function(a,b){if("rule"!==b.get("type"))return!0;var e="";b.get("selectors").each(function(a,b){e+=b});b.get("declarations").each(function(a,b){var c=b.get("property"),l=b.get("value");d.set(e+" "+c,l)})});return d};
(function(){function a(a,c,d,g){var h,l,n,r,t,s,p,w;c=c||{};void 0===c.wrap_line_length&&void 0!==c.max_char&&(c.wrap_line_length=c.max_char);l=parseInt(c.indent_size||4,10);n=c.indent_char||" ";t=c.brace_style||"collapse";r=0===c.wrap_line_length?32786:parseInt(c.wrap_line_length||250,10);s=c.unformatted||"a span bdo em strong dfn code samp kbd var cite abbr acronym q sub sup tt i b big small u s strike font ins del pre address dt h1 h2 h3 h4 h5 h6".split(" ");w=(p=c.preserve_newlines||!0,parseInt(c.max_preserve_newlines||
32786,10));h=new function(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.token_text=this.last_token=this.last_text=this.token_type=this.tag_type="";this.newlines=0;this.indent_content=!1;this.Utils={whitespace:["\n","\r","\t"," "],single_token:"br input link meta !doctype basefont base area hr wbr param img isindex ?xml embed ?php ? ?=".split(" "),extra_liners:["head","body","/html"],in_array:function(a,b){for(var c=0;c<b.length;c++)if(a===
b[c])return!0;return!1}};this.traverse_whitespace=function(){var a="",a=this.input.charAt(this.pos);if(this.Utils.in_array(a,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(a,this.Utils.whitespace);)p&&("\n"===a&&this.newlines<=w)&&(this.newlines+=1),this.pos++,a=this.input.charAt(this.pos);return!0}return!1};this.get_content=function(){for(var a="",b=[],c=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];this.traverse_whitespace()?
b.length&&(c=!0):(a=this.input.charAt(this.pos),this.pos++,c&&(this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,b),this.print_indentation(b)):(this.line_char_count++,b.push(" ")),c=!1),this.line_char_count++,b.push(a))}return b.length?b.join(""):""};this.get_contents_to=function(a){if(this.pos===this.input.length)return["","TK_EOF"];var b="";a=RegExp("</"+a+"\\s*>","igm");a.lastIndex=this.pos;a=(a=a.exec(this.input))?a.index:this.input.length;this.pos<a&&(b=this.input.substring(this.pos,
a),this.pos=a);return b};this.record_tag=function(a){this.tags[a+"count"]?this.tags[a+"count"]++:this.tags[a+"count"]=1;this.tags[a+this.tags[a+"count"]]=this.indent_level;this.tags[a+this.tags[a+"count"]+"parent"]=this.tags.parent;this.tags.parent=a+this.tags[a+"count"]};this.retrieve_tag=function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[b+"parent"]);
delete this.tags[a+this.tags[a+"count"]+"parent"];delete this.tags[a+this.tags[a+"count"]];1===this.tags[a+"count"]?delete this.tags[a+"count"]:this.tags[a+"count"]--}};this.get_tag=function(a){var b="",c=[],b="",d=!1,e,f=this.pos,g=this.line_char_count;a=void 0!==a?a:!1;do{if(this.pos>=this.input.length)return a&&(this.pos=f,this.line_char_count=g),c.length?c.join(""):["","TK_EOF"];b=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(b,this.Utils.whitespace))d=!0;else{if("'"===b||'"'===
b)b+=this.get_unformatted(b),d=!0;"="===b&&(d=!1);c.length&&("="!==c[c.length-1]&&">"!==b&&d)&&(this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,c),this.print_indentation(c)):(c.push(" "),this.line_char_count++),d=!1);"<"!==b||e||(e=this.pos-1);this.line_char_count++;c.push(b);if(c[1]&&"!"===c[1]){c=[this.get_comment(e)];break}}}while(">"!==b);b=c.join("");d=-1!==b.indexOf(" ")?b.indexOf(" "):b.indexOf(">");d=b.substring(1,d).toLowerCase();"/"===b.charAt(b.length-2)||this.Utils.in_array(d,
this.Utils.single_token)?a||(this.tag_type="SINGLE"):"script"===d?a||(this.record_tag(d),this.tag_type="SCRIPT"):"style"===d?a||(this.record_tag(d),this.tag_type="STYLE"):this.is_unformatted(d,s)?(b=this.get_unformatted("</"+d+">",b),c.push(b),0<e&&this.Utils.in_array(this.input.charAt(e-1),this.Utils.whitespace)&&c.splice(0,0,this.input.charAt(e-1)),e=this.pos-1,this.Utils.in_array(this.input.charAt(e+1),this.Utils.whitespace)&&c.push(this.input.charAt(e+1)),this.tag_type="SINGLE"):"!"===d.charAt(0)?
a||(this.tag_type="SINGLE",this.traverse_whitespace()):a||("/"===d.charAt(0)?(this.retrieve_tag(d.substring(1)),this.tag_type="END"):(this.record_tag(d),"html"!==d.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace(),this.Utils.in_array(d,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output)));a&&(this.pos=f,this.line_char_count=g);return c.join("")};this.get_comment=
function(a){var b="",c=">",d=!1;this.pos=a;input_char=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length;){b+=input_char;if(b[b.length-1]===c[c.length-1]&&-1!==b.indexOf(c))break;!d&&10>b.length&&(0===b.indexOf("<![if")?(c="<![endif]>",d=!0):0===b.indexOf("<![cdata[")?(c="]]\x3e",d=!0):0===b.indexOf("<![")?(c="]>",d=!0):0===b.indexOf("\x3c!--")&&(c="--\x3e",d=!0));input_char=this.input.charAt(this.pos);this.pos++}return b};this.get_unformatted=function(a,b){if(b&&-1!==b.toLowerCase().indexOf(a))return"";
var c="",d="",e=!0;do{if(this.pos>=this.input.length)break;c=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(c,this.Utils.whitespace)){if(!e){this.line_char_count--;continue}if("\n"===c||"\r"===c){d+="\n";this.line_char_count=0;continue}}d+=c;this.line_char_count++;e=!0}while(-1===d.toLowerCase().indexOf(a));return d};this.get_token=function(){var a;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var b=this.last_token.substr(7);a=this.get_contents_to(b);return"string"!==
typeof a?a:[a,"TK_"+b]}if("CONTENT"===this.current_mode)return a=this.get_content(),"string"!==typeof a?a:[a,"TK_CONTENT"];if("TAG"===this.current_mode)return a=this.get_tag(),"string"!==typeof a?a:[a,"TK_TAG_"+this.tag_type]};this.get_full_indent=function(a){a=this.indent_level+a||0;return 1>a?"":Array(a+1).join(this.indent_string)};this.is_unformatted=function(a,b){if(!this.Utils.in_array(a,b))return!1;if("a"!==a.toLowerCase()||!this.Utils.in_array("a",b))return!0;var c=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);
return!c||this.Utils.in_array(c,b)?!0:!1};this.printer=function(a,b,c,d,e){this.input=a||"";this.output=[];this.indent_character=b;this.indent_string="";this.indent_size=c;this.brace_style=e;this.indent_level=0;this.wrap_line_length=d;for(a=this.line_char_count=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(a,b){this.line_char_count=0;b&&b.length&&(a||"\n"!==b[b.length-1])&&b.push("\n")};this.print_indentation=function(a){for(var b=0;b<this.indent_level;b++)a.push(this.indent_string),
this.line_char_count+=this.indent_string.length};this.print_token=function(a){(a||""!==a)&&(this.output.length&&"\n"===this.output[this.output.length-1])&&(this.print_indentation(this.output),a=a.replace(/^\s+/g,""));this.print_token_raw(a)};this.print_token_raw=function(a){a&&""!==a&&(1<a.length&&"\n"===a[a.length-1]?(this.output.push(a.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(a));for(a=0;a<this.newlines;a++)this.print_newline(0<a,this.output);this.newlines=0};this.indent=
function(){this.indent_level++};this.unindent=function(){0<this.indent_level&&this.indent_level--}};return this};for(h.printer(a,n,l,r,t);;){a=h.get_token();h.token_text=a[0];h.token_type=a[1];if("TK_EOF"===h.token_type)break;switch(h.token_type){case "TK_TAG_START":h.print_newline(!1,h.output);h.print_token(h.token_text);h.indent_content&&(h.indent(),h.indent_content=!1);h.current_mode="CONTENT";break;case "TK_TAG_STYLE":case "TK_TAG_SCRIPT":h.print_newline(!1,h.output);h.print_token(h.token_text);
h.current_mode="CONTENT";break;case "TK_TAG_END":"TK_CONTENT"===h.last_token&&""===h.last_text&&(a=h.token_text.match(/\w+/)[0],l=h.output[h.output.length-1].match(/<\s*(\w+)/),null!==l&&l[1]===a||h.print_newline(!1,h.output));h.print_token(h.token_text);h.current_mode="CONTENT";break;case "TK_TAG_SINGLE":(a=h.token_text.match(/^\s*<([a-z]+)/i))&&h.Utils.in_array(a[1],s)||h.print_newline(!1,h.output);h.print_token(h.token_text);h.current_mode="CONTENT";break;case "TK_CONTENT":h.print_token(h.token_text);
h.current_mode="TAG";break;case "TK_STYLE":case "TK_SCRIPT":if(""!==h.token_text){h.print_newline(!1,h.output);a=h.token_text;var v;n=1;"TK_SCRIPT"===h.token_type?v="function"===typeof d&&d:"TK_STYLE"===h.token_type&&(v="function"===typeof g&&g);"keep"===c.indent_scripts?n=0:"separate"===c.indent_scripts&&(n=-h.indent_level);l=h.get_full_indent(n);v?a=v(a.replace(/^\s*/,l),c):(r=a.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(h.indent_string).length-1,n=h.get_full_indent(n-r),a=a.replace(/^\s*/,l).replace(/\r\n|\r|\n/g,
"\n"+n).replace(/\s+$/,""));a&&(h.print_token_raw(l+a.replace(/^\s+|\s+$/g,"")),h.print_newline(!1,h.output))}h.current_mode="TAG"}h.last_token=h.token_type;h.last_text=h.token_text}return h.output.join("")}if("function"===typeof define)define(["./beautify.js","./beautify-css.js"],function(b,c){return{html_beautify:function(d,g){return a(d,g,b,c)}}});else if("undefined"!==typeof exports){var d=require("./beautify.js").js_beautify,c=require("./beautify-css.js").css_beautify;exports.html_beautify=function(b,
e){return a(b,e,d,c)}}else"undefined"!==typeof window?window.html_beautify=function(b,c){return a(b,c,window.js_beautify,window.css_beautify)}:"undefined"!==typeof global&&(global.html_beautify=function(b,c){return a(b,c,global.js_beautify,global.css_beautify)})})();
var expressfs={prefix:"/",rootPath:"",appendFile:function(a,d,c){var b={};b.path=expressfs.rootPath+a;b.content=d;$.post(expressfs.prefix+"expressfs.appendFile",b,function(a){c&&c()})},cp:function(a,d,c){var b={};b.source=expressfs.rootPath+a;b.destination=expressfs.rootPath+d;$.post(expressfs.prefix+"expressfs.cp",b,c)},create:function(a,d,c){var b={};b.path=expressfs.rootPath+a;b.content=d||"";$.post(expressfs.prefix+"expressfs.create",b,c)},dirStats:function(a,d){var c={};c.path=expressfs.rootPath+
a;c.path.match(/\/$/)||(c.path+="/");$.post(expressfs.prefix+"expressfs.dirStats",c).done(d).fail(d)},downloadDirectory:function(a,d,c){var b={};b.path=expressfs.rootPath+a;b.extension=d;b.path.match(/\/$/)||(b.path+="/");$.post(expressfs.prefix+"expressfs.downloadDirectory",b).done(c).fail(c)},exists:function(a,d){var c={};c.path=expressfs.rootPath+a;$.post(expressfs.prefix+"expressfs.exists",c,function(a){a.match(/ does NOT exist/)?d(!1):d(!0)})},mkdir:function(a,d){var c={};c.path=expressfs.rootPath+
a;$.post(expressfs.prefix+"expressfs.mkdir",c,function(a){d&&d()})},readdir:function(a,d){var c={};c.path=expressfs.rootPath+a;$.post(expressfs.prefix+"expressfs.readdir",c).done(function(a){d&&d(JSON.parse(a))}).fail(d)},readFile:function(a,d){var c={};c.path=expressfs.rootPath+a;$.post(expressfs.prefix+"expressfs.readFile",c).done(d).fail(d)},rename:function(a,d,c){var b={};b.oldPath=expressfs.rootPath+a;b.newPath=expressfs.rootPath+d;if(!d)return console.log("No name provided");$.post(expressfs.prefix+
"expressfs.rename",b,function(a){c&&c()})},rmdir:function(a,d){var c={};c.path=expressfs.rootPath+a;$.post(expressfs.prefix+"expressfs.rmdir",c,function(a){d&&d()})},unlink:function(a,d){var c={};c.path=expressfs.rootPath+a;$.post(expressfs.prefix+"expressfs.unlink",c,function(a){d&&d()})},writeFile:function(a,d,c){var b={};b.path=expressfs.rootPath+a;b.content=d;$.post(expressfs.prefix+"expressfs.writeFile",b,function(a){c&&c()})},writeFileAndOpen:function(a,d,c,b){c=$('<form target="'+c+'" method="post" action="'+
expressfs.prefix+'expressfs.writeFile"></form>');b=$('<input name="path">');b.val(expressfs.rootPath+a);var e=$('<textarea name="content"></textarea>');e.val(d);d=$('<input name="redirect">');d.val(a+"?"+(new Date).getTime());c.append(b);c.append(e);c.append(d);c.submit()},writeFileBase64:function(a,d,c){var b={};b.path=expressfs.rootPath+a;b.content=d;b.encoding="base64";$.post(expressfs.prefix+"expressfs.writeFile",b,c)}},socketfs={rootPath:""};socketfs.files=new Space;
socketfs.Watcher=function(a,d){this.filename=a;this.fn=d;return this};socketfs.Watcher.prototype.unwatch=function(a){socketfs.unwatch(this.filename,this.fn,a)};socketfs.Tail=function(a,d){this.filename=a;this.fn=d;return this};socketfs.Tail.prototype.untail=function(a){socketfs.untail(this.filename,this.fn,a)};socketfs.connect=function(){socketfs.main(io.connect("/"))};socketfs.inspect=function(a){socketfs.socket.emit("inspect","get",a)};
socketfs.main=function(a){socketfs.socket=a;socketfs.socket.on("change",function(a){if(!socketfs.files.get(a.filename+" watches"))return!1;socketfs.files.get(a.filename+" watches").each(function(c,b){b(a)})});socketfs.socket.on("tail",function(a){if(!socketfs.files.get(a.filename+" tails"))return!1;socketfs.files.get(a.filename+" tails").each(function(c,b){b(a)})})};socketfs.resetGlobal=function(a){socketfs.files=new Space;socketfs.socket.emit("resetGlobal","get",a)};
socketfs.tail=function(a,d,c){a=socketfs.rootPath+a;socketfs.files.get(a+" tails")||socketfs.files.set(a+" tails",new Space);socketfs.files.get(a+" tails").push(d);c||(c=function(){});socketfs.socket.emit("tail",a,c);return new socketfs.Tail(a,d)};
socketfs.untail=function(a,d,c){a=socketfs.rootPath+a;if(!socketfs.files.get(a+" tails"))return!1;d?socketfs.files.get(a+" tails").each(function(b,c){c===d&&socketfs.files.get(a+" tails").delete(b)}):socketfs.files.delete(a+" tails");socketfs.files.get(a+" tails")?c&&c():socketfs.socket.emit("untail",a,function(a){c&&c(a)})};
socketfs.unwatch=function(a,d,c){a=socketfs.rootPath+a;if(!socketfs.files.get(a+" watches"))return!1;d?socketfs.files.get(a+" watches").each(function(b,c){c===d&&socketfs.files.get(a+" watches").delete(b)}):socketfs.files.delete(a+" watches");socketfs.files.get(a+" watches")?c&&c():socketfs.socket.emit("unwatch",a,function(a){c&&c(a)})};
socketfs.watch=function(a,d,c){a=socketfs.rootPath+a;socketfs.files.get(a+" watches")||socketfs.files.set(a+" watches",new Space);socketfs.files.get(a+" watches").push(d);c||(c=function(){});socketfs.socket.emit("watch",a,c);return new socketfs.Watcher(a,d)};function Tool(a){this.clear();this.events={};this.set("name",a);this._open=!1;Tool.tools.push(a);return this}Tool.tools=[];Tool.opened={};Tool.openedAt=null;Tool.openTool=null;Tool.prototype=new Space;
Tool.prototype.close=function(a){if(!this._open)return!1;this.logTime();this.trigger("close");this._open=!1;Tool.openTool=null;$("#OpenTool").html("");a&&window[a].open()};Tool.prototype.isOpen=function(){return this._open};Tool.prototype.logTime=function(){var a=(new Date).getTime()-Tool.openedAt;expressfs.appendFile("nudgepad/time/"+Cookie.email+".space",Socket.socket.sessionid+" "+this.get("name")+" "+a+"\n",function(){Tool.openedAt=(new Date).getTime()})};
Tool.prototype.open=function(){if(this._open)return!1;if(Tool.openTool)return Tool.openTool.close(this.get("name"));Tool.opened[this.get("name")]||this.trigger("once");Tool.opened[this.get("name")]=!0;this.trigger("open");Tool.openedAt=(new Date).getTime();var a=this.html?this.html:$(".Tool#"+this.get("name")).html();$("#OpenTool").html(a);a=$("#ToolHelp").html();$(".navbar-right").prepend(a);$(".navbar-right").append('<li><a class="navbar-brand" href="/?'+(new Date).getTime()+'" target="published" data-toggle="tooltip" onclick="$(this).attr(\'href\', \'/?\' + new Date().getTime())" title="Visit your site" data-placement="right"><i class="icon-external-link"></i></a></li>');
a="Clone Files Pages Server Team Templates Labs".split(/ /g);$(".navbar-logo").html('<li class="dropdown"><a class="cursor dropdown-toggle" data-toggle="dropdown"><i style="position: absolute; left: 8px; top: 12px; font-size: 26px; text-shadow: 1px 1px white; font-weight: bold; font-family: Georgia; user-select: none;" class="nudgePadLogo">n</i>&nbsp;</a><ul class="dropdown-menu" id="MoreTools"></ul></li>');$("#MoreTools").html("");a.forEach(function(a,c){var b=ToolInfo.get(a.toLowerCase()).get("icon")||
"picture";$("#MoreTools").append('<li><a class="cursor" onclick="Launcher.open(\''+a+'\')"><i class="icon-'+b+'" style="width: 20px;display: inline-block;"></i> '+a+"</a></li>")});$(".navbar-right .tool-help").on("click",function(){var a=Tool.openTool.get("name"),c=ToolInfo.get(a.toLowerCase()),b=$('<div id="ToolInfoBox"></div>');b.append('<p style="text-align: center; color: #888;"><i>About this Tool</i></p>');b.append("<h1>"+a+"</h1>");b.append("<h3>"+c.get("description")+"</h3>");b.append("<h4>By "+
c.get("author")+"</h4>");b.append('<p>Email comments, feature requests and bug reports to <a target="_blank" href="mailto:'+c.get("email")+'">'+c.get("email")+"</a></p>");PreviewBox.open(b)});$(window).scrollTop(0);Tool.openTool=this;this._open=!0;this.trigger("ready");mixpanel.track("I opened the "+this.get("name")+" tool");Screen.set("tool",this.get("name"))};Tool.prototype.restart=function(){this.close();this.open()};
Tool.prototype.test=function(){var a=this.get("name");$.get("/nudgepad/tools/"+a+"/tests.html",function(d){$("body").append(d);$("body").append('<script type="text/javascript" src="/nudgepad/tools/'+a+'/tests.js">\x3c/script>')})};Tool.prototype.toggle=function(){this._open?this.close():this.open()};window.console||(window.console={log:function(){}});expressfs.prefix="/nudgepad.";expressfs.rootPath="/nudgepad/projects/"+location.hostname+"/";
socketfs.rootPath="/nudgepad/projects/"+location.hostname+"/";var nudgepad={isTesting:!1};window.name="nudgepad";var Query=ParseQueryString(),Cookie=parseCookie(document.cookie);nudgepad.projectPath="/nudgepad/projects/"+location.hostname+"/";nudgepad.status=new Space;
nudgepad.main=function(){$.get("/nudgepad.status",function(a){nudgepad.status.reload(a);window.addEventListener("popstate",function(a){Launcher.openToolFromQueryString()});nudgepad.warnBeforeReload=!0;window.onbeforeunload=nudgepad.beforeUnload;Launcher.openToolFromQueryString();$("#LoadingScreen").hide();nudgepad.askToRegister();nudgepad.benchmarkCreationTime();mixpanel.track("I opened NudgePad")})};nudgepad.askToRegister=function(){Cookie.email==="owner@"+document.location.host&&RegisterForm.open()};
nudgepad.beforeUnload=function(a){if(nudgepad.warnBeforeReload)return nudgepad.reloadMessage()};nudgepad.benchmarkCreationTime=function(){if(!Query.newProject&&store.get("opens"))return!0;store.set("opens",1);var a=(new Date).getTime()-Query.timestamp;mixpanel.track("I created a new project",{time:a});console.log("It took %sms to create this project",a)};nudgepad.reloadMessageOneTime="";
nudgepad.reloadMessage=function(){var a;if(a=nudgepad.reloadMessageOneTime)return nudgepad.reloadMessageOneTime="",a;Tool.openTool&&Tool.openTool.logTime();return"Are you sure you want to leave Nudgepad?"};nudgepad.restartCheck=function(){$.get("/nudgepad.started",{},function(a){if(!nudgepad.status.get("started"))return!0;a!==nudgepad.status.get("started")&&(nudgepad.reloadMessageOneTime="Your project restarted. Please refresh the page.",location.reload())})};
window.onerror=function(a,d,c){mixpanel.track("I got a javascript error");Alerts.error("Javascript Error: "+a);return!1};var Alerts={timeout:!1,clear:function(){$("#Alerts").hide()},error:function(a){$("#Alerts").html('<div class="alert alert-danger">'+a+"</div>").show();Popup.open("#Alerts");return!1},success:function(a,d){clearTimeout(Alerts.timeout);$("#Alerts").html('<div class="alert nudgepadPopup alert-success">'+a+"</div>").show();d&&(Alerts.timeout=setTimeout("Alerts.clear()",d));Popup.open("#Alerts")}};
Alerts.activity=Alerts.success;var Blinker={"default":"NudgePad"};Blinker.blinking=Blinker.default;Blinker.interval=null;Blinker.change=function(a){Blinker.blinking=a};Blinker.blink=function(){if(document.hasFocus())return Blinker.stop();document.title=document.title==Blinker.default?Blinker.blinking:Blinker.default};Blinker.start=function(){clearInterval(Blinker.interval);Blinker.blinking=Blinker.default;Blinker.interval=setInterval(Blinker.blink,2E3)};
Blinker.stop=function(){clearInterval(Blinker.interval);document.title=Blinker.blinking=Blinker.default};$(window).on("blur",Blinker.start);$(window).on("focus",Blinker.stop);
var EmailSender=function(){var a=new Space("to \nsubject \nmessage \n");TextPrompt.open("Send an email",a.toString(),"foobar.txt",function(a){a=new Space(a);$.post("/nudgepad.email",a.toObject(),function(a){Alerts.success(a)})})},Launcher={locked:null,open:function(a,d){if(Launcher.locked)return window[Launcher.locked].open();if(window[a])window[a].open();else return!1;if(d||nudgepad.isTesting)return null;history.pushState(a,"Nudgepad - "+a,"/nudgepad?tool="+a)},openToolFromQueryString:function(){var a=
ParseQueryString().tool||"Files";Launcher.open(a,!0)}},Popup={hide:function(a){if(1!==a.which)return!0;$(".nudgepadPopup").hide();$("body").off("mouseup touchend",Popup.hide);Popup.isOpen=!1;return!0},isOpen:!1,open:function(a){$(a).addClass("nudgepadPopup").show();Popup.isOpen||($("body").on("mouseup touchend",Popup.hide),Popup.isOpen=!0);return!0}},PreviewBox={template:null,close:function(a){$(PreviewBox.template).remove();PreviewBox.template=null},open:function(a){var d=$("#PreviewBoxTemplate").html(),
d=$(d.trim());d.find("#PreviewBoxContainer").html(a);d.find("#PreviewBoxWhiteBox").on("click mouseup mousedown slide slidestart slideend",function(a){a.stopPropagation()});d.on("click",function(a){PreviewBox.close()});$("body").append(d);PreviewBox.template=d},toggle:function(a){PreviewBox.template?PreviewBox.close():PreviewBox.open(a)}},RegisterForm={open:function(){$("#RegisterFormDomain").text(document.location.host).attr("href","http://"+document.location.host);var a=Math.round(($(window).width()-
725)/2);0<a&&$("#RegisterFormModal").children().each(function(){$(this).css("left",parseFloat($(this).css("left"))+a+"px");$(this).on("click",function(a){a.stopPropagation()})});$("#RegisterFormModal").show();$("#RegisterFormModal").on("click",function(){$(this).remove()});$("#RegisterFormButton").on("click",function(){var a=$("#RegisterFormEmail").val();if(!ValidateEmail(a))return Alerts.error("Invalid Email");mixpanel.track("I added my email");$("body").append('<iframe id="iframe" src="http://www.nudgepad.com/email.html?email='+
a+'"></iframe>');$("#iframe").ready(function(){$.post("/nudgepad.updateEmail",{email:a,sendWelcomeEmail:"true"},function(){nudgepad.warnBeforeReload=!1;document.location="/nudgepad"})})});$("#RegisterFormEmail").focus()},setEmail:function(){}},RelativeToAbsolute=function(a,d){d=d.replace(/\/$/,"")+"/";var c=new Space(a);c.each(function(a,c){c.get("href")&&!c.get("href").match(/^https?\:/i)&&c.set("href",d+c.get("href"));c.get("src")&&!c.get("src").match(/^https?\:/i)&&c.set("src",d+c.get("src"));
c.get("scraps")&&c.set("scraps",RelativeToAbsolute(c.get("scraps"),d))});return c},randomColor=function(){var a="red green violet yellow blue orange indigo".split(" "),d=a.length-1,d=Math.floor(Math.random()*(d-0+1))+0;return a[d]},Screen=new Space;Screen.set("id","screen"+(new Date).getTime());Screen.set("device",platform.name+(platform.product?"/"+platform.product:""));Screen.set("email",Cookie.email);Screen.set("name",ParseName(Cookie.email));Screen.set("color",randomColor());
Screen.set("tool","Home");Screen.on("set",function(a,d){if(nudgepad.isTesting)return null;var c=new Space;c.set("key",Screen.get("id")+" "+a);c.set("value",d);Socket.emit("screens.set",c.toString(),function(a){console.log("%s responded to screens.set: %s",document.location.host,a)})});var Screens=new Space,Socket;
$(document).on("ready",function(){Socket=io.connect("/",{query:$.param(Screen.toObject())});socketfs.main(Socket);Socket.on("screens.get",function(a){Screens._patch(a)});Socket.on("screens.set",function(a){a=new Space(a);var d=a.get("key");a=a.get("value");Screens.set(d,a)});Socket.on("ack",function(a){$("#ConnectionStatus").hide()});Socket.on("connect",function(){console.log("connected to server: %s",document.location.host);$("#ConnectionStatus").html("Connected!").fadeOut();nudgepad.restartCheck()});
Socket.on("connect_failed",function(a){console.log("Connect failed");console.log(a);$("#ConnectionStatus").html("Connection to server failed...").show()});Socket.on("disconnect",function(a){$("#ConnectionStatus").html("Disconnected from server. Attempting to reconnect...").show()});Socket.on("error",function(a){console.log("Socket error: %s",a);$("#ConnectionStatus").html("Connecting to server...").show()})});
$(document).on("ready",function(){if("content"in document.createElement("template"))return!0;$("template.Tool").each(function(){window[$(this).attr("id")].html=this.innerHTML;$(this).replaceWith("")})});
var Test={tests:[],add:function(a,d){Test.tests.push(d)},equal:function(a,d){if(a===d)return console.log("PASS.");console.log("FAIL. We wanted %s but we got %s",a,d)},ok:function(a){if(!0===a)return console.log("PASS.");console.log("FAIL. We wanted TRUE but we got %s",a)},start:function(){console.log("Starting tests...");Test.tests.forEach(function(a){a()})}},TextPrompt={ace:!0,callback:function(){},save:function(){var a=TextPrompt.value();if(TextPrompt.callback&&!1===TextPrompt.callback(a))return!0;
TextPrompt.close()},close:function(){$(".TextPrompt").remove();if(!TextPrompt.onclose)return null;TextPrompt.onclose();TextPrompt.onclose=null},open:function(a,d,c,b){$("body").append($("#TextPrompt").html());TextPrompt.callback=b;a=$("#TextPromptDimmer");a.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});a.on("click",TextPrompt.close);a=Math.round(0.8*$(window).height());TextPrompt.ace?($("#TextPromptTextarea").parent().hide(),$("#AcePromptHolder").height(a),
c=c.match(/\.([^\.]+)$/)[1],"js"===c&&(c="javascript"),TextPrompt.editor=ace.edit("AcePrompt"),TextPrompt.editor.setTheme("ace/theme/monokai"),TextPrompt.editor.setShowPrintMargin(!1),TextPrompt.editor.getSession().setMode("ace/mode/"+c),TextPrompt.editor.setValue(d),TextPrompt.editor.focus(),TextPrompt.editor.clearSelection()):($("#TextPromptTextarea").on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()}),$("#TextPromptTextarea").css("height",a+"px"),$("#TextPromptTextarea").val(d).focus())},
value:function(a){return a?TextPrompt.ace?TextPrompt.editor.setValue(a):$("#TextPromptTextarea").val(a):TextPrompt.ace?TextPrompt.editor.getValue():$("#TextPromptTextarea").val()}},Backup=new Tool("Backup");Backup.on("ready",function(){$("#BackupDownload").attr("href","/nudgepad.backup/"+document.location.host+".zip")});var Blog=new Tool("Blog");Blog.set("posts",new Space);Blog.active={};Blog.active.filename=null;
Blog.active.advanced=function(){var a=Blog.get("posts "+Blog.active.filename);TextPrompt.open("Advanced",a.toString(),Blog.active.filename,function(d){a.clear();a.patch(d);a.save();Blog.active.open(Blog.active.filename)})};Blog.active.close=function(){Blog.active.filename=null;$(".disableable").attr("disabled",!0)};Blog.active.delete=function(){var a=Blog.active.filename;Blog.active.close();Blog.get("posts "+a).trash();Blog.trigger("posts")};
Blog.active.open=function(a){Blog.active.filename=a;a=Blog.get("posts "+a);$("#BlogTitle").val(a.get("title"));$("#BlogContent").val(a.get("content"));$(".disableable").removeAttr("disabled");$("#BlogTitle").focus();document.execCommand("selectAll",!1,null)};
Blog.active.publish=function(){var a=Blog.get("posts "+Blog.active.filename);if(a.get("permalink"))d=a.get("permalink");else{var d=$("#BlogTitle").val(),d=Blog.permalink(d);a.set("permalink",d);a.save()}a=a.press(Blog.defaultTemplate.toString());expressfs.writeFileAndOpen(d,a,"published")};Blog.active.save=function(){var a=Blog.get("posts "+Blog.active.filename);a.set("title",$("#BlogTitle").val());a.set("content",$("#BlogContent").val());a.save();Blog.trigger("posts")};
Blog.create=function(){expressfs.mkdir("nudgepad/posts");var a=(new Date).getTime(),d=a+".space",c=new Blog.Post(d);c.set("timestamp",a);c.set("title","Untitled");c.save();Blog.set("posts "+d,c,0);Blog.trigger("posts");Blog.active.open(d)};Blog.permalink=function(a){return a?a.toLowerCase().replace(/[^a-z0-9- _\.]/gi,"").replace(/ /g,"-")+".html":""};
Blog.downloadPosts=function(){expressfs.downloadDirectory("nudgepad/posts/","space",function(a){(new Space(a)).each(function(a,c){Blog.set("posts "+a,new Blog.Post(a,c))});Blog.trigger("posts")})};Blog.getList=function(){var a="<ul>\n";Blog.get("posts").each(function(d,c){a+=' <li><a href="'+c.get("permalink")+'">'+c.get("title")+"</a></li>\n"});a+="</ul>";TextPrompt.open("List",a,"list.html")};
Blog.listPosts=function(){var a=Blog.get("posts");$("#BlogPosts").html("");a.each(function(a,c){$("#BlogPosts").append('<li><a class="cursor" onclick="Blog.active.open(\''+a+"')\">"+c.get("title")+"</a></li>")})};
Blog.publishAll=function(){Blog.get("posts").each(function(a,d){var c=Blog.get("posts "+a);if(c.get("permalink"))e=c.get("permalink");else{var b=c.get("title"),e=Blog.permalink(b);c.set("permalink",e);c.save()}c=c.press(Blog.defaultTemplate.toString());expressfs.writeFile(e,c,function(){Alerts.success("Published "+e)})})};Blog.on("ready",Blog.downloadPosts);Blog.on("posts",Blog.listPosts);
Blog.on("once",function(){$.get("/nudgepad/tools/blog/bootstrap/index.html",function(a){Blog.defaultTemplate=a})});Blog.Post=function(a,d){this.clear();this._filename=a;d&&this.patch(d);return this};Blog.Post.prototype=new Space;
Blog.Post.prototype.press=function(a){var d=new Space(this.toString()),c=d.get("format"),b=d.get("content");"html"!==c&&(b="markdown"===c?marked(b):b.replace(/\n/g,"<br>"));a=a.replace(/Blog Post Content/g,b);a=a.replace(/Blog Post Title/g,d.get("title"));d=parseFloat(d.get("timestamp"));d=moment(d).format("MMMM Do YYYY, h:mm:ss a");a=a.replace(/Blog Post Date/g,d);return a=html_beautify(a,{"indent-size":2,"indent-char":" ","indent-inner-html":!0})};
Blog.Post.prototype.save=function(){expressfs.writeFile("nudgepad/posts/"+this._filename,this.toString(),function(){Alerts.success("Saved")})};Blog.Post.prototype.trash=function(){expressfs.unlink("nudgepad/posts/"+this._filename,function(){Alerts.success("Deleted")});Blog.delete("posts "+this._filename)};var Builder=new Tool("Builder");Builder.refresh=function(){$("#BuilderStage").html(Builder.page.toHtml({filter:Builder.filter,wrap:!0}));$("#BuilderSource").val(Builder.page.toConciseString())};
Builder.on("ready",function(){$(".draggable").draggable({revert:!0});Builder.filter=function(){"script"===this.div.tag&&(this.div.draft=!0);this.div.attr("data-index",this.index);this.div.addClass("Scrap")};Builder.page=new Scraps.Page;store.get("page")&&(Builder.page=new Scraps.Page(store.get("page")));Builder.refresh();$(".droppable").droppable({drop:function(a,d){var c=$(d.draggable).find("script").html().trim();$("#BuilderSource").val($("#BuilderSource").val()+c+"\n");Builder.page.reload($("#BuilderSource").val()).loadScraps();
$(this).html(Builder.page.toHtml({wrap:!0,filter:Builder.filter}))}});$("#BuilderSource").on("keyup",function(){Builder.page.reload($("#BuilderSource").val()).loadScraps();$("#BuilderStage").html(Builder.page.toHtml({wrap:!0,filter:Builder.filter}))});$("#BuilderStage").on("click","*",function(a){$(this).is("a")&&a.preventDefault();if($(this).find(".Scrap").length||!$(this).hasClass("Scrap")||!$(this).text().length)return!0;$(this).attr("contenteditable",!0);$(this).focus();a=$(this).attr("data-index");
Builder.page.reload($("#BuilderSource").val()).loadScraps();var d=Builder.page.getByIndexPath(a);$(this).on("keyup",function(){var a=$(this).html();d.set("content",a);$("#BuilderSource").val(Builder.page.toConciseString());Builder.page.trigger("reload")});$(this).on("blur",function(){$(this).removeAttr("contenteditable");var a=$(this).html();d.set("content",a);$("#BuilderSource").val(Builder.page.toConciseString());Builder.page.trigger("reload")})});Builder.page.on("reload",function(){store.set("page",
this.toString())})});Builder.publish=function(){var a=prompt("Enter a filename","new.html");if(!a)return!1;var d=html_beautify(Builder.page.toHtml({wrap:!0}),{"indent-size":2,"indent-char":" ","indent-inner-html":!0});expressfs.writeFileAndOpen(a,d)};var Clone=new Tool("Clone");Clone.set("path","");Clone.import=function(){TextPrompt.open("Import a Project to this project","","import.space",function(a){$.post("/nudgepad.import",{space:a},function(a){Alerts.success("Imported files.")})})};
Clone.on("ready",function(){$("#CloneDomain").val("copyof"+document.location.host);$("#CloneServer").val(nudgepad.status.get("hostname"))});Clone.on("once",function(){expressfs.readFile("nudgepad/sharecode.txt",function(a){a?Clone.code=a:Clone.install()})});
Clone.cloneProject=function(){var a=$("#CloneDomain").val(),d=$("#CloneServer").val();$.get("/nudgepad.export?t="+(new Date).getTime(),{},function(c){var b=$("<form>",{action:"http://"+d+"/create",target:"published",method:"post"}).append($("<input>",{name:"domain",value:a,type:"hidden"})).append($("<input>",{name:"tool",value:"Files",type:"hidden"})).append($("<input>",{name:"email",value:Cookie.email,type:"hidden"})).append($("<input>",{name:"timestamp",value:(new Date).getTime(),type:"hidden"})).append($("<input>",
{name:"relaxed",value:"true",type:"hidden"})),e=$('<input name="clone" type="hidden">');e.val(c);b.append(e);b.submit()})};
Clone.quickClone=function(){var a=$("#CloneDomain").val(),d=nudgepad.status.get("hostname");$("<form>",{action:"http://"+d+"/create",target:"_blank",method:"post"}).append($("<input>",{name:"tool",value:"Files",type:"hidden"})).append($("<input>",{name:"domain",value:a,type:"hidden"})).append($("<input>",{name:"dir",value:"/nudgepad/projects/"+document.location.host,type:"hidden"})).append($("<input>",{name:"timestamp",value:(new Date).getTime(),type:"hidden"})).append($("<input>",{name:"sharecode",
value:Clone.code,type:"hidden"})).append($("<input>",{name:"email",value:Cookie.email,type:"hidden"})).append($("<input>",{name:"relaxed",value:"true",type:"hidden"})).submit()};Clone.install=function(){var a=Math.floor(9E6*Math.random())+1E6;Clone.code=a;expressfs.create("nudgepad/sharecode.txt",a,function(a){console.log(a);a?console.log(a):Alerts.success("Share Code Created")})};var Crawler=new Tool("Crawler");Crawler.urls=new Space;
Crawler.download=function(){if(Crawler.current>Crawler.max)return!1;var a=Crawler.urls.shift();if(!a)return Crawler.downloadResource();var d=a.toString().split(/ /)[0],c=a.toString().split(/ /)[1];$.ajax({url:"/nudgepad.proxy",type:"POST",timeout:1E4,data:{url:d}}).done(function(a){Crawler.fetched.set(d,!0);console.log("Downloaded: %s",d);var e=document.createElement("a");e.href=d;var f=$.htmlToScraps(a);if(!f)return Crawler.download();Crawler.parseResources(f,e,"img","src");Crawler.parseResources(f,
e,"script","src");Crawler.parseResources(f,e,"link","href");c&&Crawler.parseLinks(f,e,c-1);var g=e.pathname.replace(/\//g,"");""===g&&(g="index.html");expressfs.writeFile(g,a,function(){console.log("Saved: %s",g);Alerts.success("Downloaded "+d);Crawler.download()})}).fail(function(a){Crawler.download()});Crawler.current++;Crawler.progress(Crawler.current)};Crawler.done=function(){Crawler.progress(100)};
Crawler.downloadResource=function(){if(Crawler.current>Crawler.max)return!1;var a=Crawler.resources.shift();if(!a)return Crawler.done();var a=a.toString().split(/ /)[0],d=document.createElement("a");d.href=a;$.post("/nudgepad.proxyDownload",{url:a,path:d.pathname},function(){console.log("Downloaded %s to %s",src,d.pathname);Crawler.downloadResource()});Crawler.current++;Crawler.progress(Crawler.current)};
Crawler.parseLinks=function(a,d,c){a.find("tag","a").each(function(a,e){var f=e.get("href");if(!f||f.match(/^mailto\:/))return!0;f.match(/^https?\:\/\//)||(f=d.protocol+"//"+d.hostname+"/"+f.replace(/^\//,""));var g=document.createElement("a");g.href=f;if(g.hostname!==d.hostname||Crawler.fetched.get(f))return!0;Crawler.urls.set(f,c);console.log("Added to queue: %s",f)})};
Crawler.parseResources=function(a,d,c,b){a.find("tag",c).each(function(a,c){var g=c.get(b);if(!g)return!0;g.match(/^https?\:\/\//)||(g=d.protocol+"//"+d.hostname+"/"+g);var h=document.createElement("a");h.href=g;if(h.hostname!==d.hostname)return!0;Crawler.resources.set(g,!0)})};
Crawler.start=function(){var a=$("#CrawlerDomain").val();a.match(/^http/)||(a="http://"+a);Crawler.urls=new Space(a+" 1");Crawler.max=100;Crawler.current=0;Crawler.resources=new Space;Crawler.fetched=new Space;Crawler.download();$("#CrawlerProgress").show()};Crawler.progress=function(a){$("#CrawlerProgress").find(".progress-bar").attr("aria-valuenow",a).css("width",a+"%").html('<span class="sr-only">'+a+"% Complete</span>")};Crawler.on("ready",function(){$("#CrawlerDomain").on("enterkey",function(){$("#CrawlerStart").trigger("click")})});
var Fiddle=new Tool("Fiddle");Fiddle.A=function(){};Fiddle.B=function(){};Fiddle.C=function(){};Fiddle.D=function(){};Fiddle.E=function(){};Fiddle.F=function(){};Fiddle.keyup=function(){var a=$(this).attr("name");Fiddle[a].call(this);Fiddle.save()};Fiddle.iframe=function(){return $("#F").contents().find("body")};
Fiddle.on("ready",function(){if(store.get("Fiddle")){var a=new Space(store.get("Fiddle"));a.get("values").each(function(a,c){$("#"+a).val(c)});a.get("code")&&a.get("code").each(function(a,c){$(".FiddleCode[name="+a+"]").val(c)})}$(".FiddleTextarea").on("keyup",Fiddle.keyup);$(".FiddleCode").on("change",function(){var a=$(this).attr("name"),c=$(this).val();eval("Fiddle."+a+" = function () { "+c+"}");Fiddle.save()});$(".FiddleCode").trigger("change")});
Fiddle.save=function(){var a=new Space;"A B C D E F".split(/ /g).forEach(function(d){var c=$("#"+d).val();c&&a.set("values "+d,c);(c=$(".FiddleCode[name="+d+"]").val())&&a.set("code "+d,c)});store.set("Fiddle",a.toString())};var Files=new Tool("Files");Files.set("path","");Files.on("ready",function(){Files.refresh();Files.updateHidden();socketfs.watch("",function(a){Files.set("files",new Space(a.content));Files.renderExplorer()},function(){})});
Files.on("close",function(){Files.watcher&&Files.watcher.unwatch();Files.watcherEditor&&Files.watcherEditor.unwatch()});Files.on("set",function(a,d){"path"===a&&(Files.renderExplorer(),d.trim()&&(Files.watcher&&Files.watcher.unwatch(),Files.watcher=socketfs.watch(d.replace(/ /g,"/"),function(a){Files.get("files "+d.trim()).reload(a.content);Files.renderExplorer()},function(){})))});Files.parseFilename=function(a){a=a.split(/( |\/)/g);return a[a.length-1]};
Files.toggleHidden=function(){store.get("FilesShowHidden")?store.remove("FilesShowHidden"):store.set("FilesShowHidden","true");Files.renderExplorer();Files.updateHidden()};Files.updateHidden=function(){$("#FilesHiddenToggle").html("");store.get("FilesShowHidden")&&$("#FilesHiddenToggle").append("&#10003; ");$("#FilesHiddenToggle").append("Show Hidden Files")};Files.isImage=function(a){return a.match(/\.png|jpeg|jpg|gif$/i)?!0:!1};
Files.newFile=function(){var a=prompt("Enter the filename");if(!a)return!1;var d=Files.get("path")?Files.get("path")+" ":"";expressfs.create((d+a).replace(/ /g,"/"),"")};Files.newFolder=function(){var a=prompt("Enter the folder name");if(!a)return!1;var d=Files.get("path")?Files.get("path")+" ":"";expressfs.mkdir((d+a).replace(/ /g,"/"))};
Files.renderExplorer=function(){var a=Files.get("files");Files.get("path")&&(a=a.get(Files.get("path")));var d='<table id="FilesExplorer">',d=d+'<tr class="FilesExplorerHeader"><td>Filename</td><td></td><td></td><td></td><td></td><td>Size</td><td>Age</td></tr>',c=Files.get("path")?Files.get("path")+" ":"",b=_.filter(a.getKeys(),function(b){return!a.get(b).get("timeSinceLastChange")}).sort(),e=_.filter(a.getKeys(),function(b){return a.get(b).get("timeSinceLastChange")}).sort();b.concat(e).forEach(function(b){if(!store.get("FilesShowHidden")&&
"."==b.substr(0,1))return!0;var e=a.get(b),f="<tr";e.get("timeSinceLastChange")?(f+=' class="FilesExplorerFile" value="'+b+'" path="'+c+b+'">',f=Files.isImage(b)?f+('<td class="FilesExplorerPreview">'+b+"</td>"):f+('<td class="FilesExplorerEdit">'+b+"</td>"),f=c.match(/^nudgepad/)?f+"<td></td>":f+('<td class="FilesHiddenAction FilesExplorerVisit"><a target="published" href="/'+c.replace(/ /g,"/")+b+"?"+(new Date).getTime()+'">Visit</a></td>'),f+='<td class="FilesHiddenAction FilesExplorerRename">Rename</td><td class="FilesHiddenAction FilesExplorerDuplicate">Duplicate</td>',
f+='<td class="FilesHiddenAction FilesExplorerRemove">Delete</td>',f+="<td>"+e.get("size")+"</td>",f+="<td>"+moment(parseFloat(e.get("mtime"))).fromNow()+"</td>"):(f+=' class="FilesExplorerFolder" value="'+b+'" path="'+c+b+'">',f+='<td class="FilesExplorerFolderName">'+b+"</td>",f+="<td></td>",f+="<td></td>",f+='<td class="FilesHiddenAction FilesExplorerRename">Rename</td>',f+='<td class="FilesHiddenAction FilesExplorerRemoveFolder">Delete</td>',f+="<td></td><td></td>");f+="</tr>";d+=f});var d=d+
"</table>",f="<li><a class=\"cursor\" onclick=\"Files.set('path', '')\">"+document.location.host+"</a></li>";if(c){var g="";c.split(/ /g).forEach(function(a,b){f+="<li><a class=\"cursor\" onclick=\"Files.set('path', '"+g+a+"')\">"+a+"</a></li>";g+=a+" "})}$("#FilesExplorerPath").html(f);$("#FilesExplorerHolder").html(d)};Files.refresh=function(){expressfs.dirStats("",function(a){Files.set("files",new Space(a));Files.renderExplorer()})};
Files.edit=function(a,d){Events.shortcut.disableShortcutsIfInputHasFocus=!1;Events.shortcut.shortcuts["meta+s"]=function(){expressfs.writeFile(a,TextPrompt.value().toString(),function(){Files.editorValue=TextPrompt.value().toString();Alerts.success(a+" saved",1E3)})};expressfs.readFile(a,function(c){var b=Files.parseFilename(a);Files.editorValue=c;Files.watcherEditor=socketfs.watch(b,function(a){a.content!==TextPrompt.value()&&(console.log(b+" has changed"),Files.editorValue!==TextPrompt.value()?
Alerts.error("Warning! "+b+" has changed and differs from what you have here. We recommend copying your work to the clipboard just in case."):(Files.editorValue=a.content,TextPrompt.value(a.content)))});TextPrompt.onclose=function(){Files.watcherEditor&&Files.watcherEditor.unwatch()};TextPrompt.open("Editing "+a,c,a,function(b){expressfs.writeFile(a,b.toString(),function(b){b?console.log(b):Alerts.success(a+" saved");d&&d();Events.shortcut.shortcuts={};Events.shortcut.disableShortcutsIfInputHasFocus=
!0})})})};$(document).on("click",".FilesExplorerEdit",function(){var a=$(this).parent().attr("path").replace(/ /g,"/");Files.edit(a,Files.renderExplorer)});$(document).on("click",".FilesExplorerPreview",function(){var a=$(this).parent().attr("path").replace(/ /g,"/");PreviewBox.open('<img src="'+a+'">')});
$(document).on("click",".FilesExplorerRename",function(){var a=prompt("Rename this file",$(this).parent().attr("value"));if(!a)return!1;var d=Files.get("path")?Files.get("path")+" ":"";expressfs.rename($(this).parent().attr("path").replace(/ /g,"/"),(d+a).replace(/ /g,"/"))});
$(document).on("click",".FilesExplorerDuplicate",function(){var a=prompt("Duplicate this file",$(this).parent().attr("value"));if(!a)return!1;var d=Files.get("path")?Files.get("path")+" ":"";expressfs.cp($(this).parent().attr("path").replace(/ /g,"/"),(d+a).replace(/ /g,"/"))});
$(document).on("click",".FilesExplorerRemove",function(a){var d=$(this).parent().attr("value");if(!a.metaKey&&!confirm("Are you sure you want to delete "+d+"?"))return!1;expressfs.unlink($(this).parent().attr("path").replace(/ /g,"/"),function(){Alerts.success(d+" deleted")})});
$(document).on("click",".FilesExplorerRemoveFolder",function(){var a=$(this).parent().attr("value");if(!event.metaKey&&!confirm("Are you sure you want to delete "+a+"?"))return!1;var d=$(this).parent().attr("path").replace(/ /g,"/");expressfs.rmdir(d,function(){Alerts.success(a+" deleted")})});$(document).on("click",".FilesExplorerFolderName",function(){Files.set("path",$(this).parent().attr("path"))});Files.drop={};
Files.drop.traverseFileTree=function(a,d){d=d||"";a.isFile?a.file(function(a){console.log("File:",d+a.name);Files.drop.sendFile(d,a)}):a.isDirectory&&a.createReader().readEntries(function(c){for(var b=0;b<c.length;b++)Files.drop.traverseFileTree(c[b],d+a.name+"/")})};
Files.drop.sendFile=function(a,d){var c;c="/nudgepad.upload"+("?path="+Files.get("path").replace(" ","/")+"/"+(a?a:""));var b=new XMLHttpRequest,e=new FormData;b.open("POST",c,!0);b.onreadystatechange=function(){4==b.readyState&&200==b.status?Alerts.success(b.responseText):500==b.status&&Alerts.error(b.responseText)};c=d.name.replace(/ /g,"-");e.append("filename",c);e.append("myFile",d);b.send(e)};
Files.drop.ondrop=function(a){console.log("yo");a.preventDefault();a=a.dataTransfer.items;for(var d=0;d<a.length;d++){var c=a[d].webkitGetAsEntry();c&&Files.drop.traverseFileTree(c)}};Files.drop.ondragover=function(a){a.preventDefault()};Files.on("close",function(){window.removeEventListener("dragover",Files.drop.ondragover);window.removeEventListener("drop",Files.drop.ondrop)});
Files.on("open",function(){window.addEventListener("dragover",Files.drop.ondragover,!1);window.addEventListener("drop",Files.drop.ondrop,!1)});var Flickr=new Tool("Flickr");Flickr.download=function(a){var d=Flickr.query.toLowerCase().replace(/ /g,"-")+".jpg",d=prompt("Enter a filename",d);if(!d)return!1;$.post("/nudgepad.proxyDownload",{url:a,path:d},function(){Alerts.success("Saved "+d)})};
Flickr.search=function(a){Flickr.query=a||"";a="http://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=caf160db8d568920296a366f58cb3a0c&text="+a+"&format=json&nojsoncallback=1";$("#photos").html('<center><img src="/nudgepad/public/images/spinner.gif"></center>');$.getJSON(a,function(a){a=(new Space(a)).get("photos photo");$("#photos").html("");console.log(a.toString());var c=0;a.each(function(a,d){c++;var f="http://farm"+d.get("farm")+".staticflickr.com/"+d.get("server")+"/"+d.get("id")+
"_"+d.get("secret")+"_n.jpg",g="http://farm"+d.get("farm")+".staticflickr.com/"+d.get("server")+"/"+d.get("id")+"_"+d.get("secret")+"_b.jpg";$("#photos").append('<img class="cursor" src="'+f+'" onclick="Flickr.download(\''+g+"')\"></a>");if(30<c)return!1})}).fail(function(){Alerts.error("Please try again");$("#photos").html("")})};Flickr.on("ready",function(){});var Git=new Tool("Git");Git.gitignore="nudgepad/";
Git.add=function(){var a=prompt("Enter the file paths to add",".");if(!a)return!1;Git.exec("git add "+a,function(){Alerts.success("Added");Git.status()})};Git.addOrigin=function(){var a=prompt("Enter origin URI");if(!a)return!1;Git.exec("git remote add origin "+a,function(){Alerts.success("Origin Updated")})};Git.autocommit=function(){Git.exec('git add .; git commit -am "autocommit"',function(){console.log("changed committed...")})};
Git.cloneRepo=function(){var a=prompt("Enter clone URI","https://github.com/");if(!a)return!1;Git.exec("git clone "+a+" temp; mv temp/* .; mv temp/.git .; rm -rf temp",function(){Alerts.success("Cloned")})};Git.commit=function(){var a=prompt("Enter your message");if(!a)return!1;Git.exec('git commit -am "'+a+'"',function(){Alerts.success("Commit Received")})};
Git.deployKey=function(){expressfs.exists("nudgepad/deploy.key.pub",function(a){a?expressfs.readFile("nudgepad/deploy.key.pub",function(a){a=$('<pre id="PreviewBoxWhiteBox" style="text-align: left;">'+a+"</pre>");PreviewBox.open(a)}):Git.generateKey()})};Git.exec=function(a,d){var c=$("#GitStatus");c.html("");$.post("nudgepad.exec",{command:a},function(a){c.append(a+"\n");d&&d()}).fail(function(a,d){c.append("ERROR\n");c.append(a.responseText+"\n")})};
Git.fixKey=function(){Git.exec("ssh-keyscan -t rsa1,rsa,dsa github.com >> /home/"+document.location.hostname+"/.ssh/known_hosts")};Git.generateKey=function(){Git.exec('ssh-keygen -t rsa -N "" -f '+("/nudgepad/projects/"+document.location.host+"/nudgepad/deploy.key"),function(){Alerts.success("Git SSH key created");Git.status();expressfs.readFile("nudgepad/deploy.key.pub",function(a){a=$('<textarea readonly="readonly" id="PreviewBoxWhiteBox" style="text-align: left;">'+a+"</textarea>");PreviewBox.open(a)})})};
Git.install=function(){if(!confirm("This will run git init and start your repo."))return!1;expressfs.writeFile(".gitignore",Git.gitignore,function(){Git.exec('git init; git add .; git commit -am "initial commit";',function(){Alerts.success("Git setup OK")})})};Git.pull=function(){Git.exec("ssh-agent bash -c 'ssh-add /nudgepad/projects/"+document.location.hostname+"/nudgepad/deploy.key; git pull'")};
Git.push=function(){var a="ssh-agent bash -c 'ssh-add /nudgepad/projects/"+document.location.hostname+"/nudgepad/deploy.key; git push -u origin master'";console.log(a);Git.exec(a)};Git.setOrigin=function(){var a=prompt("Enter origin URI");if(!a)return!1;Git.exec("git remote set-url origin "+a,function(){Alerts.success("Origin Updated")})};Git.status=function(){Git.exec("git status")};Git.on("ready",Git.status);var Home=new Tool("Home");
Home.renderMenu=function(){$("#OpenTool #HomeContainer").html("");var a="Templates Pages Files".split(/ /g),d="rgb(26,134,214) rgb(36,65,112) rgb(231,189,44) rgb(171,193,199) rgb(224,54,52) rgb(71,41,54)".split(" "),c='<div class="row">',b;for(b in a){var e=window[a[b]];0<b&&0===b%3&&(c+='</div><div class="row">');var e=e.get("name"),f=ToolInfo.get(e.toLowerCase()),c=c+Home.toButton(e,f.get("description"),d[b?b%d.length:0],f.get("icon")||"picture")}0!==(b+1)%3&&(c+="</div>");$("#OpenTool #HomeContainer").append(c);
Home.heights()};Home.heights=function(){var a=0;$(".jumbotron").css("height","auto");$(".jumbotron").each(function(){$(this).height()>a&&(a=$(this).height())}).height(a)};Home.toButton=function(a,d,c,b){return'<div class="col-md-4"><div class="jumbotron cursor HomeBtn" onclick="Launcher.open(\''+a+'\')" style="text-align: center;color: white;background-color : '+c+'">      <h1><i class="icon-'+b+'"></i></h1><h2>'+a+"</h2>      <p>"+d+"</p>  </div></div>"};
Home.on("ready",function(){Home.renderMenu();$(window).on("resize",Home.heights)});Home.on("close",function(){$(window).off("resize",Home.heights)});var Insight=new Tool("Insight");Insight.install=function(){expressfs.mkdir("nudgepad/insight",function(){console.log("created insight")})};Insight.permalink=function(a){return a?a.toLowerCase().replace(/[^a-z0-9- _\.]/gi,"").replace(/ /g,"-"):""};Insight.on("once",Insight.install);Insight.menu={};Insight.database;Insight.view=new Space;
Insight.menu.create=function(){var a=prompt("Enter a name for your new database","untitled");if(!a)return!1;a=Insight.permalink(a);(new Insight.Database(a)).create(function(){Insight.menu.open(a)})};Insight.menu.open=function(a){Insight.database=a;Insight.base=new Insight.Database(a);Insight.base.open()};Insight.menu.openPrompt=function(){var a=prompt("Open a db","untitled");if(!a)return!1;Insight.menu.open(a)};
Insight.menu.editView=function(){TextPrompt.open("Edit View",Insight.view.toString(),"view.space",function(a){Insight.view.reload(a);Insight.view.save();Insight.base.render()})};Insight.drawInit=function(){$(".InsightPlane").on("mousemove",function(a){if(!a.which)return!0;for(var d=0;300>d;d++){var c=Math.round(200*Math.random())*(0.5<Math.random()?1:-1),b=Math.round(200*Math.random())*(0.5<Math.random()?1:-1);Insight.insert(a.offsetX+c,a.offsetY+b,(new Date).getTime())}})};
Insight.on("ready",function(){$(".InsightPlane").on("dblclick",function(a){var d=new Space;d.set("meta x",a.offsetX);d.set("meta y",a.offsetY);a=(new Date).getTime().toString();d=new Insight.Record(a,Insight.database,d);Insight.base.set(a,d);d.render();d.save();d.edit()});$(".InsightPlane").on("click",".InsightRecord",function(){var a=$(this).attr("id");Insight.base.get(a).edit();return!1});$(".InsightPlane").on("click",".InsightEditor, .InsightRecord",function(a){a.stopPropagation();return!1});$(".InsightPlane").on("dblclick",
".InsightEditor, .InsightRecord",function(a){a.stopPropagation()});$(".InsightPlane").on("click",function(){$(".InsightEditor").remove()});store.get("InsightDatabase")&&Insight.menu.open(store.get("InsightDatabase"));$("#InsightDatabase").on("blur",function(){console.log("changing");Insight.base.rename($(this).text())})});Insight.on("close",function(){Insight.watcher&&Insight.watcher.unwatch()});Insight.View=function(a,d,c){this.name=a;this.database=d;this.reload(c);return this};
Insight.View.prototype=new Space;Insight.View.prototype.insight=function(){this.updateX();this.updateY()};Insight.View.prototype.save=function(){expressfs.writeFile("nudgepad/insight/"+this.database+"/"+this.name+".space",this.toString())};
Insight.View.prototype.updateY=function(){var a=this.get("y");if(!a)return!1;$(".InsightRecord").addClass("InsightRecordAnimate");var d=$(".InsightPlane").height()-20,c,b;Insight.base.each(function(d,e,h){d=parseFloat(e.get("value "+a));"undefined"===typeof c&&(c=d);"undefined"===typeof b&&(b=d);c>d&&(c=d);b<d&&(b=d)});var e=b-c;console.log(b);Insight.base.each(function(b,g,h){b=g.element();g=g.get("value "+a);g=Math.round((parseFloat(g)-c)/e*d);console.log(g);g=d-g;b.css("top",g)});setTimeout("$('.InsightRecord').removeClass('InsightRecordAnimate')",
1E3);$("#InsightYMax").html(b).show();$("#InsightYLabel").html(a).show();$("#InsightYMin").html(c).show()};
Insight.View.prototype.updateX=function(){var a=this.get("x");if(!a)return!1;console.log("moving");$(".InsightRecord").addClass("InsightRecordAnimate");var d=$(".InsightPlane").width()-100,c,b;Insight.base.each(function(d,e,h){d=parseFloat(e.get("value "+a));"undefined"===typeof c&&(c=d);"undefined"===typeof b&&(b=d);c>d&&(c=d);b<d&&(b=d)});var e=b-c;console.log(b);Insight.base.each(function(b,g,h){b=g.element();g=g.get("value "+a);g=Math.round((parseFloat(g)-c)/e*d);console.log(g);b.css("left",g)});
setTimeout("$('.InsightRecord').removeClass('InsightRecordAnimate')",1E3);$("#InsightXMax").html(b).show();$("#InsightXLabel").html(a).show();$("#InsightXMin").html(c).show()};Insight.Record=function(a,d,c){this.id=a;this.database=d;this.reload(c);return this};Insight.Record.prototype=new Space;
Insight.Record.prototype.edit=function(){$(".InsightEditor").remove();var a=$('<div class="InsightEditor"></div>'),d=$('<textarea class="InsightTextarea"></textarea>');a.attr("id",this.id);var c=this.id,b=this.element(),e=b.position().left,b=b.position().top;a.css({top:b+20,left:e+20});a.append(d);e=$('<button type="button" title="Delete" class="btn btn-default btn"><i class="icon-trash"></i></button>');a.append("<br>");a.append(e);$(".InsightPlane").append(a);e.on("click",function(){Insight.base.trash(c);
a.remove()});var f=this;d.val(this.get("value"));d.focus();d.on("change",function(){f.set("value",new Space(d.val()));f.save();f.render();a.remove()})};Insight.Record.prototype.element=function(){return $("#"+this.id)};Insight.dragIt=function(a){a.draggable({stop:function(){var a=$(this).attr("id"),c=$(this),a=Insight.base.get(a);a.set("meta y",c.position().top);a.set("meta x",c.position().left);a.save()},start:function(){$(".InsightEditor").remove()}})};
Insight.Record.prototype.render=function(){$("#"+this.id).remove();var a=$('<i class="icon-location-arrow"></i>'),d=$('<div class="InsightRecord"></div>');a.css("font-size","14px");a.css("-webkit-transform","rotate(80deg)");a.css("transform","rotate(80deg)");d.append(a);a=Insight.view.get("label")||"name";(a=this.get("value "+a))&&d.append("<label>"+a+"</label>");d.attr("id",this.id);var a=this.get("meta x"),c=this.get("meta y");d.css({top:c+"px",left:a+"px"});$(".InsightPlane").append(d);Insight.dragIt(d);
return this};Insight.Record.prototype.save=function(a){expressfs.writeFile("nudgepad/insight/"+this.database+"/"+this.id+".space",this.toString(),a)};Insight.Database=function(a){this.name=a;return this};Insight.Database.prototype=new Space;Insight.Database.prototype.create=function(a){expressfs.mkdir(this.getPath()+"/views/",a)};Insight.Database.prototype.getPath=function(a){return"nudgepad/insight/"+(a?a:this.name)};
Insight.Database.prototype.open=function(){var a=this;expressfs.downloadDirectory(this.getPath(),"space",function(d){a.reload(d);a.each(function(a,b,d){a=a.replace(/\.space/,"");b=new Insight.Record(a,this.name,b);this.update(d,a,b)});a.render();Insight.watcher=socketfs.watch("nudgepad/insight/"+a.name,function(c){(new Space(c.content)).each(function(b,c){if(!b.match(/\.space$/))return!0;var d=b.replace(/\.space/,"");if(a.get(d))return!0;expressfs.readFile("nudgepad/insight/"+a.name+"/"+b,function(b){b=
new Insight.Record(d,a.name,b);a.set(d,b);b.render()})})},function(){});$("#InsightDatabase").html(a.name);store.set("InsightDatabase",a.name)})};Insight.Database.prototype.rename=function(a){expressfs.rename(this.getPath(),this.getPath(a),function(){Insight.menu.open(a)})};Insight.Database.prototype.render=function(){$(".InsightPlane").html("");this.each(function(a,d,c){d.render()});$(".InsightPlane").show()};
Insight.Database.prototype.trash=function(a){expressfs.unlink("nudgepad/insight/"+this.name+"/"+a+".space",function(){$("#"+a).fadeOut("fast",function(){$(this).remove()})})};Insight.drop={};Insight.drop.traverseFileTree=function(a,d){d=d||"";a.isFile?a.file(function(a){console.log("File:",d+a.name);Insight.drop.processFile(d,a)}):a.isDirectory&&a.createReader().readEntries(function(c){for(var b=0;b<c.length;b++)Insight.drop.traverseFileTree(c[b],d+a.name+"/")})};
Insight.drop.processFile=function(a,d){if(d.name.match(/\.space/)){var c=new FileReader;c.onload=function(a){var c=new Space(a.target.result);a=new Space;a.set("meta x",Insight.drop.event.offsetX+_.random(-300,300));a.set("meta y",Insight.drop.event.offsetY+_.random(-300,300));a.set("value",c);c.get("meta x")&&a.reload(c.toString());c=(new Date).getTime().toString();a=new Insight.Record(c,Insight.database,a);Insight.base.set(c,a);a.render();a.save()};c.onerror=function(a){console.log("error: %s",
a)};c.readAsText(d)}d.name.match(/\.csv/)&&(c=new FileReader,c.onload=function(a){csvToSpace(a.target.result).each(function(a,b,c){c=new Space;c.set("meta x",Insight.drop.event.offsetX+_.random(-300,300));c.set("meta y",Insight.drop.event.offsetY+_.random(-300,300));c.set("value",b);b=new Insight.Record(a,Insight.database,c);Insight.base.set(a,b);b.render();b.save()})},c.onerror=function(a){console.log("error: %s",a)},c.readAsText(d))};
Insight.drop.ondrop=function(a){a.preventDefault();Insight.drop.event=a;a=a.dataTransfer.items;for(var d=0;d<a.length;d++){var c=a[d].webkitGetAsEntry();c&&Insight.drop.traverseFileTree(c)}};Insight.drop.ondragover=function(a){a.preventDefault()};Insight.on("close",function(){window.removeEventListener("dragover",Insight.drop.ondragover);window.removeEventListener("drop",Insight.drop.ondrop)});
Insight.on("open",function(){window.addEventListener("dragover",Insight.drop.ondragover,!1);window.addEventListener("drop",Insight.drop.ondrop,!1)});var Labs=new Tool("Labs");
Labs.renderMenu=function(){$("#OpenTool #LabsContainer").html("");var a="Backup Blog Builder Clone Crawler Fiddle Files Flickr Git Pages Redirect Server Share Sketch Stats Team Templates Time".split(/ /g),d="rgb(26,134,214) rgb(36,65,112) rgb(231,189,44) rgb(171,193,199) rgb(224,54,52) rgb(71,41,54)".split(" "),c='<div class="row">',b;for(b in a){var e=window[a[b]];0<b&&0===b%3&&(c+='</div><div class="row">');var e=e.get("name"),f=ToolInfo.get(e.toLowerCase()),c=c+Labs.toButton(e,f.get("description"),
d[b?b%d.length:0],f.get("icon")||"picture")}0!==(b+1)%3&&(c+="</div>");$("#OpenTool #LabsContainer").append(c);Labs.heights()};Labs.heights=function(){var a=0;$(".jumbotron").css("height","auto");$(".jumbotron").each(function(){$(this).height()>a&&(a=$(this).height())}).height(a)};
Labs.toButton=function(a,d,c,b){return'<div class="col-md-4"><div class="jumbotron cursor LabsBtn" onclick="Launcher.open(\''+a+'\')" style="text-align: center;color: white;background-color : '+c+'">      <h1><i class="icon-'+b+'"></i></h1><h2>'+a+"</h2>      <p>"+d+"</p>  </div></div>"};Labs.on("ready",function(){Labs.renderMenu();$(window).on("resize",Labs.heights)});Labs.on("close",function(){$(window).off("resize",Labs.heights)});var Layout=new Tool("Layout");
Layout.on("ready",function(){var a=$(".LayoutCell").clone();$("#LayoutStage").on("click",".splitHorizontal",function(){var d=a.clone();d.css("height","50%");$(this).parent().parent().append(d);d=a.clone();d.css("height","50%");$(this).parent().parent().append(d);$(this).parent().remove()});$("#LayoutStage").on("click",".splitVertical",function(){var d=a.clone();d.css("width","50%");$(this).parent().parent().append(d);d=a.clone();d.css("width","50%");$(this).parent().parent().append(d);$(this).parent().remove()});
$("#LayoutStage").on("click",".layoutText",function(){var a=$(this).parent().parent();a.attr("contenteditable",!0).css("line-height",a.height()+"px");$(this).parent().remove();a.focus()});$("#LayoutStage").on("slidestart",".LayoutCell",function(){$(this).css("background","red");return!1});$("#LayoutStage").on("slideend",".LayoutCell",function(a,c){var b=Events.slide.mousedown.x,e=Events.slide.mousedown.y,f=c.x,g=c.y;$(".LayoutCell").getElementsByLine(b,e,f,g).forEach(function(a){if($(a).find(".LayoutCell").length)return!0;
$(a).css("background","blue")});return!1})});Layout.template='<!doctype html><html>  <head>  <title id="title">Untitled</title>  <style id="style">  #LayoutPage {  font-family: Helvetica;  font-weight: 200;  padding: 0;  margin: 0;  font-size: 100px;  }  .LayoutCell {    position: relative;    color: grey;    width: 100%;    height: 100%;    text-align: center;    font-size: 0.75em;    margin: 0;    padding: 0;    box-sizing: border-box;    float: left;  }  </style>  </head>  <body id="LayoutPage">BODY</body></html>';
Layout.publish=function(){var a=Layout.template,d=$("#LayoutStage").clone();d.find(".LayoutCellControls").remove();d.find(".LayoutCell").removeAttr("contenteditable");d=d.html();d=a.replace(/BODY/,d);a=prompt("Enter a filename","layout.html");if(!a)return!1;expressfs.writeFileAndOpen(a,d,"published")};Layout.splitVertical=function(){$(".selected").append('<div class="LayoutCell" style="width: 50%;"></div><div class="LayoutCell" style="width: 50%;"></div>')};Layout.splitHorizontal=function(){$(".selected").append('<div class="LayoutCell" style="height: 50%;"></div><div class="LayoutCell" style="height: 50%;"></div>')};
var isRectangleIntersectedByLine=function(a,d,c,b,e,f,g,h){var l=e,n=g;e>g&&(l=g,n=e);n>c&&(n=c);l<a&&(l=a);if(l>n)return!1;a=f;c=h;g-=e;1E-7<Math.abs(g)&&(h=(h-f)/g,e=f-h*e,a=h*l+e,c=h*n+e);a>c&&(l=c,c=a,a=l);c>b&&(c=b);a<d&&(a=d);return a>c?!1:!0};
$.fn.getElementsByLine=function(a,d,c,b){var e=[];$(this).each(function(){var f=$(this),g,h,l,n;g=f.offset().left;h=f.offset().left+f.outerWidth();l=f.offset().top;n=f.offset().top+f.outerHeight();isRectangleIntersectedByLine(g,l,h,n,a,d,c,b)&&e.push(f)});return e};var Pages=new Tool("Pages");Pages.editor={};Pages.pages=[];
Pages.refresh=function(){$(".openPage").remove();Pages.pages.sort(function(a,d){return d<a});Pages.pages.forEach(function(a){$("#PagesFileMenu").append('<li><a class="cursor openPage" onclick="Pages.editor.open(\''+a+"')\">"+a+"</a></li>");console.log(a)})};Pages.editor.create=function(){var a=prompt("Enter a name for the file","index.html");if(!a)return!0;expressfs.writeFile(a,"");Pages.pages.push(a);Pages.editor.open(a);Pages.refresh()};
Pages.editor.duplicate=function(){var a=prompt("Enter a name for the file",Pages.filename);if(!a)return!0;expressfs.writeFile(a,Pages.page.toHtml());Pages.pages.push(a);Pages.editor.open(a);Pages.refresh()};Pages.editor.loadFiles=function(){expressfs.downloadDirectory("","html",function(a){a=new Space(a);Pages.pages=a.getKeys();Pages.refresh()})};Pages.on("ready",function(){$("#PagesStage").on("load",function(){store.get("PagesFilename")&&Pages.editor.open(store.get("PagesFilename"))});Pages.refresh()});
Pages.on("close",function(){Events.shortcut.shortcuts={};Events.shortcut.disableShortcutsIfInputHasFocus=!0;Pages.watcher&&Pages.watcher.unwatch()});Pages.on("open",Pages.editor.loadFiles);
Pages.editor.editHtml=function(){var a=Pages.page.toHtml();Events.shortcut.disableShortcutsIfInputHasFocus=!1;Events.shortcut.shortcuts["meta+s"]=function(){Pages.page.reload($.htmlToScraps(TextPrompt.value()));Pages.page.publish()};TextPrompt.open("",a,store.get("PagesFilename"),function(a){console.log(a);Pages.page.reload($.htmlToScraps(a));Pages.page.render();Events.shortcut.shortcuts={}})};
Pages.editor.editScraps=function(){Events.shortcut.disableShortcutsIfInputHasFocus=!1;Events.shortcut.shortcuts["meta+s"]=function(){Pages.page.reload(TextPrompt.value());Pages.page.publish()};TextPrompt.open("",Pages.page.toConciseString(),store.get("PagesFilename").replace("html","space"),function(a){Pages.page.reload(a);Pages.page.render();Events.shortcut.shortcuts={}})};
Pages.editor.open=function(a){$("#PagesFilename").html(a);Pages.page=new Pages.Page(a);Pages.page.open();Pages.watcher=socketfs.watch(a,function(d){console.log(a+" changed");Pages.page.reload($.htmlToScraps(d.content));Pages.page.render()})};Pages.Page=function(a){this.filename=a;return this};Pages.Page.prototype=new Space;Pages.Page.prototype.open=function(a){var d=this;expressfs.readFile(this.filename,function(a){d.reload($.htmlToScraps(a));d.render();store.set("PagesFilename",d.filename)})};
Pages.Page.prototype.publish=function(){var a=html_beautify((new Scraps.Page(this.toString())).toHtml({wrap:!0}),{"indent-size":2,"indent-char":" ","indent-inner-html":!0});expressfs.writeFileAndOpen(this.filename,a)};
Pages.Page.prototype.render=function(){var a=(new Scraps.Page(this.toString())).toHtml({wrap:!0,filter:function(){"script"===this.div.tag&&(this.div.draft=!0);this.div.attr("data-index",this.index);this.div.addClass("PagesScrap")}}),d=$("#PagesStage").contents().find("body");d.html(a);d.on("click","*",function(a){$(this).is("a")&&a.preventDefault();if($(this).find(".PagesScrap").length||!$(this).hasClass("PagesScrap")||!$(this).text().length)return!0;$(this).attr("contenteditable",!0);$(this).focus();
$(this).on("blur",function(){$(this).removeAttr("contenteditable");var a=$(this).html(),c=$(this).attr("data-index");console.log(c);Pages.page.getByIndexPath(c)instanceof Space?Pages.page.getByIndexPath(c).set("content",a):Pages.page.setByIndexPath(c,a)})});$("#PagesStage").css("visibility","")};Pages.Page.prototype.save=function(){};Pages.Page.prototype.toConciseString=function(){return(new Scraps.Page(this.toString())).toConciseString()};
Pages.Page.prototype.toHtml=function(){return html_beautify((new Scraps.Page(this.toString())).toHtml({wrap:!0}),{"indent-size":2,"indent-char":" ","indent-inner-html":!0})};var Redirect=new Tool("Redirect");Redirect.on("open",function(){expressfs.readFile("nudgepad/redirects.space",function(a){$("#RedirectCode").val(a)})});Redirect.save=function(){var a=$("#RedirectCode").val();expressfs.writeFile("nudgepad/redirects.space",a,function(a){Alerts.success("Saved. Please restart")})};var Server=new Tool("Server");
Server.consoleSend=function(a){var d=$("#ServerConsole"),c=$("#ServerConsoleOutput"),b=d.val(),e="nudgepad.exec";a&&(e="nudgepad.console");$.post(e,{command:b},function(a){c.text(c.text()+(">"+b.replace(/\n/g,"> \n")+"\n")+a+"\n");c.scrollTop($(c)[0].scrollHeight+"");d.val("");d.focus()}).error(function(a,e){mixpanel.track("I used the console and got an error");c.text(c.text()+">"+b.replace(/\n/g,"> \n")+"\nERROR\n"+a.responseText+"\n");c.scrollTop($("#ServerConsole")[0].scrollHeight+"");d.val("");
d.focus()})};Server.refresh=function(){$.get("/nudgepad.status",{},function(a){$("#ServerStatusArea").text(a)});$.get("/nudgepad.logs",{},function(a){$("#ServerLogHolder").html($("<div/>").text(a).html());$("#ServerLogHolder").scrollTop($("#ServerLogHolder").height())})};$(document).on("ready",function(){$("#ServerConsoleInput").on("enterkey",Server.consoleSend)});
Server.on("ready",function(){Server.tail=socketfs.tail("nudgepad/app.log.txt",function(a){$("#ServerLogHolder").append($("<div/>").text(a.content+"\n").html());$("#ServerLogHolder").scrollTop($("#ServerLogHolder")[0].scrollHeight)});Server.refresh();$("#ServerConsole").on("enterkey",function(){$("#ServerConsoleSend").trigger("click")})});Server.on("close",function(){Server.tail.untail()});var Share=new Tool("Share");
Share.on("ready",function(){Share.update();expressfs.readFile("nudgepad/sharecode.txt",function(a){a?Share.code=a:Share.install()})});Share.install=function(){var a=Math.floor(9E6*Math.random())+1E6;Share.code=a;expressfs.create("nudgepad/sharecode.txt",a,function(a){console.log(a);Share.update();a?console.log(a):Alerts.success("Share Code Created")})};
Share.update=function(){var a='<form method="post" action="http://'+nudgepad.status.get("hostname")+'/create">\n',a=a+('  <input type="hidden" name="dir" value="/nudgepad/projects/'+document.location.host+'">\n'),a=a+('  <input type="hidden" name="sharecode" value="'+Share.code+'">\n'),a=a+'  <button type="submit">Create</button>\n</form>';$("#ShareCode").val(a)};
var SignaturePad=function(a){var d=function(b,c){var d=this,h=c||{};this.velocityFilterWeight=h.velocityFilterWeight||0.7;this.minWidth=h.minWidth||0.5;this.maxWidth=h.maxWidth||2.5;this.dotSize=h.dotSize||function(){return(this.minWidth+this.maxWidth)/2};this.penColor=h.penColor||"black";this.backgroundColor=h.backgroundColor||"rgba(0,0,0,0)";this._canvas=b;this._ctx=b.getContext("2d");this.clear();this._mouseButtonDown=!1;b.addEventListener("mousedown",function(a){1===a.which&&(d._mouseButtonDown=
!0,d._reset(),a=d._createPoint(a),d._addPoint(a))});b.addEventListener("mousemove",function(a){d._mouseButtonDown&&(a=d._createPoint(a),d._addPoint(a))});a.addEventListener("mouseup",function(a){if(1===a.which&&d._mouseButtonDown){d._mouseButtonDown=!1;a=2<d.points.length;var b=d.points[0],c=d._ctx,e="function"==typeof d.dotSize?d.dotSize.call(d):d.dotSize;!a&&b&&(c.beginPath(),d._drawPoint(b.x,b.y,e),c.closePath(),c.fill())}});b.addEventListener("touchstart",function(a){d._reset();a=d._createPoint(a.changedTouches[0]);
d._addPoint(a)});b.addEventListener("touchmove",function(a){a.preventDefault();a=d._createPoint(a.changedTouches[0]);d._addPoint(a)});a.addEventListener("touchend",function(a){a=a.target===d._canvas;var b=2<d.points.length,c=d.points[0],e=d._ctx,f="function"==typeof d.dotSize?d.dotSize.call(d):d.dotSize;a&&!b&&c&&(e.beginPath(),d._drawPoint(c.x,c.y,f),e.closePath(),e.fill())})};d.prototype.clear=function(){var a=this._ctx,b=this._canvas;a.fillStyle=this.backgroundColor;a.clearRect(0,0,b.width,b.height);
a.fillRect(0,0,b.width,b.height);this._reset()};d.prototype.toDataURL=function(){var a=this._canvas;return a.toDataURL.apply(a,arguments)};d.prototype.fromDataURL=function(a){var b=new Image;b.src=a;this._ctx.drawImage(b,0,0,this._canvas.width,this._canvas.height)};d.prototype.isEmpty=function(){return this._isEmpty};d.prototype._reset=function(){this.points=[];this._lastVelocity=0;this._lastWidth=(this.minWidth+this.maxWidth)/2;this._isEmpty=!0;this._ctx.fillStyle=this.penColor};d.prototype._createPoint=
function(a){var b=this._canvas.getBoundingClientRect();return new c(a.clientX-b.left,a.clientY-b.top)};d.prototype._addPoint=function(a){var c,d,h,l,n=this.points;n.push(a);2<n.length&&(3===n.length&&n.unshift(n[0]),l=this._calculateCurveControlPoints(n[0],n[1],n[2]),c=l.c2,l=this._calculateCurveControlPoints(n[1],n[2],n[3]),d=l.c1,h=new b(n[1],c,d,n[2]),this._addCurve(h),n.shift())};d.prototype._calculateCurveControlPoints=function(a,b,d){var h=a.x-b.x,l=a.y-b.y,n=b.x-d.x,r=b.y-d.y,t=(a.x+b.x)/2;
a=(a.y+b.y)/2;var s=(b.x+d.x)/2;d=(b.y+d.y)/2;h=Math.sqrt(h*h+l*l);n=Math.sqrt(n*n+r*r);r=n/(h+n);n=b.x-(s+(t-s)*r);b=b.y-(d+(a-d)*r);return{c1:new c(t+n,a+b),c2:new c(s+n,d+b)}};d.prototype._addCurve=function(a){var b,c;b=a.endPoint.velocityFrom(a.startPoint);b=this.velocityFilterWeight*b+(1-this.velocityFilterWeight)*this._lastVelocity;c=this._strokeWidth(b);this._drawCurve(a,this._lastWidth,c);this._lastVelocity=b;this._lastWidth=c};d.prototype._drawPoint=function(a,b,c){var d=this._ctx;d.moveTo(a,
b);d.arc(a,b,c,0,2*Math.PI,!1);this._isEmpty=!1};d.prototype._drawCurve=function(a,b,c){var d,l,n,r,t,s,p,w,v=this._ctx,D=c-b;c=Math.floor(a.length());v.beginPath();for(l=0;c>l;l++)d=l/c,n=d*d,r=n*d,t=1-d,s=t*t,p=s*t,w=p*a.startPoint.x,w+=3*s*d*a.control1.x,w+=3*t*n*a.control2.x,w+=r*a.endPoint.x,p*=a.startPoint.y,p+=3*s*d*a.control1.y,p+=3*t*n*a.control2.y,p+=r*a.endPoint.y,d=b+r*D,this._drawPoint(w,p,d);v.closePath();v.fill()};d.prototype._strokeWidth=function(a){return Math.max(this.maxWidth/(a+
1),this.minWidth)};var c=function(a,b,c){this.x=a;this.y=b;this.time=c||(new Date).getTime()};c.prototype.velocityFrom=function(a){return this.distanceTo(a)/(this.time-a.time)};c.prototype.distanceTo=function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))};var b=function(a,b,c,d){this.startPoint=a;this.control1=b;this.control2=c;this.endPoint=d};return b.prototype.length=function(){var a,b,c,d,l,n,r,t=0;for(a=0;10>=a;a++)b=a/10,c=this._point(b,this.startPoint.x,this.control1.x,
this.control2.x,this.endPoint.x),b=this._point(b,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),0<a&&(n=c-d,r=b-l,t+=Math.sqrt(n*n+r*r)),d=c,l=b;return t},b.prototype._point=function(a,b,c,d,l){return b*(1-a)*(1-a)*(1-a)+3*c*(1-a)*(1-a)*a+3*d*(1-a)*a*a+l*a*a*a},d}(document),Sketch=new Tool("Sketch");
Sketch.on("ready",function(){$("#SketchCanvas").attr("width",$(window).width()).attr("height",$(window).height());var a=document.querySelector("#SketchCanvas");Sketch.signaturePad=new SignaturePad(a)});Sketch.save=function(){var a=prompt("Enter a filename","untitled.png");if(!a)return!0;var d=Sketch.signaturePad.toDataURL("png"),d=d.replace("data:image/png;base64,","");expressfs.writeFileBase64(a,d,function(){Alerts.success('Saved <a href="'+a+"?"+(new Date).getTime()+'" target="published">'+a+"</a>")})};
var Stats=new Tool("Stats");Stats.htmlPages=[];Stats.hits={};Stats.compute=function(){Stats.hits={};expressfs.readFile("nudgepad/requests.log.txt",function(a){a.split(/\n/g).forEach(function(a,c){var b=a.split(/ /g);if(!b[1])return!0;"/"===b[1]&&(b[1]="/index.html");var e=b[1].substr(1);Stats.hits[e]?Stats.hits[e].push(b[0]):Stats.hits[e]=[b[0]]});Stats.trigger("pages")})};
Stats.downloadPages=function(){Stats.htmlPages=[];expressfs.readdir("",function(a){a.forEach(function(a,c){a.match(/\.html$/)&&Stats.htmlPages.push(a)})})};Stats.on("once",Stats.downloadPages);Stats.on("once",Stats.compute);Stats.sortByHits=function(){Stats.htmlPages.sort(function(a,d){var c=Stats.hits[a]?Stats.hits[a].length:0,b=Stats.hits[d]?Stats.hits[d].length:0;if(b>c)return 1;if(b<c)return-1;if(b==c)return d>a})};
Stats.renderStats=function(){Stats.sortByHits();$("#OpenTool #StatsContainer").html("");var a='<div class="row">',d=0;Stats.htmlPages.forEach(function(c,b){0<d&&0===d%3&&(a+='</div><div class="row">');a+=Stats.toButton(c);d++});0!==(d+1)%3&&(a+="</div>");$("#OpenTool #StatsContainer").append(a);Stats.heights()};Stats.on("pages",Stats.renderStats);Stats.heights=function(){var a=0;$(".jumbotron").css("height","auto");$(".jumbotron").each(function(){$(this).height()>a&&(a=$(this).height())}).height(a)};
Stats.toButton=function(a){var d="",d=Stats.hits[a]?Stats.hits[a].length+" Views. ":"0 Views.";return'<div class="col-md-4"><div class="jumbotron cursor HomeBtn" onclick="window.open(\''+a+"', 'published')\" style=\"text-align: center;\">      <h1></h1><h2>"+a+"</h2>      <p>"+d+"</p>  </div></div>"};Stats.on("ready",function(){Stats.renderStats();$(window).on("resize",Stats.heights)});Stats.on("close",function(){$(window).off("resize",Stats.heights)});var Team=new Tool("Team");
Team.on("ready",function(){$("#TeamMyEmail").html(Cookie.email+' <b class="caret"></b>');Team.refresh()});Team.invite=function(){var a=$("#TeamEmail").val();$.post("/nudgepad.invite",{emails:a},function(a){Alerts.success("Invites Sent");Team.refresh();mixpanel.track("I invited people")})};
Team.refresh=function(){$("#TeamCurrent").html("");expressfs.downloadDirectory("nudgepad/team/",null,function(a){(new Space(a)).each(function(a,c){var b=a.replace(/\.space/,"");$("#TeamCurrent").append('<li><i class="icon-li icon-user"></i>'+b+"</li>")})})};
Team.updateEmail=function(){var a=prompt("Update your new email address",Cookie.email);if(!a||a===Cookie.email)return!0;if(!Team.validateEmail(a))return Alerts.error("Invalid Email");$.post("/nudgepad.updateEmail",{email:a},function(){nudgepad.warnBeforeReload=!1;document.location="/nudgepad?tool=Home"})};Team.validateEmail=function(a){return/\S+@\S+\.\S+/.test(a)};var Templates=new Tool("Templates");
Templates.import=function(){var a=$(".item.active").attr("data-url");$.post("/nudgepad.proxyZip",{url:a},function(d){Alerts.success("Imported "+a)})};
Templates.on("ready",function(){var a=$("#TemplatesSlide").html();(new Space($("#TemplatesList").html())).each(function(d,c){var b=a.replace(/SCREENSHOT/,c.get("screenshot")).replace(/TITLE/,c.get("title")).replace(/URL/,c.get("url")).replace(/DESCRIPTION/,c.get("description"));$("#TemplatesChoices").append(b)});$(".item").first().addClass("active");$(".carousel").carousel({interval:!1})});var Time=new Tool("Time");Time.timesheet=new Space;Time.timesheetFile="nudgepad/time/"+Cookie.email+".space";
Time.on("once",function(){expressfs.mkdir("nudgepad/time")});Time.map=function(a,d){var c=d.split(/ /g),b={},e=a.split(/ /g);c.forEach(function(a,c){b[e[c]]=a});return b};
Time.refresh=function(){expressfs.readFile(Time.timesheetFile,function(a){if(!a)return!0;Time.timesheet=new Space(a);var d=0,c={};Time.timesheet.each(function(a,b){var e=Time.map("tool ms",b);d+=parseFloat(e.ms);c[e.tool]||(c[e.tool]=0);c[e.tool]+=parseFloat(e.ms)});var b=moment.duration(d);b.add(moment.duration(1,"s"));a="0"+b.hours();var e="0"+b.minutes(),b="0"+b.seconds();$("#TimeElapsed").val(a.slice(-2)+":"+e.slice(-2)+":"+b.slice(-2));$("#TimeTimesheet").html("Total time: "+moment.duration(d).humanize()+
"\n");(new Space(c)).each(function(a,b){$("#TimeTimesheet").append(a+" "+moment.duration(b).humanize()+"\n")})})};Time.on("open",Time.refresh);var ToolInfo=new Space("backup\n js backup.js\n html backup.html\n css backup.css\n version 0.1\n author Breck Yunits\n email breck@nudgepad.com\n description Backup your project.\n icon save\nblog\n name Blog\n html blog.html\n js blog.js\n author Breck Yunits\n email breck@nudgepad.com\n description Add a blog to your project.\n icon file-text-alt\nbuilder\n js builder.js\n html builder.html\n css builder.css\n author Breck Yunits\n email breck@nudgepad.com\n icon edit\n description Create new web pages.\nclone\n html tool.html\n js tool.js\n author Breck Yunits\n email breck@nudgepad.com\n description Clone your project to a new domain or server.\n icon copy\ncrawler\n js tool.js\n html tool.html\n css tool.css\n author Breck Yunits\n email breck@nudgepad.com\n description Crawl existing webpages.\n icon cloud-download\nfiddle\n js fiddle.js\n html fiddle.html\n css fiddle.css\n author Breck Yunits\n email breck@nudgepad.com\n icon keyboard\n description Transform data\nfiles\n html tool.html\n js files.js dragAndDrop.js\n css tool.css\n author Breck Yunits\n email breck@nudgepad.com\n icon file-alt\n description View and edit the files of your project.\nflickr\n js tool.js\n html tool.html\n author Breck Yunits\n email breck@nudgepad.com\n icon camera\n description Import photos from Flickr.\ngit\n name Git\n html tool.html\n js git.js\n css tool.css\n author Breck Yunits\n email breck@nudgepad.com\n description Quick access to Git commands.\n icon github\nhome\n html home.html\n js home.js\n css home.css\n author Breck Yunits\n email breck@nudgepad.com\n description Launch other tools.\n icon home\ninsight\n js Insight.js View.js Record.js Database.js ondrop.js\n html insight.html\n css insight.css\n author Breck Yunits\n email breck@nudgepad.com\n icon plane\n description The first step to understand your data is to see it.\nlabs\n html labs.html\n js labs.js\n css labs.css\n author Breck Yunits\n email breck@nudgepad.com\n description Launch experimental tools.\n icon beaker\nlayout\n html tool.html\n js tool.js getElementsByLine.js\n css tool.css\n author Breck Yunits\n email breck@nudgepad.com\n description Layout pages quickly.\n icon th\npages\n js pages.js Page.js\n html pages.html\n css pages.css\n author Breck Yunits\n email breck@nudgepad.com\n icon edit\n description Update text on your web pages.\nredirect\n html redirect.html\n js redirect.js\n css redirect.css\n author Breck Yunits\n email breck@nudgepad.com\n icon random\n description Manage URL redirects for your project.\nserver\n html server.html\n js server.js\n css server.css\n author Breck Yunits\n email breck@nudgepad.com\n icon terminal\n description Manage your project's web server.\nshare\n js tool.js\n html share.html\n css tool.css\n author Breck Yunits\n email breck@nudgepad.com\n icon share\n description Share your project for others to remix.\nsketch\n html tool.html\n js signature_pad.min.js tool.js\n css tool.css\n author Breck Yunits\n email breck@nudgepad.com\n icon pencil\n description Share your project for others to remix.\nstats\n html stats.html\n js stats.js\n author Breck Yunits\n email breck@nudgepad.com\n description See page view stats.\n icon globe\nteam\n name Team\n html tool.html\n js tool.js\n css tool.css\n author Breck Yunits\n email breck@nudgepad.com\n icon user\n description Invite people to work on your project.\ntemplates\n js templates.js\n html templates.html list.html\n author Breck Yunits\n email breck@nudgepad.com\n icon picture\n description Start your project off with a Template.\ntime\n js tool.js\n html tool.html\n css tool.css\n author Breck Yunits\n email breck@nudgepad.com\n icon time\n description Track your time spent on this project.\n");
